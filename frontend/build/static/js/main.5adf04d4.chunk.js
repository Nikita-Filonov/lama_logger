(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{187:function(e){e.exports=JSON.parse("{\"logger\":\"from utils.logger import LamaLogger\\n\\nlogger = LamaLogger(token='<your_token>', project_id=<project_id>)\",\"methods\":\"def link_pattern(request_id):\\n    request_link = logger.endpoint + f'/projects/{logger.project_id}/?requestId={request_id}'\\n    return f'<head></head><body><a href=\\\"{request_link}\\\" target=\\\"_blank\\\">{request_link}</a></body>'\\n\\n\\ndef response_middleware(response):\\n    request_id = str(uuid.uuid4())\\n    setattr(response, 'request_id', request_id)\\n    allure.attach(link_pattern(request_id), 'Logs', allure.attachment_type.HTML)\\n    logger(response)\\n\\n\\ndef get(url, params=None, **kwargs):\\n    response = requests.get(url, params=params, stream=True, **kwargs)\\n    response_middleware(response)\\n    return response\\n\\n\\ndef post(url, data=None, json=None, **kwargs):\\n    response = requests.post(url, data=data, json=json, stream=True, **kwargs)\\n    response_middleware(response)\\n    return response\\n\\n\\ndef patch(url, data=None, **kwargs):\\n    response = requests.patch(url, data=data, stream=True, **kwargs)\\n    response_middleware(response)\\n    return response\\n\\n\\ndef put(url, data=None, **kwargs):\\n    response = requests.put(url, data=data, stream=True, **kwargs)\\n    response_middleware(response)\\n    return response\\n\\n\\ndef delete(url, **kwargs):\\n    response = requests.delete(url, stream=True, **kwargs)\\n    response_middleware(response)\\n    return response\",\"sdk\":\"import json\\nimport os\\nimport threading\\n\\nimport requests\\nfrom requests import Response\\n\\nAPI_VERSION = 'v1'\\nLOGGER_ENDPOINT = os.environ.get('LAMA_LOGGER_ENDPOINT', 'http://localhost:8000')\\n\\n\\nclass LamaLogger:\\n    endpoint = LOGGER_ENDPOINT\\n    api = f'{LOGGER_ENDPOINT}/api/{API_VERSION}'\\n\\n    def __init__(self, token, project_id):\\n        self._token = token\\n        self.project_id = project_id\\n\\n    def __call__(self, response: Response):\\n        thread = threading.Thread(target=self.__send_logs, args=(response,))\\n        thread.start()\\n\\n    @property\\n    def __headers(self):\\n        return {\\n            'Content-Type': 'application/json',\\n            'Authorization': f'Token {self._token}'\\n        }\\n\\n    @staticmethod\\n    def __to_payload(response: Response) -> dict:\\n        try:\\n            response_body = response.json()\\n        except json.decoder.JSONDecodeError:\\n            response_body = response.content.decode('utf-8')\\n\\n        return {\\n            'requestId': response.request_id,\\n            'method': response.request.method,\\n            'requestUrl': response.request.url,\\n            'requestHeaders': dict(response.request.headers),\\n            'requestBody': response.request.body,\\n            'statusCode': response.status_code,\\n            'responseBody': json.dumps(response_body),\\n            'responseHeaders': dict(response.headers),\\n        }\\n\\n    def __send_logs(self, response: Response):\\n        payload = self.__to_payload(response)\\n        requests.post(\\n            self.api + f'/projects/{self.project_id}/requests/create/',\\n            data=json.dumps(payload),\\n            headers=self.__headers\\n        )\"}")},280:function(e,t,n){},621:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(65),c=n.n(s),i=(n(279),n(280),n(11)),o=n(24),l=n(37),u=n(78),d=n(17),j=n(4),b=n(187),p=n(217),O=n.n(p),h=function(e,t){return e.replace(/[0-9]+/,t)},f="https://lama-logger.herokuapp.com/",m=[{path:"/projects/:projectId",breadcrumb:function(e){var t,n,r=e.match;return(null===(t=JSON.parse(localStorage.getItem("project")))||void 0===t?void 0:t.title)||(null===r||void 0===r||null===(n=r.params)||void 0===n?void 0:n.projectId)}},{path:"/projects/:projectId/stats",breadcrumb:"Stats"},{path:"/projects/:projectId/tracks",breadcrumb:"Tracks"},{path:"/projects/:projectId/tracks/:trackId",breadcrumb:function(e){var t,n,r=e.match;return(null===(t=JSON.parse(localStorage.getItem("track")))||void 0===t?void 0:t.endpoint)||(null===r||void 0===r||null===(n=r.params)||void 0===n?void 0:n.trackId)}},{path:"/projects/:projectId/requests",breadcrumb:"Requests"},{path:"/projects/:projectId/settings",breadcrumb:"Settings"},{path:"/projects/:projectId/requests/send",breadcrumb:"Send"},{path:"/projects/:projectId/settings/general",breadcrumb:"General"},{path:"/projects/:projectId/settings/members",breadcrumb:"Members"},{path:"/projects/:projectId/settings/roles",breadcrumb:"Roles"},{path:"/projects/:projectId/settings/inbound",breadcrumb:"Inbound Data"},{path:"/projects/:projectId/settings/integrations",breadcrumb:"Integrations"},{path:"/projects/:projectId/settings/filters",breadcrumb:"Filters"},{path:"/projects/:projectId/settings/realtime",breadcrumb:"Realtime"},{path:"/projects/:projectId/settings/activities",breadcrumb:"Activities"},{path:"/projects/:projectId/settings/patterns",breadcrumb:"Patterns"},{path:"/projects/:projectId/settings/notifications",breadcrumb:"Notifications"},{path:"/projects/:projectId/settings/tasks",breadcrumb:"Tasks"},{path:"/projects",breadcrumb:"Projects"},{path:"/user",breadcrumb:"User"},{path:"/user/profile",breadcrumb:"Profile"},{path:"/user/tokens",breadcrumb:"Tokens"},{path:"/integrations",breadcrumb:"Integrations"},{path:"/integrations/:language",breadcrumb:function(e){var t,n=e.match;return O()(null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.language)}},{path:"/settings/theme",breadcrumb:"Theme"},{path:"/settings/json-editor",breadcrumb:"Json editor"}],v=["/projects/:projectId","/projects/:projectId/stats","/projects/:projectId/tracks","/projects/:projectId/tracks/:trackId","/projects/:projectId/requests","/projects/:projectId/settings","/projects/:projectId/requests/send","/projects/:projectId/settings/general","/projects/:projectId/settings/members","/projects/:projectId/settings/roles","/projects/:projectId/settings/inbound"],x=[{label:"Seconds",unit:"seconds"},{label:"Minutes",unit:"minutes"},{label:"Hours",unit:"hours"},{label:"Days",unit:"days"},{label:"Months",unit:"months"}],g=["GET","POST","PUT","PATCH","DELETE"],y={success:[100,101,200,201,202,203,204,205,206,208,226],redirect:[300,301,302,303,304,305,306,307,308],error:[400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,418,422,423,424,426,428,429,431,451,500,501,502,503,504,505,506,507,508,509,510,511]},w={methods:["GET","POST","PUT","PATCH","DELETE"],statusCodes:y,time:{type:"interval",interval:{amount:5,unit:"hours",prev:"prev"},range:{start:null,end:null}},domain:null,headers:[],body:{responseBody:null,requestBody:null}},k=[{value:"success",code:200},{value:"redirect",code:300},{value:"error",code:400}],C=[{label:"Requests",inst:"Request"},{label:"Projects",inst:"Project"},{label:"Members",inst:"Member"},{label:"Roles",inst:"Role"},{label:"Tasks",inst:"ProjectTask"},{label:"Project settings",inst:"ProjectSettings"},{label:"Requests filters",inst:"RequestsFilter"},{label:"Tracks",inst:"Track"},{label:"Services",inst:"Service"},{label:"Activity",inst:"ServiceActivity"},{label:"Tracked requests",inst:"TrackRequest"}],S=[{language:"python",image:f+"static/images/languages/python.png",label:"Python",template:b},{language:"javascript",image:f+"static/images/languages/javascript.png",label:"Javascript",template:b},{language:"csharp",image:f+"static/images/languages/csharp.png",label:"C#",template:b}],q=[{task:"core.projects.tasks.cleaners.clear_requests",label:"Clear requests"}],R={GET:"#61AFFE",POST:"#49CC90",PUT:"#FCA130",PATCH:"#50E3C2",DELETE:"#F93E3E",OPTIONS:"#F400A3",HEAD:"#0048BA"},T=["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"],N={project:JSON.parse(localStorage.getItem("project"))||{members:[]},projects:[],projectSettings:{filterStatusCodes:y,filterMethods:g,trackPatterns:[]}},E="SET_PROJECTS",I="SET_PROJECT",P="CREATE_PROJECT",A="UPDATE_PROJECT",M="DELETE_PROJECT",F="SET_PROJECT_SETTINGS",z={request:JSON.parse(localStorage.getItem("request"))||{},requests:{count:0,next:null,previous:null,results:[]},savedRequestsFilters:[],requestsFilters:JSON.parse(localStorage.getItem("requestsFilters"))||w,requestsPagination:{page:0,rowsPerPage:localStorage.getItem("rowsPerPageRequests")||25},requestsStatsFilters:{},selectedRequests:[],requestsFiltersSidebar:"false"!==localStorage.getItem("requestsFiltersSidebar"),requestsTimeFilterModal:!1,requestsRealtime:JSON.parse(localStorage.getItem("requestsRealtime"))||{unit:"seconds",amount:10,normalizedAmount:10,enabled:!1}},_="SET_REQUESTS",L="SET_REQUEST",H="DELETE_REQUESTS",W="SET_REQUESTS_FILTERS",D="SET_SELECTED_REQUESTS",U="SET_REQUESTS_REALTIME",B="SET_REQUESTS_PAGINATION",J="SET_REQUESTS_FILTERS_SIDEBAR",Y="SET_REQUESTS_TIME_FILTER_MODAL",G="SET_REQUESTS_STATS_FILTERS",V="SET_SAVED_REQUESTS_FILTERS",Q="CREATE_SAVED_REQUESTS_FILTER",K="DELETE_SAVED_REQUESTS_FILTER",X={user:{email:"",username:""},drawer:!1,theme:localStorage.getItem("theme")||"light",userSettings:JSON.parse(localStorage.getItem("userSettings"))||{jsonEditor:{tabSize:2,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,showGutter:!0,highlightActiveLine:!0},skeletonAnimation:"wave"},confirmAction:{modal:!1,title:null,description:null,confirmButton:null,action:null},viewMode:JSON.parse(localStorage.getItem("viewMode"))||{requests:"accordion",trackRequests:"accordion"}},$="SET_USER",Z="SET_USER_SETTINGS",ee="SET_THEME",te="SET_DRAWER",ne="SET_CONFIRM_ACTION",re="SET_VIEW_MODE",ae={role:{name:"",scope:C.map((function(e){return"".concat(e.inst,".View")})),description:"",editMode:!1},selectedMembers:[],selectedRoles:[],periodicTask:{interval:{every:5,period:"hours"},name:"",description:"",task:""},inviteMemberModal:!1,createRoleModal:!1,createTaskModal:!1},se="SET_ROLE",ce="SET_PERIODIC_TASK",ie="SET_SELECTED_MEMBERS",oe="SET_SELECTED_ROLES",le="SET_INVITE_MEMBER_MODAL",ue="SET_CREATE_ROLE_MODAL",de="SET_CREATE_TASK_MODAL",je=n(6),be={activities:[],activity:{},service:{},track:JSON.parse(localStorage.getItem("track"))||{},trackRequests:[],createTrackModal:!1,changeActivityModal:!1},pe="SET_ACTIVITIES",Oe="SET_ACTIVITY",he="CREATE_ACTIVITY",fe="MOVE_ACTIVITY",me="DELETE_ACTIVITY",ve="UPDATE_ACTIVITY",xe="CREATE_SERVICE",ge="MOVE_SERVICE",ye="SET_SERVICE",we="SET_TRACK",ke="CREATE_TRACK",Ce="SET_TRACK_REQUESTS",Se="SET_CREATE_TRACK_MODAL",qe="SET_CHANGE_ACTIVITY_MODAL",Re={customRequests:{count:0,next:null,previous:null,results:[]},customRequestsHistory:{count:0,next:null,previous:null,results:[]},customRequestsHistoryPagination:{page:0,rowsPerPage:25},customRequest:JSON.parse(localStorage.getItem("customRequest"))||{requestId:null,requestHeaders:[],queryParams:[],requestBody:null,requestUrl:null,responseHeaders:{},responseBody:null},customRequestError:{level:"error",data:null}},Te="SET_CUSTOM_REQUESTS",Ne="SET_CUSTOM_REQUEST",Ee="CREATE_CUSTOM_REQUEST",Ie="UPDATE_CUSTOM_REQUEST",Pe="DELETE_CUSTOM_REQUEST",Ae="SET_CUSTOM_REQUEST_ERROR",Me="SET_CUSTOM_REQUESTS_HISTORY",Fe="CREATE_CUSTOM_REQUESTS_HISTORY",ze="SET_CUSTOM_REQUEST_HISTORY_PAGINATION",_e=n(3),Le=n.n(_e),He=n(7),We=n(690),De=n(72),Ue=n.n(De),Be=n(0),Je=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},Ge=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("seconds"!==t){e.next=2;break}return e.abrupt("return",n);case 2:if("minutes"!==t){e.next=4;break}return e.abrupt("return",60*n);case 4:if("hours"!==t){e.next=6;break}return e.abrupt("return",60*n*60);case 6:if("days"!==t){e.next=8;break}return e.abrupt("return",60*n*60*24);case 8:if("months"!==t){e.next=10;break}return e.abrupt("return",60*n*60*24*30);case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n,r=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:["meta"],e.abrupt("return",Ue.a.isEmpty(t)?"":"?"+Object.keys(t).map((function(e){return n.includes(e)?"":"".concat(e,"=").concat(t[e],"&")})).join(""));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(He.a)(Le.a.mark((function e(t,n,r,a){var s;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(j.a)(Object(j.a)({},t),{},{limit:n||localStorage.getItem("rowsPerPage".concat(a)),offset:r||0}),e.next=3,Ve(s);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ke=Object(r.forwardRef)((function(e,t){return Object(Be.jsx)(We.a,Object(j.a)({direction:"up",ref:t},e))})),Xe=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n,r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return n=t.split("?")[1],r=new URLSearchParams(n),e.abrupt("return",Object.fromEntries(r.entries()));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=n(49),Ze=n.n($e),et=Object(u.c)({projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case E:return Object(j.a)(Object(j.a)({},e),{},{projects:t.payload});case I:return localStorage.setItem("project",JSON.stringify(t.payload)),Object(j.a)(Object(j.a)({},e),{},{project:Object(j.a)({},t.payload)});case P:return Object(j.a)(Object(j.a)({},e),{},{projects:[].concat(Object(d.a)(e.projects),[t.payload])});case A:return Object(j.a)(Object(j.a)({},e),{},{projects:e.projects.map((function(e){return e.id===t.payload.id?t.payload:e}))});case M:return Object(j.a)(Object(j.a)({},e),{},{projects:e.projects.filter((function(e){return e.id!==t.payload}))});case F:return Object(j.a)(Object(j.a)({},e),{},{projectSettings:t.payload});default:return e}},requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case _:return Object(j.a)(Object(j.a)({},e),{},{requests:t.payload});case L:return localStorage.setItem("request",JSON.stringify(t.payload)),Object(j.a)(Object(j.a)({},e),{},{request:t.payload});case W:return localStorage.setItem("requestsFilters",JSON.stringify(t.payload)),Object(j.a)(Object(j.a)({},e),{},{requestsFilters:t.payload});case B:return Object(j.a)(Object(j.a)({},e),{},{requestsPagination:t.payload});case H:var n=e.requests.results.filter((function(e){return!t.payload.includes(e.requestId)}));return Object(j.a)(Object(j.a)({},e),{},{requests:Object(j.a)(Object(j.a)({},e.requests),{},{results:n})});case D:var r=t.payload.isSelected,a=t.payload.requestId;return a?r?Object(j.a)(Object(j.a)({},e),{},{selectedRequests:Object(d.a)(e.selectedRequests.filter((function(e){return e!==a})))}):Object(j.a)(Object(j.a)({},e),{},{selectedRequests:[].concat(Object(d.a)(e.selectedRequests),[a])}):Object(j.a)(Object(j.a)({},e),{},{selectedRequests:t.payload});case J:return localStorage.setItem("requestsFiltersSidebar",JSON.stringify(t.payload)),Object(j.a)(Object(j.a)({},e),{},{requestsFiltersSidebar:t.payload});case Y:return Object(j.a)(Object(j.a)({},e),{},{requestsTimeFilterModal:t.payload});case U:return localStorage.setItem("requestsRealtime",JSON.stringify(t.payload)),Object(j.a)(Object(j.a)({},e),{},{requestsRealtime:t.payload});case G:return Object(j.a)(Object(j.a)({},e),{},{requestsStatsFilters:t.payload});case V:return Object(j.a)(Object(j.a)({},e),{},{savedRequestsFilters:t.payload});case Q:return Object(j.a)(Object(j.a)({},e),{},{savedRequestsFilters:[].concat(Object(d.a)(e.savedRequestsFilters),[t.payload])});case K:var s=t.payload.filterId;return Object(j.a)(Object(j.a)({},e),{},{savedRequestsFilters:e.savedRequestsFilters.filter((function(e){return e.id!==s}))});default:return e}},customRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Te:return Object(j.a)(Object(j.a)({},e),{},{customRequests:t.payload});case Ne:return localStorage.setItem("customRequest",JSON.stringify(t.payload)),Object(j.a)(Object(j.a)({},e),{},{customRequest:t.payload});case Ae:return Object(j.a)(Object(j.a)({},e),{},{customRequestError:t.payload});case Ee:return Object(j.a)(Object(j.a)({},e),{},{customRequests:Object(j.a)(Object(j.a)({},e.customRequests),{},{count:++e.customRequests.count,results:[].concat(Object(d.a)(e.customRequests.results),[t.payload])})});case Ie:var n=t.payload,r=n.requestId,a=n.payload;return Object(j.a)(Object(j.a)({},e),{},{customRequests:Object(j.a)(Object(j.a)({},e.customRequests),{},{results:e.customRequests.results.map((function(e){return e.requestId===r?a:e}))})});case Pe:var s=t.payload.requestId,c=e.customRequests.results.filter((function(e){return e.requestId!==s}));return Object(j.a)(Object(j.a)({},e),{},{customRequests:Object(j.a)(Object(j.a)({},e.customRequests),{},{results:c})});case Me:return Object(j.a)(Object(j.a)({},e),{},{customRequestsHistory:t.payload});case Fe:var i=t.payload.created,o=e.customRequestsHistory.results,l=o.find((function(e){return Ze()(e.created).isSame(i,"day")}));return o=l?o.map((function(e){return l.id===e.id?Object(j.a)(Object(j.a)({},e),{},{data:[t.payload].concat(Object(d.a)(e.data))}):e})):[{id:Ye(),created:Ze()(i).format("YYYY-MM-DD")+"T00:00:00Z",data:[t.payload]}].concat(Object(d.a)(o)),Object(j.a)(Object(j.a)({},e),{},{count:++e.customRequestsHistory.count,customRequestsHistory:Object(j.a)(Object(j.a)({},e.customRequestsHistory),{},{results:o})});case ze:return Object(j.a)(Object(j.a)({},e),{},{customRequestsHistoryPagination:t.payload});default:return e}},requestsSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ie:var n=t.payload.isSelected,r=t.payload.memberId;return r?n?Object(j.a)(Object(j.a)({},e),{},{selectedMembers:Object(d.a)(e.selectedMembers.filter((function(e){return e!==r})))}):Object(j.a)(Object(j.a)({},e),{},{selectedMembers:[].concat(Object(d.a)(e.selectedMembers),[r])}):Object(j.a)(Object(j.a)({},e),{},{selectedMembers:t.payload});case oe:var a=t.payload.isSelected,s=t.payload.roleId;return s?a?Object(j.a)(Object(j.a)({},e),{},{selectedRoles:Object(d.a)(e.selectedRoles.filter((function(e){return e!==s})))}):Object(j.a)(Object(j.a)({},e),{},{selectedRoles:[].concat(Object(d.a)(e.selectedRoles),[s])}):Object(j.a)(Object(j.a)({},e),{},{selectedRoles:t.payload});case le:return Object(j.a)(Object(j.a)({},e),{},{inviteMemberModal:t.payload});case ue:return Object(j.a)(Object(j.a)({},e),{},{createRoleModal:t.payload});case de:return Object(j.a)(Object(j.a)({},e),{},{createTaskModal:t.payload});case se:return Object(j.a)(Object(j.a)({},e),{},{role:t.payload});case ce:return Object(j.a)(Object(j.a)({},e),{},{periodicTask:t.payload});default:return e}},tracks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case pe:return Object(j.a)(Object(j.a)({},e),{},{activities:t.payload});case Oe:return Object(j.a)(Object(j.a)({},e),{},{activity:t.payload});case he:return Object(j.a)(Object(j.a)({},e),{},{activities:[].concat(Object(d.a)(e.activities),[t.payload])});case fe:var n=t.payload,r=n.indexFrom,a=n.indexTo,s=Object(d.a)(e.activities),c=s.splice(r,1),i=Object(je.a)(c,1),o=i[0];return s.splice(a,0,o),Object(j.a)(Object(j.a)({},e),{},{activities:s});case me:var l=t.payload.activityId;return Object(j.a)(Object(j.a)({},e),{},{activities:e.activities.filter((function(e){return e.id!==l}))});case xe:var u=t.payload.activityId;return Object(j.a)(Object(j.a)({},e),{},{activities:e.activities.map((function(e){return e.id===u?Object(j.a)(Object(j.a)({},e),{},{services:[].concat(Object(d.a)(e.services),[t.payload.service])}):e}))});case ve:return Object(j.a)(Object(j.a)({},e),{},{activities:e.activities.map((function(e){return e.id===t.payload.id?t.payload:e}))});case ge:var b=t.payload,p=b.activityIdFrom,O=b.activityIdTo,h=b.indexTo,f=b.indexFrom,m=b.service,v=Object(d.a)(e.activities),x=v.find((function(e){return e.id===p}));x.services.splice(f,1);var g=v.find((function(e){return e.id===O}));return g.services.splice(h,0,m),Object(j.a)(Object(j.a)({},e),{},{activities:Object(d.a)(v)});case Se:return Object(j.a)(Object(j.a)({},e),{},{createTrackModal:t.payload});case qe:return Object(j.a)(Object(j.a)({},e),{},{changeActivityModal:t.payload});case ye:return Object(j.a)(Object(j.a)({},e),{},{service:t.payload});case we:return localStorage.setItem("track",JSON.stringify(t.payload)),Object(j.a)(Object(j.a)({},e),{},{track:Object(j.a)({},t.payload)});case ke:var y=t.payload,w=y.serviceId,k=y.track,C=Object(d.a)(e.activities),S=C.find((function(e){return e.services.some((function(e){return e.id===w}))}));return C=C.map((function(e){return e.id===S.id?Object(j.a)(Object(j.a)({},e),{},{services:e.services.map((function(e){return e.id===w?Object(j.a)(Object(j.a)({},e),{},{tracks:[].concat(Object(d.a)(e.tracks),[k])}):e}))}):e})),Object(j.a)(Object(j.a)({},e),{},{activities:Object(d.a)(C)});case Ce:return Object(j.a)(Object(j.a)({},e),{},{trackRequests:t.payload});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ee:return Object(j.a)(Object(j.a)({},e),{},{theme:t.payload});case te:return Object(j.a)(Object(j.a)({},e),{},{drawer:t.payload});case ne:return Object(j.a)(Object(j.a)({},e),{},{confirmAction:t.payload});case $:return localStorage.setItem("user",JSON.stringify(t.payload)),Object(j.a)(Object(j.a)({},e),{},{user:t.payload});case Z:return localStorage.setItem("userSettings",JSON.stringify(t.payload)),Object(j.a)(Object(j.a)({},e),{},{userSettings:t.payload});case re:return localStorage.setItem("viewMode",JSON.stringify(t.payload)),Object(j.a)(Object(j.a)({},e),{},{viewMode:t.payload});default:return e}}}),tt=n(219),nt=n(636),rt=n(248),at=n(692),st=a.a.createContext(null),ct=function(e){var t=e.children,n=Object(r.useRef)(null);return Object(Be.jsx)(st.Provider,{value:{setAlert:function(e){var t=e.message,r=e.level;return n.current.enqueueSnackbar(t,{variant:r})}},children:Object(Be.jsx)(rt.a,{ref:n,maxSnack:5,autoHideDuration:4e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},action:function(e){return Object(Be.jsx)(nt.a,{onClick:function(){return function(e){return n.current.closeSnackbar(e)}(e)},children:Object(Be.jsx)(at.a,{})})},children:t})})},it=function(){var e=Object(r.useContext)(st);if(null==e)throw new Error("useAlerts() called outside of a AlertsProvider?");return e},ot=a.a.createContext(null),lt=function(e){var t=e.children,n=e.store,a=f+"api/v1/user/",s=it().setAlert,c=Object(r.useState)(!1),i=Object(je.a)(c,2),o=i[0],l=i[1],u=Object(r.useState)(null),d=Object(je.a)(u,2),j=d[0],b=d[1];Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){var t;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),b(t),e.t0=j,!e.t0){e.next=6;break}return e.next=6,h();case 6:case"end":return e.stop()}}),e)})))()}),[j]);var p=function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(t),localStorage.setItem("token",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(null),localStorage.removeItem("token");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=Object(r.useCallback)(Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a,{headers:{Authorization:"Token ".concat(j)}}).then((function(e){return e.json()})).then(function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.dispatch({type:$,payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),[j]),m=function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,fetch(a,{method:"PATCH",headers:{Authorization:"Token ".concat(j),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:e.sent.ok?(n.dispatch({type:$,payload:t}),s({message:"Your profile successfully updated",level:"success"})):s({message:"Error happened while updating profile",level:"error"}),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsx)(ot.Provider,{value:{token:j,request:o,onLogin:p,onLogout:O,updateUser:m},children:t})},ut=function(){var e=Object(r.useContext)(ot);if(null==e)throw new Error("useUsers() called outside of a AuthProvider?");return e},dt=n(767),jt=n(693),bt=n(151),pt=n(755),Ot=n(768),ht=n(638),ft=n(637),mt=n(699),vt=n(700),xt=n(765),gt=function(){var e=Object(l.g)(),t=ut().onLogin,n=Object(r.useState)(""),a=Object(je.a)(n,2),s=a[0],c=a[1],i=Object(r.useState)(""),u=Object(je.a)(i,2),d=u[0],j=u[1],b=Object(r.useState)("password"),p=Object(je.a)(b,2),O=p[0],h=p[1],m=Object(r.useState)({}),v=Object(je.a)(m,2),x=v[0],g=v[1],y=function(){var n=Object(He.a)(Le.a.mark((function n(){return Le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(f+"api-token-auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:d})}).then((function(e){return e.json()})).then(function(){var n=Object(He.a)(Le.a.mark((function n(r){return Le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null===r||void 0===r?void 0:r.token)){n.next=6;break}return n.next=3,t(r.token);case 3:e.push("/projects"),n.next=7;break;case 6:g(r);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(Be.jsxs)(dt.a,{maxWidth:"sm",children:[Object(Be.jsx)(jt.a,{}),Object(Be.jsx)("div",{className:"text-center",style:{marginTop:"20%"},children:Object(Be.jsx)(bt.a,{variant:"h5",children:"Lama Logger"})}),Object(Be.jsxs)(pt.a,{container:!0,spacing:2,children:[Object(Be.jsx)(pt.a,{item:!0,xs:2}),Object(Be.jsxs)(pt.a,{item:!0,xs:8,children:[Object(Be.jsx)(Ot.a,{value:s,onChange:function(e){return c(e.target.value)},fullWidth:!0,label:"E-mail",variant:"standard",size:"small",className:"mt-3",error:null===x||void 0===x?void 0:x.username,helperText:null===x||void 0===x?void 0:x.username}),Object(Be.jsx)(Ot.a,{type:O,value:d,onChange:function(e){return j(e.target.value)},fullWidth:!0,label:"Password",variant:"standard",size:"small",className:"mt-3",error:null===x||void 0===x?void 0:x.password,helperText:null===x||void 0===x?void 0:x.password,InputProps:{endAdornment:Object(Be.jsx)(ht.a,{position:"end",children:Object(Be.jsx)(nt.a,{size:"small",onClick:function(){return h("password"===O?"text":"password")},children:"password"===O?Object(Be.jsx)(mt.a,{}):Object(Be.jsx)(vt.a,{})})})}}),Object(Be.jsxs)("div",{className:"mt-2 d-flex",children:[Object(Be.jsx)(xt.a,{underline:"none",component:o.b,to:"/registration",children:"Sign up"}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(xt.a,{underline:"none",component:o.b,to:"/registration",children:"Forgot password?"})]}),Object(Be.jsx)(ft.a,{className:"mt-4",variant:"outlined",fullWidth:!0,onClick:y,children:"Sign in"})]}),Object(Be.jsx)(pt.a,{item:!0,xs:2})]})]})},yt=n(56),wt=function(e){var t=e.component,n=Object(yt.a)(e,["component"]),r=localStorage.getItem("token");return Object(Be.jsx)(l.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return r?Object(Be.jsx)(l.a,{to:{pathname:"/projects",state:{from:e.location}}}):Object(Be.jsx)(t,Object(j.a)({},e))}}))},kt=function(){var e=Object(He.a)(Le.a.mark((function e(t,n,r){var a,s,c,i,o,l,u,d,b=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(b.length>3&&void 0!==b[3])||b[3],s=b.length>4&&void 0!==b[4]?b[4]:{},c=localStorage.getItem("token"),i=!1,l=a?{"Content-Type":"application/json",Authorization:"Token ".concat(c)}:{"Content-Type":"application/json"},u=Object(j.a)(Object(j.a)({method:n||"GET"},s),{},{headers:Object(j.a)(Object(j.a)({},l),s.headers)}),r&&(u.body=JSON.stringify(r)),e.next=9,fetch("".concat(f).concat(t),u);case 9:if(401!==(d=e.sent).status){e.next=12;break}return e.abrupt("return");case 12:return e.prev=12,e.next=15,d.json();case 15:o=e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(12),o=null;case 21:return d.ok||(i=!0),e.abrupt("return",{json:o,error:i});case 23:case"end":return e.stop()}}),e,null,[[12,18]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n,r,a=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(a.length>1&&void 0!==a[1])||a[1],r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,kt(t,"GET",null,n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n,r,a,s=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=!(s.length>2&&void 0!==s[2])||s[2],a=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,kt(t,"POST",n,r,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n,r,a,s=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=!(s.length>2&&void 0!==s[2])||s[2],a=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,kt(t,"PATCH",n,r,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n,r,a,s=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=!(s.length>2&&void 0!==s[2])||s[2],a=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,kt(t,"DELETE",n,r,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tt=a.a.createContext(null),Nt=function(e){var t=e.children,n=e.store,a=Object(l.g)(),s=ut().token,c=it().setAlert,i="api/v1/projects/",o=Object(r.useState)(!0),u=Object(je.a)(o,2),d=u[0],j=u[1],b=Object(r.useState)(!1),p=Object(je.a)(b,2),O=p[0],h=p[1];Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=s,!e.t0){e.next=5;break}return e.next=4,v();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))()}),[s]);var f=function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.dispatch({type:I,payload:t}),n.dispatch({type:A,payload:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n,r,a,s,i=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.json,r=t.error,a=i.length>1&&void 0!==i[1]?i[1]:{},s=i.length>2&&void 0!==i[2]?i[2]:null,r){e.next=9;break}return c(a),e.next=7,f(n);case 7:e.next=10;break;case 9:c(s||n);case 10:h(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Object(r.useCallback)(Object(He.a)(Le.a.mark((function e(){var t,r,a,s=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{archived:"False"},j(!0),e.t0=Ct,e.t1=i,e.next=6,Ve(t);case 6:return e.t2=e.sent,e.t3=e.t1+e.t2,e.next=10,(0,e.t0)(e.t3);case 10:r=e.sent,a=r.json,n.dispatch({type:E,payload:a}),j(!1);case 14:case"end":return e.stop()}}),e)}))),[s]),x=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,s,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Ct(i+"".concat(t,"/"));case 3:r=e.sent,s=r.json,!(o=r.error)&&n.dispatch({type:I,payload:s}),o&&c(s),o&&a.push("/projects"),j(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,a,s;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,St(i,t);case 3:r=e.sent,a=r.json,!(s=r.error)&&n.dispatch({type:P,payload:a}),c(s?a:{message:"Project successfully created",level:"success"}),h(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){var r,a,s=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!(r=s.length>2&&void 0!==s[2]&&s[2])&&h(!0),e.next=4,qt(i+"".concat(t,"/"),n);case 4:if(a=e.sent,e.t0=!r,!e.t0){e.next=9;break}return e.next=9,m(a,{message:"Project successfully updated",level:"success"});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){var r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,St(i+"".concat(t,"/members/"),n);case 3:return r=e.sent,e.next=6,m(r,{message:"Member was invited to project",level:"success"});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(He.a)(Le.a.mark((function e(t,n,r){var a,s=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!(s.length>3&&void 0!==s[3]&&s[3])&&h(!0),e.next=4,qt(i+"".concat(t,"/members/").concat(n,"/"),r);case 4:return a=e.sent,e.next=7,m(a,{message:"Member was updated",level:"success"},{message:"An error occurred while updating member",level:"error"});case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),C=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){var r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Rt(i+"".concat(t,"/members/"),n);case 3:return r=e.sent,e.next=6,m(r,{message:"Members were deleted",level:"success"});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){var r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,St(i+"".concat(t,"/roles/"),n);case 3:return r=e.sent,e.next=6,m(r,{message:"Role was created",level:"success"});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(He.a)(Le.a.mark((function e(t,n,r){var a,s=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!(s.length>3&&void 0!==s[3]&&s[3])&&h(!0),e.next=4,qt(i+"".concat(t,"/roles/").concat(n,"/"),r);case 4:return a=e.sent,e.next=7,m(a,{message:"Role was updated",level:"success"},{message:"An error occurred while updating role",level:"error"});case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(Be.jsx)(Tt.Provider,{value:{load:d,request:O,getProject:x,createProject:g,updateProject:y,inviteMember:w,updateMember:k,deleteMembers:C,createRole:S,updateRole:q},children:t})},Et=function(){var e=Object(r.useContext)(Tt);if(null==e)throw new Error("useProjects() called outside of a ProjectsProvider?");return e},It=n(701),Pt=n(779),At=n(780),Mt=n(781),Ft=n(782),zt=function(e){return{type:ne,payload:e}},_t=n(5),Lt=n(9),Ht=n(776),Wt=n(777),Dt=n(744),Ut=n(810),Bt=n(778),Jt={fab:{position:"fixed",bottom:70,right:30},spinner:{marginLeft:"50%",marginTop:"20%"},breakText:{wordWrap:"break-word",whiteSpace:"pre-line"},listContainer:{width:"100%",bgcolor:"background.paper",overflow:"auto",maxHeight:window.innerHeight/1.3},ellipsisText:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},verticalDivider:{alignSelf:"stretch",height:"auto"},horizontalList:{display:"flex",flexDirection:"row",padding:0},danger:{color:"red"},hoverScroll:{overflow:"hidden","&:hover":{overflowY:"overlay"}}},Yt=240,Gt=function(e){return{width:Yt,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}},Vt=function(e){return Object(_t.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(7)," + 1px)")})},Qt=Object(Lt.a)("div")((function(e){var t=e.theme;return Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1)},t.mixins.toolbar)})),Kt=Object(Lt.a)(Ht.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(j.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:Yt,width:"calc(100% - ".concat(Yt,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),Xt=Object(Lt.a)(Wt.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(j.a)(Object(j.a)({width:Yt,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&Object(j.a)(Object(j.a)({},Gt(t)),{},{"& .MuiDrawer-paper":Gt(t)})),!n&&Object(j.a)(Object(j.a)({},Vt(t)),{},{"& .MuiDrawer-paper":Vt(t)}))})),$t=Object(Dt.a)((function(e){return{tableContainer:{overflow:"hidden",maxHeight:window.innerHeight/1.3,height:window.innerHeight/1.3,"&:hover":{overflowY:"overlay"}},sidePanelContainer:{overflow:"hidden",maxHeight:window.innerHeight/1.42,height:window.innerHeight/1.42,"&:hover":{overflowY:"overlay"}},rowRequestUrlText:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},pagination:{position:"absolute",bottom:10,right:0},sideBarFiltersContainer:{overflow:"hidden","&:hover":{overflowY:"overlay"},maxHeight:window.innerHeight/1.405,height:window.innerHeight/1.405}}})),Zt={minHeight:28,height:28},en="28px",tn=Object(Dt.a)((function(e){return{tabsRoot:{maxHeight:en,height:en},tabRoot:{maxHeight:en,height:en,minWidth:50,fontSize:12},headersContainer:{maxHeight:200,overflow:"hidden","&:hover":{overflowY:"overlay"}},toolbarContainer:{padding:10,height:55},toolbarButtonsDivider:{height:40,marginLeft:10,marginRight:10}}}),{index:1}),nn={buttonsDivider:{height:40,marginLeft:10,marginRight:10},timeFiltersButton:{maxWidth:200,width:200,justifyContent:"flex-start"}},rn={lineChartMargin:{top:20,right:10,left:0,bottom:10},gridContainer:{padding:10}},an=Object(Ut.a)((function(e){return{root:{width:28,overflow:"hidden",transition:"width 0.5s","&.Mui-disabled":{width:0}}}}))(Bt.a),sn=Object(i.b)((function(e){return{confirmAction:e.users.confirmAction}}),{setConfirmAction:zt})((function(e){var t=e.confirmAction,n=e.setConfirmAction,r=function(){return n(Object(j.a)(Object(j.a)({},t),{},{modal:!1}))},a=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.action();case 2:r();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsx)("div",{children:Object(Be.jsxs)(It.a,{fullWidth:!0,maxWidth:"xs",open:null===t||void 0===t?void 0:t.modal,onClose:r,"aria-labelledby":"form-dialog-title",disableScrollLock:!0,TransitionComponent:Ke,children:[Object(Be.jsx)(Pt.a,{id:"form-dialog-title",children:null===t||void 0===t?void 0:t.title}),Object(Be.jsx)(At.a,{children:Object(Be.jsx)(Mt.a,{className:Jt.breakText,children:null===t||void 0===t?void 0:t.description})}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:r,color:"primary",children:"Cancel"}),(null===t||void 0===t?void 0:t.confirmButton)&&Object(Be.jsx)(ft.a,{onClick:a,color:"primary",children:t.confirmButton})]})]})})})),cn=n(245),on=n(811),ln=Object(i.b)((function(e){return{theme:e.users.theme}}),null)((function(e){var t=e.children,n=e.theme,r=Object(cn.a)({palette:Object(j.a)({mode:n},"light"===n?{}:{background:{default:"#2B2B2B",paper:"#2B2B2B"}})});return Object(Be.jsx)(on.a,{theme:r,children:t})})),un=n(629),dn=n(743),jn=n(31),bn=n(783),pn=n(788),On=n(705),hn=n(230),fn=n.n(hn),mn=n(231),vn=n.n(mn),xn=n(232),gn=n.n(xn),yn=n(754),wn=n(224),kn=n(225),Cn=n.n(kn),Sn=function(){var e=Object(wn.a)(m),t=Object(l.g)();return Object(Be.jsx)(yn.a,{"aria-label":"breadcrumb",separator:Object(Be.jsx)(Cn.a,{fontSize:"small",style:{color:"#FFFFFF"}}),children:e.slice(1).map((function(e,n){var r=e.match,a=e.breadcrumb;return Object(Be.jsx)(xt.a,{sx:{color:"#FFFFFF"},to:r.url,onClick:function(){return e=r.url,t.push(e);var e},children:a},n)}))})},qn=n(757),Rn=n(247),Tn=n(787),Nn=n(702),En=n(704),In=n(784),Pn=n(228),An=n.n(Pn),Mn=n(229),Fn=n.n(Mn),zn=n(785),_n=n(703),Ln=Object(i.b)((function(e){return{user:e.users.user}}),null)((function(e){var t,n,s=e.user,c=ut().onLogout,i=Object(l.g)(),o=Object(r.useState)(null),u=Object(je.a)(o,2),d=u[0],j=u[1],b=function(){return j(null)},p=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:i.push("/login");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(bn.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:Object(Be.jsx)(In.a,{title:"Account settings",children:Object(Be.jsx)(nt.a,{onClick:function(e){return j(e.currentTarget)},size:"small",children:Object(Be.jsx)(qn.a,{sx:{width:32,height:32},children:(n=null===s||void 0===s||null===(t=s.username)||void 0===t?void 0:t.charAt(0),n&&n[0].toUpperCase()+n.slice(1)||"")})})})}),Object(Be.jsxs)(Rn.a,{anchorEl:d,open:Boolean(d),onClose:b,onClick:b,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(Be.jsx)(zn.a,{children:Object(Be.jsxs)(bt.a,{children:["Welcome, ",null===s||void 0===s?void 0:s.username]})}),Object(Be.jsxs)(Tn.a,{onClick:function(){return i.push("/user/profile")},children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(_n.a,{fontSize:"small"})}),"Profile"]}),Object(Be.jsx)(En.a,{}),Object(Be.jsxs)(Tn.a,{onClick:function(){return i.push("/settings/theme")},children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(An.a,{fontSize:"small"})}),"Settings"]}),Object(Be.jsxs)(Tn.a,{onClick:p,children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Fn.a,{fontSize:"small"})}),"Logout"]})]})]})})),Hn=Object(i.b)((function(e){return{drawerOpen:e.users.drawer}}),{setTheme:function(e){return{type:ee,payload:e}},setDrawer:function(e){return{type:te,payload:e}}})((function(e){var t=e.drawer,n=e.setTheme,s=e.setDrawer,c=e.drawerOpen,i=Object(jn.a)().palette,o=Object(r.useState)(!0),l=Object(je.a)(o,2),u=l[0],d=l[1],b=function(){var e=Object(He.a)(Le.a.mark((function e(){var t;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!1),e.next=3,setTimeout((function(){return d(!0)}),200);case 3:t="light"===i.mode?"dark":"light",n(t),localStorage.setItem("theme",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(bn.a,{sx:{display:"flex"},children:[Object(Be.jsx)(jt.a,{}),Object(Be.jsx)(Kt,{position:"fixed",open:c,children:Object(Be.jsxs)(pn.a,{children:[Object(Be.jsx)(nt.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return s(!0)},edge:"start",sx:Object(j.a)({marginRight:"36px"},c&&{display:"none"}),children:Object(Be.jsx)(fn.a,{})}),Object(Be.jsx)(bt.a,{variant:"h6",noWrap:!0,component:"div",className:"flex-grow-1",children:Object(Be.jsx)(Sn,{})}),Object(Be.jsx)(nt.a,{className:"me-3",onClick:b,color:"inherit",children:Object(Be.jsx)(On.a,{in:u,children:"light"===i.mode?Object(Be.jsx)(vn.a,{}):Object(Be.jsx)(gn.a,{})})}),Object(Be.jsx)(Ln,{})]})}),a.a.createElement(t,{open:c,onClose:function(){return s(!1)}}),Object(Be.jsx)(bn.a,{component:"main",sx:{flexGrow:1},children:Object(Be.jsx)(Qt,{})})]})})),Wn=n(169),Dn=n.n(Wn),Un=n(170),Bn=n.n(Un),Jn=n(774),Yn=n(97),Gn=n.n(Yn),Vn=n(233),Qn=n.n(Vn),Kn=n(706),Xn=n(708),$n=n(709),Zn=n(710),er=n(711),tr=n(712),nr=n(707),rr=n(713),ar=function(e){return{type:L,payload:e}},sr=function(e){return{type:W,payload:e}},cr=function(e){return{type:B,payload:e}},ir=function(e){return{type:D,payload:e}},or=function(e){return{type:J,payload:e}},lr=function(e){return{type:Y,payload:e}},ur=function(e){return{type:U,payload:e}},dr=function(e){return{type:G,payload:e}},jr=n(773),br=n(786),pr=function(e){return{payload:e,type:I}},Or=Object(i.b)((function(e){return{project:e.projects.project,projects:e.projects.projects}}),{setProject:pr})((function(e){var t,n=e.drawerOpen,s=e.project,c=e.projects,i=e.setProject,o=Object(l.g)(),u=Object(r.useState)(null),d=Object(je.a)(u,2),b=d[0],p=d[1],O=function(){return p(null)},f=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n,r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.find((function(e){return e.id===t})),i(n),r=h(o.location.pathname,n.id),o.push(r),O();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.find((function(e){return e.id===t})),i(n),o.push("/projects/".concat(t,"/settings/general")),O();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(zn.a,{button:!0,sx:{mb:2,textAlign:"center"},onClick:function(e){return p(e.currentTarget)},children:Object(Be.jsx)(Kn.a,{style:Jt.ellipsisText,primary:n?null===s||void 0===s?void 0:s.title:null===s||void 0===s||null===(t=s.short)||void 0===t?void 0:t.toUpperCase()})}),Object(Be.jsx)(jr.a,{disableScrollLock:!1,open:Boolean(b),anchorEl:b,onClose:O,anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:Object(Be.jsxs)(bn.a,{sx:{p:1},children:[Object(Be.jsx)(bn.a,{sx:{mb:.7},children:Object(Be.jsx)(bt.a,{variant:"subtitle2",children:"Select project"})}),Object(Be.jsx)(En.a,{}),Object(Be.jsx)(Jn.a,{dense:!0,sx:Object(j.a)({maxHeight:250,mb:1},Jt.hoverScroll),children:c.map((function(e){return Object(Be.jsxs)(zn.a,{dense:!0,button:!0,disableGutters:!0,sx:{maxWidth:200,pl:1,pr:1,width:200},onClick:Object(He.a)(Le.a.mark((function t(){return Le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e.id);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),selected:s.id===e.id,children:[Object(Be.jsx)(bt.a,{style:Jt.ellipsisText,sx:{mr:2},children:e.title}),Object(Be.jsx)(br.a,{children:Object(Be.jsx)(nt.a,{sx:{mr:.5},size:"small",onClick:Object(He.a)(Le.a.mark((function t(){return Le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e.id);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),children:Object(Be.jsx)(nr.a,{fontSize:"small"})})})]},e.id)}))})]})})]})})),hr=Object(i.b)((function(e){return{project:e.projects.project}}),{setRequest:ar})((function(e){var t=e.open,n=e.onClose,r=e.project,a=e.setRequest,s=Object(l.g)(),c=Object(l.h)(),i=Object(jn.a)(),o="/projects/".concat(r.id),u=function(){s.push("/projects"),a({})};return Object(Be.jsxs)(Xt,{variant:"permanent",open:t,children:[Object(Be.jsx)(Qt,{children:Object(Be.jsx)(nt.a,{onClick:n,children:"rtl"===i.direction?Object(Be.jsx)(Dn.a,{}):Object(Be.jsx)(Bn.a,{})})}),Object(Be.jsx)(En.a,{}),Object(Be.jsxs)(Jn.a,{children:[Object(Be.jsxs)(zn.a,{button:!0,onClick:u,selected:"/projects"===c.pathname,children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Gn.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Projects"})]}),Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){return s.push(o+"/requests")},selected:/\/projects\/[0-9]+\/requests/.test(c.pathname),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Xn.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Requests"})]}),Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){return s.push(o+"/custom-requests")},selected:/\/projects\/[0-9]+\/custom-requests/.test(c.pathname),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Qn.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Custom requests"})]}),Object(Be.jsxs)(zn.a,{button:!0,children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)($n.a,{})}),Object(Be.jsx)(Kn.a,{primary:"API Libraries"})]}),Object(Be.jsxs)(zn.a,{button:!0,onClick:u,children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Zn.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Performance"})]}),Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){return s.push(o+"/tracks")},selected:/\/projects\/[0-9]+\/tracks/.test(c.pathname),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(er.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Tracks"})]}),Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){return s.push(o+"/stats")},selected:/\/projects\/[0-9]+\/stats/.test(c.pathname),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(tr.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Stats"})]}),Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){return s.push(o+"/settings/general")},selected:/\/projects\/[0-9]+\/settings/.test(c.pathname),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(nr.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Settings"})]}),Object(Be.jsxs)(zn.a,{button:!0,children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(rr.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Actions"})]})]}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(Or,{drawerOpen:t})]})})),fr=function(e){var t=e.component,n=Object(yt.a)(e,["component"]),s=Et().getProject,c=Object(l.h)().pathname,o=localStorage.getItem("token"),u=Object(i.c)((function(e){return e.projects.project}));return Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){var t,n,r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(l.f)(c,{path:v}),r=parseInt(null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.projectId),e.t0=r!==(null===u||void 0===u?void 0:u.id)&&o,!e.t0){e.next=6;break}return e.next=6,s(r);case 6:case"end":return e.stop()}}),e)})))()}),[c]),Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(Hn,{drawer:hr}),Object(Be.jsx)(l.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return o?Object(Be.jsx)(t,Object(j.a)({},e)):Object(Be.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))]})},mr=a.a.createContext(null),vr=function(e){var t=e.children,n=e.store,a=it().setAlert,s="api/v1/projects/",c=Object(r.useState)(!1),i=Object(je.a)(c,2),o=i[0],l=i[1],u=Object(r.useState)(!1),d=Object(je.a)(u,2),j=d[0],b=d[1],p=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,a,c,i,o,u,d=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:null,a=d.length>2&&void 0!==d[2]?d[2]:null,c=d.length>3&&void 0!==d[3]?d[3]:{},l((function(e){return e})),e.next=6,Qe(c,r,a,"Requests");case 6:return i=e.sent,e.next=9,Ct(s+"".concat(t,"/requests/").concat(i));case 9:o=e.sent,u=o.json,n.dispatch({type:_,payload:u}),l(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(He.a)(Le.a.mark((function e(t,r){var c,i,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch({type:H,payload:r}),e.next=3,Rt(s+"".concat(t,"/requests/"),r);case 3:c=e.sent,i=c.json,o=c.error,a(o?i:{message:"".concat(null===r||void 0===r?void 0:r.length," were successfully deleted"),level:"success"});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(He.a)(Le.a.mark((function e(t,r){var c,i;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt(s+"".concat(t,"/requests/").concat(r,"/"));case 2:c=e.sent,i=c.json,!c.error&&n.dispatch({type:H,payload:[r]}),a(i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct(s+"".concat(t,"/requests/filters/"));case 2:r=e.sent,a=r.json,n.dispatch({type:V,payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(He.a)(Le.a.mark((function e(t,r){var c,i,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,St(s+"".concat(t,"/requests/filters/"),r);case 3:c=e.sent,i=c.json,!(o=c.error)&&n.dispatch({type:Q,payload:i}),a(o?i:{message:"Requests filters were successfully saved",level:"success"}),b(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(He.a)(Le.a.mark((function e(t,r){var c,i;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt(s+"".concat(t,"/requests/filters/").concat(r,"/"));case 2:c=e.sent,i=c.json,!c.error&&n.dispatch({type:K,payload:{filterId:r}}),a(i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(He.a)(Le.a.mark((function e(t,n,r){var c,i,o,l,u=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!(u.length>3&&void 0!==u[3])||u[3],e.next=3,qt(s+"".concat(t,"/requests/filters/").concat(n,"/"),r);case 3:i=e.sent,o=i.json,l=i.error,!c&&a(l?o:{message:"Requests filters were successfully updated",level:"success"});case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(Be.jsx)(mr.Provider,{value:{load:o,request:j,getRequests:p,deleteRequests:O,deleteRequest:h,getRequestsFilters:f,createRequestsFilter:m,deleteRequestsFilter:v,updateRequestsFilter:x},children:t})},xr=function(){var e=Object(r.useContext)(mr);if(null==e)throw new Error("useRequests() called outside of a ProjectsProvider?");return e},gr=n(10),yr={paper:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},boxContainer:{display:"flex",alignItems:"center",textAlign:"center"}},wr=n(171),kr=n.n(wr),Cr=n(172),Sr=n.n(Cr),qr=n(714),Rr=n(715),Tr=Object(i.b)(null,{setRequestsFiltersSidebar:or})((function(e){var t=e.setRequestsFiltersSidebar,n=Object(r.useState)(null),s=Object(je.a)(n,2),c=s[0],i=s[1],o=function(){return i(null)};return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(bn.a,{sx:yr.boxContainer,children:Object(Be.jsx)(In.a,{title:"Request actions",placement:"top",children:Object(Be.jsx)(nt.a,{onClick:function(e){return i(e.currentTarget)},size:"small",children:Object(Be.jsx)(qr.a,{})})})}),Object(Be.jsxs)(Rn.a,{anchorEl:c,open:Boolean(c),onClose:o,onClick:o,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(Be.jsxs)(Tn.a,{onClick:function(){return t(!1)},children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Rr.a,{fontSize:"small"})}),"Filters"]}),Object(Be.jsxs)(Tn.a,{children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(kr.a,{fontSize:"small"})}),"Invite member"]}),Object(Be.jsxs)(Tn.a,{children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Sr.a,{fontSize:"small"})}),"Project settings"]})]})]})})),Nr=n(201),Er=n(98),Ir=n.n(Er),Pr=Object(i.b)((function(e){return{project:e.projects.project,projects:e.projects.projects}}),{setProject:pr})((function(e){var t=e.project,n=e.projects,s=e.setProject,c=Object(l.g)(),i=Object(r.useState)(null),o=Object(je.a)(i,2),u=o[0],d=o[1],b=function(){return d(null)},p=function(e){var t=n.find((function(t){return t.id===e}));s(t);var r=h(c.location.pathname,t.id);c.push(r),b()};return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(In.a,{title:"Select project",children:Object(Be.jsx)(ft.a,{color:"inherit","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":u?"true":void 0,onClick:function(e){return d(e.currentTarget)},startIcon:Object(Be.jsx)(Gn.a,{}),endIcon:Object(Be.jsx)(Ir.a,{}),children:Object(Be.jsx)(bt.a,{style:Object(j.a)(Object(j.a)({},Jt.ellipsisText),{},{maxWidth:150,width:150}),children:t.title})})}),Object(Be.jsx)(Rn.a,{anchorEl:u,open:Boolean(u),onClose:b,children:n.map((function(e){return Object(Be.jsxs)(Tn.a,{value:e.id,sx:{maxWidth:300,width:300},onClick:function(){return p(e.id)},selected:t.id===e.id,children:[Object(Be.jsx)(bt.a,{onClick:function(){return p(e.id)},style:Jt.ellipsisText,children:e.title}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(nt.a,{size:"small",children:Object(Be.jsx)(nr.a,{fontSize:"small"})})]},e.id)}))})]})})),Ar=n(716),Mr=n(717),Fr=n(234),zr=n.n(Fr),_r=function(e){return 100<=e&&e<=299?"#02C001":300<=e&&e<=399?"#FFBD00":400<=e&&e<=599?"#E40F08":void 0},Lr=function(e){if("interval"===(null===e||void 0===e?void 0:e.type)){var t=null===e||void 0===e?void 0:e.interval,n=t.amount,r=t.prev,a=t.unit;return"".concat({prev:"Last",next:"Next"}[r]," ").concat(n," ").concat(n>1?a:a.slice(0,-1))}if("range"===(null===e||void 0===e?void 0:e.type)){var s=Ze()(e.range[0]).format("MMM D, HH:mm"),c=Ze()(e.range[1]).format("MMM D, HH:mm");return"".concat(s," to ").concat(c)}return"Time filters"},Hr=n(758),Wr=n(789),Dr=n(236),Ur=n.n(Dr),Br=n(235),Jr=n.n(Br),Yr=Object(i.b)((function(e){return{viewMode:e.users.viewMode,requestsFilters:e.requests.requestsFilters,requestsRealtime:e.requests.requestsRealtime}}),{setViewMode:function(e){return{type:re,payload:e}},setRequestsRealtime:ur,setRequestsTimeFilterModal:lr})((function(e){var t=e.viewMode,n=e.setViewMode,a=e.setRequestsTimeFilterModal,s=e.requestsFilters,c=e.requestsRealtime,i=e.setRequestsRealtime,o=tn(),l=Object(r.useMemo)((function(){return Lr(null===s||void 0===s?void 0:s.time)}),[null===s||void 0===s?void 0:s.time]),u=function(){return a(!0)};return Object(Be.jsxs)(Nr.a,{elevation:3,className:Object(gr.a)("mt-3 d-flex",o.toolbarContainer),children:[Object(Be.jsx)(Pr,{}),Object(Be.jsx)(En.a,{orientation:"vertical",flexItem:!0,style:nn.buttonsDivider}),Object(Be.jsx)(ft.a,{startIcon:Object(Be.jsx)(Ar.a,{}),color:"inherit",onClick:u,style:nn.timeFiltersButton,children:Object(Be.jsx)(bt.a,{style:Jt.ellipsisText,children:l})}),Object(Be.jsx)(En.a,{orientation:"vertical",flexItem:!0,style:nn.buttonsDivider}),Object(Be.jsx)(ft.a,{startIcon:Object(Be.jsx)(rr.a,{}),color:"inherit",onClick:u,children:"Members filters"}),Object(Be.jsx)(En.a,{orientation:"vertical",flexItem:!0,style:nn.buttonsDivider}),Object(Be.jsx)(In.a,{title:((null===c||void 0===c?void 0:c.enabled)?"Disable":"Enable")+" realtime updates",children:Object(Be.jsx)(nt.a,{onClick:function(){return i(Object(j.a)(Object(j.a)({},c),{},{enabled:!(null===c||void 0===c?void 0:c.enabled)}))},children:(null===c||void 0===c?void 0:c.enabled)?Object(Be.jsx)(Mr.a,{}):Object(Be.jsx)(zr.a,{})})}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsxs)(Hr.a,{orientation:"horizontal",value:null===t||void 0===t?void 0:t.requests,exclusive:!0,onChange:function(e,r){return r&&n(Object(j.a)(Object(j.a)({},t),{},{requests:r}))},sx:{mr:2},children:[Object(Be.jsx)(Wr.a,{value:"accordion","aria-label":"accordion",children:Object(Be.jsx)(In.a,{title:"Accordion view",children:Object(Be.jsx)(Jr.a,{})})}),Object(Be.jsx)(Wr.a,{value:"side","aria-label":"side",children:Object(Be.jsx)(In.a,{title:"Side panel view",children:Object(Be.jsx)(Ur.a,{})})})]}),Object(Be.jsx)(Tr,{})]})})),Gr=n(790),Vr=n(791),Qr=n(795),Kr=n(760),Xr=n(793),$r=n(794),Zr=n(747),ea=n(766),ta=n(718),na=function(e){var t=e.statusCode;return Object(Be.jsx)(ta.a,{style:{color:_r(t)},fontSize:"small",className:"ms-2"})},ra=n(238),aa=n.n(ra),sa=n(752),ca=n(796),ia=n(719),oa=n(720),la=n(721),ua=n(722),da=n(115),ja=a.a.createContext(null),ba=function(e){var t=e.children,n=e.store,a=it().setAlert,s="api/v1/projects/",c=Object(r.useState)(!0),o=Object(je.a)(c,2),l=o[0],u=o[1],d=Object(r.useState)(!0),b=Object(je.a)(d,2),p=b[0],O=b[1],h=Object(r.useState)(!1),f=Object(je.a)(h,2),m=f[0],v=f[1],x=Object(i.c)((function(e){return e.projects.project})),g=Object(i.c)((function(e){return e.customRequests.customRequestsHistoryPagination})),y=Object(i.c)((function(e){return e.customRequests.customRequest}));Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(x.id,50,0,{filters:JSON.stringify({isCustom:!0})});case 2:case"end":return e.stop()}}),e)})))()}),[x.id]),Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(x.id,g.rowsPerPage,g.page*g.rowsPerPage);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}),[x.id,g]);var w=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,a,c,i,o,l,d=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:50,a=d.length>2&&void 0!==d[2]?d[2]:0,c=d.length>3&&void 0!==d[3]?d[3]:{},u((function(e){return e})),e.next=6,Qe(c,r,a,"CustomRequests");case 6:return i=e.sent,e.next=9,Ct(s+"".concat(t,"/custom-requests/").concat(i));case 9:o=e.sent,l=o.json,n.dispatch({type:Te,payload:l}),u(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(He.a)(Le.a.mark((function e(t,r){var c,i,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St(s+"".concat(t,"/custom-requests/"),r);case 2:c=e.sent,i=c.json,!(o=c.error)&&n.dispatch({type:Ee,payload:i}),!o&&n.dispatch({type:Ne,payload:i}),a(o?i:{message:"Request successfully created",level:"success"});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(He.a)(Le.a.mark((function e(t,r,c){var i,o,l;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt(s+"".concat(t,"/custom-requests/").concat(r,"/"),c);case 2:i=e.sent,o=i.json,!(l=i.error)&&n.dispatch({type:Ie,payload:{requestId:r,payload:o}}),l&&a(o);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(He.a)(Le.a.mark((function e(t,r){var c,i,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt(s+"".concat(t,"/custom-requests/").concat(r,"/"));case 2:c=e.sent,i=c.json,!(o=c.error)&&n.dispatch({type:Pe,payload:{requestId:r}}),a(o?i:{message:"Request successfully deleted",level:"success"});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(He.a)(Le.a.mark((function e(t,r){var c,i,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,St(s+"".concat(t,"/custom-requests/").concat(r,"/send/"));case 3:c=e.sent,i=c.json,(o=c.error)&&a(i),o||(n.dispatch({type:Ne,payload:Object(j.a)(Object(j.a)({},y),i)}),n.dispatch({type:Ae,payload:Re.customRequestError})),o&&(null===i||void 0===i?void 0:i.data)&&(n.dispatch({type:Ae,payload:{level:null===i||void 0===i?void 0:i.level,data:i.data}}),n.dispatch({type:Ne,payload:Object(j.a)(Object(j.a)({},y),{},{responseHeaders:{},responseBody:null,statusCode:null})})),v(!1);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,a,c,i,o,l=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:25,a=l.length>2&&void 0!==l[2]?l[2]:0,O((function(e){return e})),e.next=5,Ve({limit:r,offset:a});case 5:return c=e.sent,e.next=8,Ct(s+"".concat(t,"/custom-requests-history/").concat(c));case 8:i=e.sent,o=i.json,n.dispatch({type:Me,payload:o}),O(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(He.a)(Le.a.mark((function e(t,r){var c,i,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St(s+"".concat(t,"/custom-requests-history/"),r);case 2:c=e.sent,i=c.json,!(o=c.error)&&n.dispatch({type:Fe,payload:i}),o&&a(i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Be.jsx)(ja.Provider,{value:{request:m,loadHistory:p,loadRequests:l,getCustomRequests:w,sendCustomRequest:q,createCustomRequest:k,updateCustomRequest:C,deleteCustomRequest:S,createCustomRequestsHistory:T},children:t})},pa=function(){var e=Object(r.useContext)(ja);if(null==e)throw new Error("useCustomRequests() called outside of a CustomRequestsProvider?");return e},Oa=function(e){var t=e.method;if(!t)return"";return{GET:" -X GET",POST:" -X POST",PUT:" -X PUT",PATCH:" -X PATCH",DELETE:" -X DELETE",HEAD:" -X HEAD",OPTIONS:" -X OPTIONS"}[t.toUpperCase()]||""},ha=function(e){return"function"===typeof Headers&&e instanceof Headers},fa=function(e,t){return' -H "'.concat(e,": ").concat(t.replace(/(\\|")/g,"\\$1"),'"')},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.headers,n=!1,r="";return ha(t)?t.forEach((function(e,t){"content-length"!==t.toLocaleLowerCase()&&(r+=fa(t,e)),"accept-encoding"===t.toLocaleLowerCase()&&(n=!0)})):t&&Object.keys(t).map((function(e){"content-length"!==e.toLocaleLowerCase()&&(r+=fa(e,t[e])),"accept-encoding"===e.toLocaleLowerCase()&&(n=!0)})),{params:r,isEncode:n}};function va(e){return e?" --data-binary '".concat("object"===typeof e?JSON.stringify(e):e,"'"):""}var xa=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){var r,a,s,c;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"===typeof t||t instanceof URL?(r=t,a=n||{}):(r=(t||{}).url,a=t||{}),s=a.body,c=ma(a),e.abrupt("return","curl '".concat(r,"'").concat(Oa(a)).concat(c.params||"").concat(va(s)).concat(c.isEncode?" --compressed":""));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ga=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n,r,a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:null===t||void 0===t?void 0:t.requestHeaders,method:null===t||void 0===t?void 0:t.method,body:null===t||void 0===t?void 0:t.requestBody},e.next=3,xa(null===t||void 0===t?void 0:t.requestUrl,n);case 3:r=e.sent,(a=document.createElement("input")).value=r,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ya=a.a.createContext(null),wa=function(e){var t=e.children,n=Object(i.c)((function(e){return e.projects.project})),a=Object(i.c)((function(e){return e.users.user})),s=Object(r.useMemo)((function(){var e;return null===n||void 0===n||null===(e=n.members)||void 0===e?void 0:e.find((function(e){var t;return(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id)===(null===a||void 0===a?void 0:a.id)}))}),[a,n]),c=Object(r.useCallback)((function(e){var t=null===s||void 0===s?void 0:s.roles.map((function(e){return null===e||void 0===e?void 0:e.scope})).flat(2);if(t)return null===e||void 0===e?void 0:e.some((function(e){return t.includes(e)}))}),[s]);return Object(Be.jsx)(ya.Provider,{value:{isAllowed:function(e){return c(e)}},children:t})},ka=function(){var e=Object(r.useContext)(ya);if(null==e)throw new Error("usePermissions() called outside of a PermissionsProvider?");return e},Ca="Request.Create",Sa="Request.Delete",qa="RequestsFilter.Create",Ra="RequestsFilter.Delete",Ta=Object(i.b)((function(e){return{project:e.projects.project}}),{setConfirmAction:zt})((function(e){var t=e.project,n=e.request,s=e.setConfirmAction,c=Object(l.g)(),i=ka().isAllowed,o=it().setAlert,u=xr().deleteRequest,d=pa().createCustomRequest,j=Object(r.useState)(null),b=Object(je.a)(j,2),p=b[0],O=b[1],h=function(){return O(null)},f=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga(n);case 2:o({message:"Request copied to clipboard",level:"success"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o({message:"Request url copied to clipboard",level:"success"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(He.a)(Le.a.mark((function e(){var r,a,s,i;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.keys(null===n||void 0===n?void 0:n.requestHeaders).map((function(e){return{key:e,value:null===n||void 0===n?void 0:n.requestHeaders[e],include:!0}})),e.next=3,Xe(null===n||void 0===n?void 0:n.requestUrl);case 3:return a=e.sent,s=Object.keys(a).map((function(e){return{key:e,value:a[e],include:!0}})),i={requestUrl:null===n||void 0===n?void 0:n.requestUrl,requestHeaders:r,queryParams:s,requestBody:null===n||void 0===n?void 0:n.requestBody,method:null===n||void 0===n?void 0:n.method,isCustom:!0},e.next=8,d(t.id,i);case 8:c.push("/projects/".concat(t.id,"/custom-requests"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({modal:!0,title:"Delete request?",description:"Are you sure you want to delete request? You will not be able to restore it later",confirmButton:"Delete",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t.id,null===n||void 0===n?void 0:n.requestId);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(bn.a,{sx:yr.boxContainer,children:Object(Be.jsx)(In.a,{title:"Request actions",placement:"top",children:Object(Be.jsx)(nt.a,{onClick:function(e){return O(e.currentTarget)},size:"small",children:Object(Be.jsx)(qr.a,{fontSize:"small"})})})}),Object(Be.jsxs)(Rn.a,{anchorEl:p,open:Boolean(p),onClose:h,onClick:h,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(Be.jsxs)(Tn.a,{onClick:v,disabled:!i([Ca]),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(ia.a,{fontSize:"small"})}),"Send"]}),Object(Be.jsxs)(Tn.a,{onClick:f,children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(oa.a,{fontSize:"small"})}),"Copy as curl"]}),Object(Be.jsx)(da.CopyToClipboard,{text:window.location.href,onCopy:m,children:Object(Be.jsxs)(Tn.a,{children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(la.a,{fontSize:"small"})}),"Copy request link"]})}),Object(Be.jsx)(En.a,{}),Object(Be.jsxs)(Tn.a,{onClick:x,sx:Jt.danger,disabled:!i([Sa]),children:[Object(Be.jsx)(Nn.a,{sx:Jt.danger,children:Object(Be.jsx)(ua.a,{fontSize:"small"})}),"Delete"]})]})]})})),Na=function(e){var t=e.children,n=e.value,r=e.index,a=Object(yt.a)(e,["children","value","index"]);return Object(Be.jsx)("div",Object(j.a)(Object(j.a)({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},a),{},{children:n===r&&Object(Be.jsx)(bn.a,{sx:{paddingTop:3,paddingBottom:3},children:t})}))},Ea=n(792),Ia=function(e){var t,n=e.headers,r=tn();return Object(Be.jsx)(Gr.a,{className:r.headersContainer,children:Object(Be.jsxs)(Vr.a,{size:"small",children:[Object(Be.jsx)(Ea.a,{children:Object(Be.jsxs)(Xr.a,{children:[Object(Be.jsx)($r.a,{children:"Name"}),Object(Be.jsx)($r.a,{align:"left",children:"Value"})]})}),Object(Be.jsx)(Qr.a,{children:null===(t=Object.keys(n||{}))||void 0===t?void 0:t.map((function(e,t){return Object(Be.jsxs)(Xr.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(Be.jsx)($r.a,{component:"th",scope:"row",children:e}),Object(Be.jsx)($r.a,{align:"left",style:{wordWrap:"break-word",whiteSpace:"pre-line",maxWidth:300},children:n[e]})]},t)}))})]})})},Pa=n(237),Aa=n.n(Pa),Ma=function(e){var t=e.body,n=e.responseHeaders,a=Object(jn.a)().palette,s=Object(r.useMemo)((function(){return"dark"===a.mode?"#4F4F4F":"#E0E0E0"}),[a.mode]),c=Object(r.useMemo)((function(){return"dark"===a.mode?"#353535":"#FFFFFF"}),[a.mode]);switch(function(e){if(null===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null))return"text";for(var t,n=Object.keys(e),r=n.length,a={};r--;)a[(t=n[r]).toLowerCase()]=e[t];var s=a["content-type"];return(null===s||void 0===s?void 0:s.startsWith("application/json"))?"json":(null===s||void 0===s?void 0:s.startsWith("text/html"))?"html":"text"}(n,t)){case"html":return Object(Be.jsx)("div",{style:{backgroundColor:s,padding:10},children:Object(Be.jsx)("iframe",{srcDoc:JSON.parse(t),width:"100%",height:300})});case"json":return Object(Be.jsx)(Aa.a,{style:{backgroundColor:c},theme:"dark"===a.mode?"railscasts":"rjv-default",src:JSON.parse(t)});case"text":default:return Object(Be.jsx)("div",{style:{backgroundColor:s,padding:10},children:Object(Be.jsx)(bt.a,{children:t})})}};function Fa(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var za=function(e){var t=e.request,n=e.viewMode,a=$t(),s=Object(r.useState)(0),c=Object(je.a)(s,2),i=c[0],o=c[1],l=Object(r.useState)(0),u=Object(je.a)(l,2),d=u[0],b=u[1];return Object(Be.jsxs)(bn.a,{sx:"accordion"===n.requests?{m:1}:{pl:2,pr:1,pb:2,mt:1},className:"accordion"!==n.requests&&a.sidePanelContainer,children:[Object(Be.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(Be.jsxs)(bt.a,{variant:"h6",gutterBottom:!0,component:"div",className:"mt-2",style:{fontSize:17},color:R[null===t||void 0===t?void 0:t.method],children:[null===t||void 0===t?void 0:t.method," ",Object(Be.jsx)(xt.a,{sx:{ml:1},href:null===t||void 0===t?void 0:t.requestUrl,target:"_blank",children:null===t||void 0===t?void 0:t.requestUrl})]}),Object(Be.jsx)("div",{className:"flex-grow-1"}),"accordion"===n.requests&&Object(Be.jsx)(Ta,{request:t})]}),Object(Be.jsx)(bt.a,{variant:"subtitle1",gutterBottom:!0,children:"Request"}),Object(Be.jsxs)(sa.a,{sx:Zt,value:i,onChange:function(e,t){return o(t)},indicatorColor:"primary",children:[Object(Be.jsx)(ca.a,Object(j.a)({sx:Zt,label:"Headers"},Fa(0))),Object(Be.jsx)(ca.a,Object(j.a)({sx:Zt,label:"Body"},Fa(1)))]}),Object(Be.jsx)(Na,{value:i,index:0,children:Object(Be.jsx)(Ia,{headers:null===t||void 0===t?void 0:t.requestHeaders})}),Object(Be.jsx)(Na,{value:i,index:1,children:Object(Be.jsx)(Ma,{responseHeaders:null===t||void 0===t?void 0:t.requestHeaders,body:null===t||void 0===t?void 0:t.requestBody})}),Object(Be.jsx)(bt.a,{variant:"subtitle1",gutterBottom:!0,children:"Response"}),Object(Be.jsxs)(sa.a,{sx:Zt,value:d,onChange:function(e,t){return b(t)},indicatorColor:"primary",children:[Object(Be.jsx)(ca.a,Object(j.a)({sx:Zt,color:"primary",label:"Headers"},Fa(0))),Object(Be.jsx)(ca.a,Object(j.a)({sx:Zt,label:"Body"},Fa(1)))]}),Object(Be.jsx)(Na,{value:d,index:0,children:Object(Be.jsx)(Ia,{headers:null===t||void 0===t?void 0:t.responseHeaders})}),Object(Be.jsx)(Na,{value:d,index:1,children:Object(Be.jsx)(Ma,{responseHeaders:null===t||void 0===t?void 0:t.responseHeaders,body:null===t||void 0===t?void 0:t.responseBody})}),Object(Be.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Be.jsx)(Ar.a,{fontSize:"small"}),Object(Be.jsxs)(bt.a,{sx:{ml:1},variant:"subtitle1",children:["Duration ",1e3*(null===t||void 0===t?void 0:t.duration)," milliseconds"]}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(bt.a,{variant:"body2",sx:{mr:2},children:Ze.a.utc(t.created).local().startOf("seconds").fromNow()})]})]})},_a=Object(i.b)((function(e){return{viewMode:e.users.viewMode}}),{setRequest:ar})(Object(r.memo)(za)),La=function(e){var t=e.request,n=e.requests,s=e.storeRequest,c=e.setRequest,i=e.viewMode,o=e.selectedRequests,u=e.setSelectedRequests,d=$t(),j=Object(r.useRef)(null),b=Object(l.g)(),p=Object(r.useState)(!1),O=Object(je.a)(p,2),h=O[0],f=O[1],m=Object(r.useMemo)((function(){return-1!==o.indexOf(t.requestId)}),[o]),v=function(){"accordion"===i.requests&&f(!h),c(t),b.push("?requestId=".concat(t.requestId))};return Object(r.useEffect)((function(){if(0!==(null===n||void 0===n?void 0:n.length)){var e=new URLSearchParams(b.location.search).get("requestId");e&&e===t.requestId&&("accordion"===i.requests&&f(!0),j.current.scrollIntoView({behavior:"smooth"}))}}),[]),Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsxs)(Xr.a,{sx:{"&:last-child td, &:last-child th":{border:0}},ref:j,selected:m||(null===t||void 0===t?void 0:t.requestId)===(null===s||void 0===s?void 0:s.requestId),children:[Object(Be.jsx)($r.a,{padding:"checkbox",children:Object(Be.jsx)(Zr.a,{size:"small",color:"primary",checked:m,onClick:function(){return u({isSelected:m,requestId:null===t||void 0===t?void 0:t.requestId})}})}),Object(Be.jsx)($r.a,{component:"th",scope:"row",onClick:v,children:Object(Be.jsx)(bt.a,{color:R[null===t||void 0===t?void 0:t.method],variant:"body2",children:t.method})}),Object(Be.jsx)($r.a,{align:"left",onClick:v,sx:{maxWidth:200},className:d.rowRequestUrlText,children:Object(Be.jsx)(bt.a,{className:d.rowRequestUrlText,children:null===t||void 0===t?void 0:t.requestUrl})}),Object(Be.jsxs)($r.a,{align:"right",className:"d-flex",onClick:v,children:[Object(Be.jsx)(na,{statusCode:null===t||void 0===t?void 0:t.statusCode}),Object(Be.jsx)(bt.a,{children:null===t||void 0===t?void 0:t.statusCode})]}),"accordion"===(null===i||void 0===i?void 0:i.requests)&&Object(Be.jsx)($r.a,{padding:"checkbox",children:Object(Be.jsx)(nt.a,{size:"small",onClick:v,children:h?Object(Be.jsx)(aa.a,{}):Object(Be.jsx)(Ir.a,{})})})]}),"accordion"===(null===i||void 0===i?void 0:i.requests)&&Object(Be.jsx)(Xr.a,{children:Object(Be.jsx)($r.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(Be.jsx)(ea.a,{in:h,timeout:"auto",unmountOnExit:!0,children:Object(Be.jsx)(_a,{request:t})})})})]})},Ha=Object(i.b)((function(e){return{viewMode:e.users.viewMode,requests:e.requests.requests,storeRequest:e.requests.request,selectedRequests:e.requests.selectedRequests}}),{setRequest:ar,setSelectedRequests:ir})(Object(r.memo)(La)),Wa=n(759),Da=n(723),Ua=[{id:"method",align:"left",label:"Method"},{id:"requestUrl",align:"left",label:"Url"},{id:"statusCode",align:"right",label:"Status code"}],Ba=Object(i.b)((function(e){return{viewMode:e.users.viewMode,requests:e.requests.requests,selectedRequests:e.requests.selectedRequests}}),{setSelectedRequests:ir})((function(e){var t=e.order,n=e.orderBy,a=e.onRequestSort,s=e.viewMode,c=e.requests,i=e.selectedRequests,o=e.setSelectedRequests,l=Object(r.useMemo)((function(){return i.length}),[i]),u=Object(r.useMemo)((function(){var e;return null===c||void 0===c||null===(e=c.results)||void 0===e?void 0:e.length}),[null===c||void 0===c?void 0:c.results]);return Object(Be.jsx)(Ea.a,{children:Object(Be.jsxs)(Xr.a,{children:[Object(Be.jsx)($r.a,{padding:"checkbox",children:Object(Be.jsx)(Zr.a,{size:"small",color:"primary",indeterminate:l>0&&l<u,checked:u>0&&l===u,onClick:function(e){var t;return e.target.checked?o(null===c||void 0===c||null===(t=c.results)||void 0===t?void 0:t.map((function(e){return e.requestId}))):o([])}})}),Ua.map((function(e){return Object(Be.jsx)($r.a,{align:e.align,sortDirection:n===e.id&&t,children:Object(Be.jsxs)(Wa.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:a(e.id),children:[e.label,n===e.id?Object(Be.jsx)(bn.a,{component:"span",sx:Da.a,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id)})),"accordion"===(null===s||void 0===s?void 0:s.requests)&&Object(Be.jsx)($r.a,{padding:"checkbox"})]})})}));function Ja(e,t,n){return Ue.a.get(t,n)<Ue.a.get(e,n)?-1:Ue.a.get(t,n)>Ue.a.get(e,n)?1:0}function Ya(e,t){return"desc"===e?function(e,n){return Ja(e,n,t)}:function(e,n){return-Ja(e,n,t)}}function Ga(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Va=Object(i.b)((function(e){return{requests:e.requests.requests,requestsPagination:e.requests.requestsPagination}}),{setRequestsPagination:cr})((function(e){var t,n=e.requests,a=e.requestsPagination,s=e.setRequestsPagination,c=$t(),i=Object(r.useState)("asc"),o=Object(je.a)(i,2),l=o[0],u=o[1],d=Object(r.useState)("method"),b=Object(je.a)(d,2),p=b[0],O=b[1];return Object(Be.jsx)(Gr.a,{component:Nr.a,className:c.tableContainer,children:Object(Be.jsxs)(Vr.a,{className:"w-100",size:"small","aria-label":"a dense table",stickyHeader:!0,children:[Object(Be.jsx)(Ba,{order:l,orderBy:p,onRequestSort:function(e){return function(t){u(p===e&&"asc"===l?"desc":"asc"),O(e)}}}),Object(Be.jsx)(Qr.a,{children:Ga(null===n||void 0===n?void 0:n.results,Ya(l,p)).map((function(e){return Object(Be.jsx)(Ha,{request:e},e.requestId)}))}),(null===n||void 0===n||null===(t=n.results)||void 0===t?void 0:t.length)>0&&Object(Be.jsx)(Kr.a,{size:"small",rowsPerPageOptions:[25,50,100],colSpan:6,count:n.count,rowsPerPage:a.rowsPerPage,page:a.page,labelRowsPerPage:Object(Be.jsx)(bt.a,{variant:"body2",sx:{marginTop:2},children:"Requests per page"}),labelDisplayedRows:function(e){var t=e.count,n=e.from,r=(e.page,e.to);return Object(Be.jsxs)(bt.a,{variant:"body2",sx:{marginTop:2},children:[n,"-",r," of ",t]})},onRowsPerPageChange:function(e){localStorage.setItem("rowsPerPageRequests",e.target.value),s(Object(j.a)(Object(j.a)({},a),{},{page:0,rowsPerPage:parseInt(e.target.value,10)}))},onPageChange:function(e,t){return s(Object(j.a)(Object(j.a)({},a),{},{page:t}))}})]})})})),Qa=n(239),Ka=n.n(Qa),Xa=n(724),$a=Object(i.b)((function(e){return{project:e.projects.project,selectedRequests:e.requests.selectedRequests,requestsPagination:e.requests.requestsPagination}}),{setSelectedRequests:ir,setRequestsPagination:cr,setConfirmAction:zt})((function(e){var t=e.project,n=e.selectedRequests,r=e.setSelectedRequests,a=e.requestsPagination,s=e.setRequestsPagination,c=e.setConfirmAction,i=tn(),o=ka().isAllowed,l=xr().deleteRequests,u=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({modal:!0,title:"Delete requests?",description:"Are your sure you want to delete selected requests? You will unable to restore them later",confirmButton:"Delete",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.id,n);case 2:r([]),s(Object(j.a)(Object(j.a)({},a),{},{page:0}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Nr.a,{elevation:3,className:Object(gr.a)("mt-3 d-flex justify-content-center align-items-center",i.toolbarContainer),children:[Object(Be.jsxs)(bt.a,{sx:{marginLeft:1},children:["Selected ",n.length]}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(In.a,{title:"Export selected requests",children:Object(Be.jsx)(nt.a,{className:"me-2",children:Object(Be.jsx)(Ka.a,{})})}),Object(Be.jsx)(In.a,{title:"Delete selected requests",placement:"left",children:Object(Be.jsx)(nt.a,{onClick:u,disabled:!o([Sa]),children:Object(Be.jsx)(Xa.a,{})})})]})})),Za=n(761),es=n(798),ts=n(799),ns=n(69),rs=n.n(ns),as=n(797),ss=function(e){var t=e.onSelectCommonRange,n=e.onSelectCommonLast;return Object(Be.jsxs)("div",{children:[Object(Be.jsx)(bt.a,{variant:"subtitle1",className:"mt-3",children:"Commonly used"}),Object(Be.jsxs)(as.a,{variant:"text",size:"small",orientation:"vertical",children:[Object(Be.jsx)(ft.a,{className:"justify-content-start",onClick:function(){return t("day")},children:"Today"}),Object(Be.jsx)(ft.a,{className:"justify-content-start",onClick:function(){return t("week")},children:"This week"}),Object(Be.jsx)(ft.a,{className:"justify-content-start",onClick:function(){return n(15,"minutes")},children:"Last 15 minutes"}),Object(Be.jsx)(ft.a,{className:"justify-content-start",onClick:function(){return n(30,"minutes")},children:"Last 30 minutes"}),Object(Be.jsx)(ft.a,{className:"justify-content-start",onClick:function(){return n(1,"hours")},children:"Last 1 hour"})]}),Object(Be.jsxs)(as.a,{variant:"text",size:"small",orientation:"vertical",className:"ms-5",children:[Object(Be.jsx)(ft.a,{className:"justify-content-start",onClick:function(){return n(24,"hours")},children:"Last 24 hours"}),Object(Be.jsx)(ft.a,{className:"justify-content-start",onClick:function(){return n(7,"days")},children:"Last 7 days"}),Object(Be.jsx)(ft.a,{className:"justify-content-start",onClick:function(){return n(14,"days")},children:"Last 14 days"}),Object(Be.jsx)(ft.a,{className:"justify-content-start",onClick:function(){return n(30,"days")},children:"Last 30 days"}),Object(Be.jsx)(ft.a,{className:"justify-content-start",onClick:function(){return n(5,"minutes")},children:"Last 5 minutes"})]})]})},cs=n(771),is=n(772),os=n(751),ls=function(e){var t=e.prev,n=e.setPrev,r=e.amount,a=e.setAmount,s=e.unit,c=e.setUnit;return Object(Be.jsxs)("div",{className:"w-100 d-flex mt-3",children:[Object(Be.jsxs)(cs.a,{variant:"standard",sx:{marginRight:3,minWidth:120},children:[Object(Be.jsx)(is.a,{children:"Next/Prev"}),Object(Be.jsxs)(os.a,{value:t,onChange:function(e){return n(e.target.value)},children:[Object(Be.jsx)(Tn.a,{value:"prev",children:"Prev"}),Object(Be.jsx)(Tn.a,{value:"next",children:"Next"})]})]}),Object(Be.jsx)(Ot.a,{value:r,onChange:function(e){return a(parseInt(e.target.value))},type:"number",fullWidth:!0,variant:"standard",label:"Amount"}),Object(Be.jsxs)(cs.a,{variant:"standard",sx:{marginLeft:3,minWidth:120},children:[Object(Be.jsx)(is.a,{id:"demo-simple-select-standard-label",children:"Period"}),Object(Be.jsx)(os.a,{value:s,onChange:function(e){return c(e.target.value)},children:x.map((function(e){return Object(Be.jsx)(Tn.a,{value:e.unit,children:e.label},e.unit)}))})]})]})},us=n(746),ds=n(745),js=function(e){var t=e.range,n=e.setRange,r=e.onSelectTime;return Object(Be.jsxs)("div",{className:"mt-3",children:[Object(Be.jsx)(us.a,{startText:"Date from",endText:"Date to",value:t,onChange:function(e){return n(e)},renderInput:function(e,t){return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{variant:"standard",fullWidth:!0,size:"small"})),Object(Be.jsx)(bn.a,{sx:{mx:2},children:" to "}),Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},t),{},{variant:"standard",fullWidth:!0,size:"small"}))]})}}),Object(Be.jsxs)("div",{className:"d-flex justify-content-center align-items-center mt-2",children:[Object(Be.jsx)(ds.a,{ampm:!1,label:"Time from",value:t[0],onChange:function(e){return r(0,e)},renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{variant:"standard",fullWidth:!0,size:"small"}))}}),Object(Be.jsx)(bn.a,{sx:{mx:2,mt:1},children:" to "}),Object(Be.jsx)(ds.a,{ampm:!1,label:"Time to",value:t[1],onChange:function(e){return r(1,e)},renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{variant:"standard",fullWidth:!0,size:"small"}))}})]})]})},bs=Object(i.b)((function(e){return{requestsFilters:e.requests.requestsFilters,requestsTimeFilterModal:e.requests.requestsTimeFilterModal}}),{setRequestsFilters:sr,setRequestsTimeFilterModal:lr})((function(e){var t,n,a,s,c,i,o,l,u,b,p,O=e.requestsTimeFilterModal,h=e.setRequestsTimeFilterModal,f=e.requestsFilters,m=e.setRequestsFilters,v=Object(r.useState)(null===f||void 0===f||null===(t=f.time)||void 0===t||null===(n=t.interval)||void 0===n?void 0:n.prev),x=Object(je.a)(v,2),g=x[0],y=x[1],w=Object(r.useState)(null===f||void 0===f||null===(a=f.time)||void 0===a||null===(s=a.interval)||void 0===s?void 0:s.amount),k=Object(je.a)(w,2),C=k[0],S=k[1],q=Object(r.useState)(null===f||void 0===f||null===(c=f.time)||void 0===c||null===(i=c.interval)||void 0===i?void 0:i.unit),R=Object(je.a)(q,2),T=R[0],N=R[1],E=Object(r.useState)([null===f||void 0===f||null===(o=f.time)||void 0===o||null===(l=o.range)||void 0===l?void 0:l.start,null===f||void 0===f||null===(u=f.time)||void 0===u||null===(b=u.range)||void 0===b?void 0:b.end]),I=Object(je.a)(E,2),P=I[0],A=I[1],M=Object(r.useState)(null===f||void 0===f||null===(p=f.time)||void 0===p?void 0:p.type),F=Object(je.a)(M,2),z=F[0],_=F[1];Object(r.useEffect)((function(){var e,t,n,r,a,s,c,i,o,l,u;y(null===f||void 0===f||null===(e=f.time)||void 0===e||null===(t=e.interval)||void 0===t?void 0:t.prev),S(null===f||void 0===f||null===(n=f.time)||void 0===n||null===(r=n.interval)||void 0===r?void 0:r.amount),N(null===f||void 0===f||null===(a=f.time)||void 0===a||null===(s=a.interval)||void 0===s?void 0:s.unit),A([null===f||void 0===f||null===(c=f.time)||void 0===c||null===(i=c.range)||void 0===i?void 0:i.start,null===f||void 0===f||null===(o=f.time)||void 0===o||null===(l=o.range)||void 0===l?void 0:l.end]),_(null===f||void 0===f||null===(u=f.time)||void 0===u?void 0:u.type)}),[f]);var L=Object(r.useMemo)((function(){return"range"!==z||P.every((function(e){return null!==e}))}),[z,P]),H=function(){return h(!1)};return Object(Be.jsxs)(It.a,{open:O,onClose:H,children:[Object(Be.jsx)(Pt.a,{children:"Time filters"}),Object(Be.jsxs)(At.a,{children:[Object(Be.jsxs)(Za.a,{expanded:"interval"===z,onChange:function(){return _("interval")},children:[Object(Be.jsx)(es.a,{expandIcon:Object(Be.jsx)(rs.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(Be.jsx)(bt.a,{sx:{width:"33%",flexShrink:0},children:"Custom interval"})}),Object(Be.jsx)(ts.a,{children:Object(Be.jsx)(ls,{unit:T,setUnit:N,amount:C,setAmount:S,prev:g,setPrev:y})})]}),Object(Be.jsxs)(Za.a,{expanded:"range"===z,onChange:function(){return _("range")},children:[Object(Be.jsx)(es.a,{expandIcon:Object(Be.jsx)(rs.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:Object(Be.jsx)(bt.a,{sx:{width:"33%",flexShrink:0},children:"Custom range"})}),Object(Be.jsx)(ts.a,{children:Object(Be.jsx)(js,{range:P,setRange:A,onSelectTime:function(e,t){var n=Object(d.a)(P);n[e]=t,A(Object(d.a)(n))}})})]}),Object(Be.jsx)(ss,{onSelectCommonLast:function(e,t){_("interval"),S(e),N(t),y("prev")},onSelectCommonRange:function(e){_("range");var t=Ze()(new Date);A([t.startOf(e).toDate(),new Date])}})]}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:H,children:"Cancel"}),Object(Be.jsx)(ft.a,{onClick:function(){m(Object(j.a)(Object(j.a)({},f),{},{time:{type:z,range:P,interval:{prev:g,amount:C,unit:T}}})),H()},disabled:!L,children:"Apply"})]})]})})),ps=function(e){return/(?:(?:https?|ftp):)?\/\//.test(e)},Os=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},hs=function(e){var t=e.amount,n=e.unit,r=e.prev,a=Ze()(Date.now()),s=("prev"===r?a.subtract(t,n):a.add(t,n)).format("YYYY-MM-DD HH:mm:ss"),c=Ze()(Date.now()).format("YYYY-MM-DD HH:mm:ss");return"prev"===r?[s,c]:[c,s]},fs=function(e){for(var t,n,r,a=Object.values(null===e||void 0===e?void 0:e.statusCodes).flat().sort((function(e,t){return e-t})),s=null===e||void 0===e?void 0:e.body,c={},i=0;i<(null===e||void 0===e||null===(o=e.headers)||void 0===o?void 0:o.length);i++){var o,l=null===e||void 0===e?void 0:e.headers[i].key,u=null===e||void 0===e?void 0:e.headers[i].value;l&&u&&(c[l]=u)}var d={requestHeaders__contains:c},b=(null===s||void 0===s?void 0:s.responseBody)?{responseBody__contains:null===s||void 0===s?void 0:s.responseBody}:{},p=(null===s||void 0===s?void 0:s.requestBody)?{requestBody__contains:null===s||void 0===s?void 0:s.requestBody}:{},O=(null===e||void 0===e?void 0:e.domain)?{requestUrl__icontains:null===e||void 0===e?void 0:e.domain}:{};return{filters:JSON.stringify(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({method__in:null===e||void 0===e?void 0:e.methods,statusCode__in:a,created__range:"range"===(null===e||void 0===e||null===(t=e.time)||void 0===t?void 0:t.type)?null===e||void 0===e||null===(n=e.time)||void 0===n?void 0:n.range:hs(null===e||void 0===e||null===(r=e.time)||void 0===r?void 0:r.interval)},O),d),p),b))}},ms=function(e){var t;return{filters:JSON.stringify({created__range:null===e||void 0===e||null===(t=e.time)||void 0===t?void 0:t.range})}},vs=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n,r,a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.clipboardData.getData("Text"),r=!1,Os(n)&&(a=JSON.parse(n),n=Object.keys(a).map((function(e){return{key:e,value:a[e],include:!0}})),r=!0),e.abrupt("return",{result:n,isJson:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xs=Object(i.b)((function(e){return{requestsFilters:e.requests.requestsFilters}}),{setRequestsFilters:sr})((function(e){var t=e.requestsFilters,n=e.setRequestsFilters,s=Object(r.useState)(null===t||void 0===t?void 0:t.domain),c=Object(je.a)(s,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){var e=setTimeout(Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(Object(j.a)(Object(j.a)({},t),{},{domain:i})));case 1:case"end":return e.stop()}}),e)}))),700);return function(){return clearTimeout(e)}}),[i]),Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(bt.a,{variant:"subtitle2",className:"mt-2",children:"Url"}),Object(Be.jsx)(Ot.a,{value:i||"",onChange:function(e){return o(e.target.value)},label:"Domain or url",variant:"standard",size:"small",placeholder:"some.domain.com",className:"mt-2"})]})})),gs=n(801),ys=n(802),ws=Object(i.b)((function(e){return{requestsFilters:e.requests.requestsFilters}}),{setRequestsFilters:sr})((function(e){var t,n,s=e.requestsFilters,c=e.setRequestsFilters,i=Object(r.useState)(null===s||void 0===s||null===(t=s.body)||void 0===t?void 0:t.requestBody),o=Object(je.a)(i,2),l=o[0],u=o[1],d=Object(r.useState)(null===s||void 0===s||null===(n=s.body)||void 0===n?void 0:n.responseBody),b=Object(je.a)(d,2),p=b[0],O=b[1];return Object(r.useEffect)((function(){var e=setTimeout(Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(Object(j.a)(Object(j.a)({},s),{},{body:{responseBody:p,requestBody:l}})));case 1:case"end":return e.stop()}}),e)}))),700);return function(){return clearTimeout(e)}}),[l,p]),Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(bt.a,{variant:"subtitle2",className:"mt-2",children:"Body"}),Object(Be.jsx)(Ot.a,{value:l,onChange:function(e){return u(e.target.value)},label:"Request body",variant:"standard",size:"small",placeholder:'{"id": 1}',className:"mt-2"}),Object(Be.jsx)(Ot.a,{value:p,onChange:function(e){return O(e.target.value)},label:"Response body",variant:"standard",size:"small",placeholder:'{"id": 1}',className:"mt-2"})]})})),ks=n(725),Cs=n(762),Ss=function(e){var t=e.menu,n=e.onClose,a=e.requestsFilters,s=e.projectSettings,c=e.setRequestsFilters,i=Object(r.useState)(null===a||void 0===a?void 0:a.headers),o=Object(je.a)(i,2),l=o[0],u=o[1];Object(r.useEffect)((function(){return u(null===a||void 0===a?void 0:a.headers)}),[t]),Object(r.useEffect)((function(){var e=setTimeout(Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(Object(j.a)(Object(j.a)({},a),{},{headers:l})));case 1:case"end":return e.stop()}}),e)}))),700);return function(){return clearTimeout(e)}}),[l]);var b=Object(r.useCallback)(Object(He.a)(Le.a.mark((function e(){var t,n,r,a=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:"key",n=a.length>1?a[1]:void 0,r=a.length>2?a[2]:void 0,u(null===l||void 0===l?void 0:l.map((function(e,a){return a===n?Object(j.a)(Object(j.a)({},e),{},Object(_t.a)({},t,r)):e})));case 4:case"end":return e.stop()}}),e)}))),[l]);return Object(Be.jsx)(jr.a,{disableScrollLock:!1,onClose:n,open:Boolean(t),anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:Object(Be.jsxs)(bn.a,{sx:{p:2,minWidth:400,maxWidth:400,maxHeight:500},children:[Object(Be.jsx)(bt.a,{children:"Headers filters"}),null===l||void 0===l?void 0:l.map((function(e,t){var n,r;return Object(Be.jsxs)("div",{className:"d-flex justify-content-center align-items-center mt-2",children:[Object(Be.jsx)(Cs.a,{fullWidth:!0,freeSolo:!0,disableClearable:!0,value:null===e||void 0===e?void 0:e.key,options:null===s||void 0===s||null===(n=s.filterHeaders)||void 0===n?void 0:n.keys,onSelect:function(){var e=Object(He.a)(Le.a.mark((function e(n,r){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("key",t,n.target.value);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onChange:function(){var e=Object(He.a)(Le.a.mark((function e(n,r){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("key",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{label:"Key",variant:"standard",placeholder:"Key",className:"me-1"}))}}),Object(Be.jsx)(Cs.a,{fullWidth:!0,freeSolo:!0,disableClearable:!0,value:null===e||void 0===e?void 0:e.value,options:null===s||void 0===s||null===(r=s.filterHeaders)||void 0===r?void 0:r.values,onSelect:function(){var e=Object(He.a)(Le.a.mark((function e(n,r){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("value",t,n.target.value);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onChange:function(){var e=Object(He.a)(Le.a.mark((function e(n,r){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("value",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{label:"Value",variant:"standard",placeholder:"Value",className:"ms-1"}))}}),Object(Be.jsx)(nt.a,{size:"small",sx:{mt:2},onClick:function(){return function(e){var t=Object(d.a)(l);t.splice(e,1),u(t)}(t)},children:Object(Be.jsx)(at.a,{fontSize:"small"})})]},t)})),Object(Be.jsx)(ft.a,{onClick:function(){return u([].concat(Object(d.a)(l),[{key:"",value:""}]))},startIcon:Object(Be.jsx)(ks.a,{}),size:"small",color:"inherit",className:"mt-2",children:"New header"})]})})},qs=Object(i.b)((function(e){return{projectSettings:e.projects.projectSettings,requestsFilters:e.requests.requestsFilters}}),{setRequestsFilters:sr})(Object(r.memo)(Ss)),Rs=Object(i.b)((function(e){return{requestsFilters:e.requests.requestsFilters}}),{setRequestsFilters:sr})((function(e){var t=e.requestsFilters,n=e.setRequestsFilters,s=Object(r.useState)(null),c=Object(je.a)(s,2),i=c[0],o=c[1];return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(bt.a,{variant:"subtitle2",className:"mt-2",children:"Headers"}),Object(Be.jsx)(Jn.a,{dense:!0,children:null===t||void 0===t?void 0:t.headers.map((function(e,r){return Object(Be.jsxs)(zn.a,{divider:!0,disableGutters:!0,children:[Object(Be.jsx)(Kn.a,{style:Object(j.a)(Object(j.a)({},Jt.ellipsisText),{},{maxWidth:90}),primary:(null===e||void 0===e?void 0:e.key)?null===e||void 0===e?void 0:e.key:"<Empty>"}),Object(Be.jsx)(br.a,{children:Object(Be.jsx)(In.a,{title:"Remove filter",placement:"right",children:Object(Be.jsx)(nt.a,{size:"small",onClick:function(){return function(e){var r=Object(d.a)(null===t||void 0===t?void 0:t.headers);r.splice(e,1),n(Object(j.a)(Object(j.a)({},t),{},{headers:Object(d.a)(r)}))}(r)},children:Object(Be.jsx)(at.a,{fontSize:"small"})})})})]},e.id)}))}),Object(Be.jsx)(ft.a,{size:"small",fullWidth:!0,startIcon:Object(Be.jsx)(ks.a,{}),className:"justify-content-start mt-1",color:"inherit",onClick:function(e){return o(e.currentTarget)},children:"New filter"}),Object(Be.jsx)(qs,{menu:i,onClose:function(){return o(null)}})]})})),Ts=n(726),Ns=function(e){var t=e.load,n=e.type,s=void 0===n?"success":n,c=e.value,i=e.options,o=e.onChange,l=e.className,u=it().setAlert,d=Object(r.useCallback)((function(e){return null===e||void 0===e?void 0:e.every((function(e){return/^\d+$/.test(e)}))}));return Object(Be.jsx)(Cs.a,{ListboxProps:{style:{maxHeight:"15rem"}},value:c,size:"small",multiple:!0,freeSolo:!0,className:l,options:i,onChange:function(e,t){return d(t)?o(s,t):u({message:"You entered not valid digit",level:"warning"})},disableCloseOnSelect:!0,getOptionLabel:function(e){return e.toString()},renderOption:function(e,t,n){var r=n.selected;return Object(Be.jsxs)("li",Object(j.a)(Object(j.a)({},e),{},{children:[Object(Be.jsx)(Zr.a,{size:"small",style:{marginRight:8},checked:r}),t]}))},renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{label:'Status codes "'.concat(s,'"'),placeholder:"Select from list or type custom",size:"small",variant:"standard",helperText:'Select "'.concat(s,'" status codes which you want \n                to see in requests filters section'),InputProps:Object(j.a)(Object(j.a)({},e.InputProps),{},{startAdornment:Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(ht.a,{position:"start",children:Object(Be.jsx)(na,{statusCode:k.find((function(e){return e.value===s})).code})}),e.InputProps.startAdornment]})})}))}},t)},Es=Object(i.b)((function(e){return{projectSettings:e.projects.projectSettings,requestsFilters:e.requests.requestsFilters}}),{setRequestsFilters:sr})((function(e){var t=e.requestsFilters,n=e.projectSettings,a=e.setRequestsFilters,s=Object(r.useState)(null),c=Object(je.a)(s,2),i=c[0],o=c[1],l=Object(r.useState)({type:"success",value:[],options:[]}),u=Object(je.a)(l,2),d=u[0],b=u[1];return Object(Be.jsxs)(gs.a,{children:[Object(Be.jsx)(bt.a,{variant:"subtitle2",className:"mt-2",children:"Status codes"}),k.map((function(e,r){var s;return Object(Be.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Be.jsx)(ys.a,{control:Object(Be.jsx)(Zr.a,{size:"small",color:"primary",value:null===e||void 0===e?void 0:e.value,checked:-1!==(null===(s=Object.keys(null===t||void 0===t?void 0:t.statusCodes))||void 0===s?void 0:s.indexOf(null===e||void 0===e?void 0:e.value)),onClick:function(e){return function(e){var r=t.statusCodes,s=n.filterStatusCodes;(null===e||void 0===e?void 0:e.checked)?r[e.value]=s[e.value]:delete r[e.value],a(Object(j.a)(Object(j.a)({},t),{},{statusCodes:Object(j.a)({},r)}))}(e.target)}}),label:Object(Be.jsx)(na,{statusCode:null===e||void 0===e?void 0:e.code})},r),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(nt.a,{size:"small",onClick:function(r){return function(e,r){o(e.currentTarget),b({type:r,options:null===n||void 0===n?void 0:n.filterStatusCodes[r],value:null===t||void 0===t?void 0:t.statusCodes[r]})}(r,null===e||void 0===e?void 0:e.value)},children:Object(Be.jsx)(Ts.a,{fontSize:"small"})})]},r)})),Object(Be.jsx)(jr.a,{disableScrollLock:!1,onClose:function(){return o(null)},open:Boolean(i),anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:Object(Be.jsx)(bn.a,{sx:{p:2,maxWidth:400},children:Object(Be.jsx)(Ns,{type:d.type,load:t,value:d.value,options:d.options,onChange:function(e,n){a(Object(j.a)(Object(j.a)({},t),{},{statusCodes:Object(j.a)(Object(j.a)({},null===t||void 0===t?void 0:t.statusCodes),{},Object(_t.a)({},e,n.map(Number)))})),b(Object(j.a)(Object(j.a)({},d),{},{value:n}))}})})})]})})),Is=n(727),Ps=n(753),As=Object(i.b)((function(e){return{project:e.projects.project,requestsFilters:e.requests.requestsFilters}}),null)((function(e){var t=e.modal,n=e.setModal,a=e.project,s=e.requestsFilters,c=xr(),i=c.request,o=c.createRequestsFilter,l=Object(r.useState)(""),u=Object(je.a)(l,2),d=u[0],b=u[1],p=function(){return n(!1)},O=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o(a.id,Object(j.a)(Object(j.a)({},s),{},{title:d})).then((function(){return p()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(It.a,{open:t,onClose:p,fullWidth:!0,children:[Object(Be.jsx)(Pt.a,{children:"Save filters"}),Object(Be.jsx)(At.a,{children:Object(Be.jsx)(Ot.a,{value:d,onChange:function(e){return b(e.target.value)},fullWidth:!0,variant:"standard",label:"Title",placeholder:"Production filters",helperText:"Name your set of filters, this will help you and others to find them later"})}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:p,children:"Cancel"}),Object(Be.jsx)(Ps.a,{loading:i,disabled:0===d.length,onClick:O,children:"Save"})]})]})})),Ms=Object(i.b)((function(e){return{projectSettings:e.projects.projectSettings,requestsFilters:e.requests.requestsFilters}}),{setRequestsFilters:sr,setRequestsTimeFilterModal:lr})((function(e){var t,n=e.projectSettings,s=e.requestsFilters,c=e.setRequestsFilters,i=e.setRequestsTimeFilterModal,o=ka().isAllowed,l=Object(r.useState)(!1),u=Object(je.a)(l,2),b=u[0],p=u[1];return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(xs,{}),Object(Be.jsx)(En.a,{sx:{marginTop:1.5,marginBottom:1.5}}),Object(Be.jsx)(ws,{}),Object(Be.jsx)(En.a,{sx:{marginTop:1.5,marginBottom:1.5}}),Object(Be.jsx)(Rs,{}),Object(Be.jsx)(En.a,{sx:{marginTop:1.5,marginBottom:1.5}}),Object(Be.jsxs)(gs.a,{children:[Object(Be.jsx)(bt.a,{variant:"subtitle2",className:"mt-2",children:"Methods"}),null===n||void 0===n||null===(t=n.filterMethods)||void 0===t?void 0:t.map((function(e,t){return Object(Be.jsx)(ys.a,{control:Object(Be.jsx)(Zr.a,{checked:-1!==s.methods.indexOf(e),onClick:function(e){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"methods";t=(null===e||void 0===e?void 0:e.checked)?[].concat(Object(d.a)(s[n]),[e.value]):s[n].filter((function(t){return t!==e.value})),c(Object(j.a)(Object(j.a)({},s),{},Object(_t.a)({},n,Object(d.a)(t))))}(e.target,"methods")},value:e,size:"small",color:"primary"}),label:e},t)}))]}),Object(Be.jsx)(En.a,{}),Object(Be.jsx)(Es,{}),Object(Be.jsx)(En.a,{}),Object(Be.jsx)(bt.a,{variant:"subtitle2",className:"mt-2",children:"Time"}),Object(Be.jsx)(ft.a,{onClick:function(){return i(!0)},size:"small",startIcon:Object(Be.jsx)(Ar.a,{fontSize:"small"}),color:"inherit",fullWidth:!0,className:"justify-content-start",children:"Time filters"}),Object(Be.jsx)(En.a,{className:"mt-2"}),Object(Be.jsx)(ft.a,{size:"small",disabled:!o([qa]),startIcon:Object(Be.jsx)(Is.a,{fontSize:"small"}),fullWidth:!0,className:"justify-content-start mt-2",onClick:function(){return p(!0)},children:"Save filters"}),Object(Be.jsx)(As,{modal:b,setModal:p})]})})),Fs=n(728),zs=Object(i.b)((function(e){return{project:e.projects.project,requestsFilters:e.requests.requestsFilters}}),{setConfirmAction:zt})((function(e){var t=e.project,n=e.filter,s=e.requestsFilters,c=e.setConfirmAction,i=e.onSelectFilters,o=ka().isAllowed,l=xr().deleteRequestsFilter,u=Object(r.useState)(null),d=Object(je.a)(u,2),j=d[0],b=d[1],p=function(){return b(null)},O=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({modal:!0,title:"Delete filters?",description:"Are you sure you want to delete filters? You will not be able to restore it later",confirmButton:"Delete",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.id,null===n||void 0===n?void 0:n.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(bn.a,{sx:yr.boxContainer,children:Object(Be.jsx)(nt.a,{onClick:function(e){return b(e.currentTarget)},size:"small",children:Object(Be.jsx)(Ts.a,{fontSize:"small"})})}),Object(Be.jsxs)(Rn.a,{anchorEl:j,open:Boolean(j),onClose:p,onClick:p,transformOrigin:{horizontal:"left",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(Be.jsxs)(Tn.a,{onClick:i,disabled:(null===n||void 0===n?void 0:n.id)===(null===s||void 0===s?void 0:s.id),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Fs.a,{fontSize:"small"})}),"Select filter"]}),Object(Be.jsxs)(Tn.a,{onClick:i,disabled:(null===n||void 0===n?void 0:n.id)!==(null===s||void 0===s?void 0:s.id),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(at.a,{fontSize:"small"})}),"Deselect filter"]}),Object(Be.jsx)(En.a,{}),Object(Be.jsxs)(Tn.a,{onClick:O,sx:Jt.danger,disabled:!o([Ra]),children:[Object(Be.jsx)(Nn.a,{sx:Jt.danger,children:Object(Be.jsx)(ua.a,{fontSize:"small"})}),"Delete"]})]})]})})),_s=function(e){var t=e.filter,n=e.setRequestsFilters,r=e.requestsFilters,a=it().setAlert,s=function(){(null===t||void 0===t?void 0:t.id)===(null===r||void 0===r?void 0:r.id)?(n(w),a({message:"Default filters selected",level:"success"}),a({message:'Filters "'.concat(null===t||void 0===t?void 0:t.title,'" deselected'),level:"success"})):(n(t),a({message:"Filters selected",level:"success"}))};return Object(Be.jsx)(In.a,{title:null===t||void 0===t?void 0:t.title,placement:"right",children:Object(Be.jsxs)(zn.a,{divider:!0,button:!0,disableGutters:!0,onClick:s,selected:(null===r||void 0===r?void 0:r.id)===(null===t||void 0===t?void 0:t.id),children:[Object(Be.jsx)(Kn.a,{primary:null===t||void 0===t?void 0:t.title,style:Object(j.a)(Object(j.a)({},Jt.ellipsisText),{},{width:100,maxWidth:100,marginLeft:3})}),Object(Be.jsx)(br.a,{children:Object(Be.jsx)(zs,{filter:t,onSelectFilters:s})})]})})},Ls=Object(i.b)((function(e){return{requestsFilters:e.requests.requestsFilters}}),{setRequestsFilters:sr})(Object(r.memo)(_s)),Hs=Object(i.b)((function(e){return{project:e.projects.project,savedRequestsFilters:e.requests.savedRequestsFilters}}),null)((function(e){var t=e.project,n=e.savedRequestsFilters,s=xr().getRequestsFilters;return Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}),[t]),Object(Be.jsx)(a.a.Fragment,{children:Object(Be.jsx)(Jn.a,{dense:!0,children:null===n||void 0===n?void 0:n.map((function(e){return Object(Be.jsx)(Ls,{filter:e},e.id)}))})})})),Ws=Object(i.b)((function(e){return{project:e.projects.project,requestsFiltersSidebar:e.requests.requestsFiltersSidebar}}),{setRequestsFiltersSidebar:or})((function(e){var t=e.project,n=e.requestsFiltersSidebar,a=e.setRequestsFiltersSidebar,s=Object(l.g)(),c=$t(),i=Object(r.useState)("fields"),o=Object(je.a)(i,2),u=o[0],d=o[1];return Object(Be.jsx)(bn.a,{sx:{width:200,mr:2},hidden:n,children:Object(Be.jsxs)(Nr.a,{className:"p-1 ps-2 pb-2",children:[Object(Be.jsxs)("div",{className:"d-flex",children:[Object(Be.jsx)(In.a,{title:"Filters settings",placement:"top",children:Object(Be.jsx)(nt.a,{size:"small",onClick:function(){return s.push("/projects/".concat(t.id,"/settings/filters"))},children:Object(Be.jsx)(nr.a,{fontSize:"small"})})}),Object(Be.jsx)(In.a,{title:"fields"===u?"Filters fields":"Saved filters",placement:"top",children:Object(Be.jsx)(nt.a,{size:"small",sx:{ml:.5},onClick:function(){return d("fields"===u?"saved":"fields")},children:"fields"===u?Object(Be.jsx)(Gn.a,{fontSize:"small"}):Object(Be.jsx)(Rr.a,{fontSize:"small"})})}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(nt.a,{size:"small",onClick:function(){return a(!0)},children:Object(Be.jsx)(at.a,{fontSize:"small"})})]}),Object(Be.jsx)(En.a,{}),Object(Be.jsx)(bn.a,{className:c.sideBarFiltersContainer,children:"fields"===u?Object(Be.jsx)(Ms,{}):Object(Be.jsx)(Hs,{})})]})})})),Ds=n(764),Us=function(){var e=Object(i.c)((function(e){return e.users.userSettings})).skeletonAnimation,t=Object(r.useMemo)((function(){return Math.floor((window.innerHeight-170)/50)}),[]);return Object(Be.jsx)("div",{style:{width:"100%"},children:new Array(t).fill().map((function(t,n){return Object(Be.jsx)(Ds.a,{animation:e,width:"100%",height:50},n)}))})},Bs=function(e){var t=e.request,n=e.setRequest;return Object(Be.jsxs)(Nr.a,{sx:{ml:2},children:[Object(Be.jsxs)("div",{className:"d-flex align-items-center p-2",children:[Object(Be.jsx)(In.a,{title:"Close request",children:Object(Be.jsx)(nt.a,{size:"small",onClick:function(){return n({})},children:Object(Be.jsx)(at.a,{fontSize:"small"})})}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(Ta,{request:t})]}),Object(Be.jsx)(En.a,{}),Object(Be.jsx)(_a,{request:t})]})},Js=Object(i.b)((function(e){return{request:e.requests.request}}),{setRequest:ar})(Object(r.memo)(Bs)),Ys=Object(i.b)((function(e){return{viewMode:e.users.viewMode,request:e.requests.request,selectedRequests:e.requests.selectedRequests,requestsFilters:e.requests.requestsFilters,requestsPagination:e.requests.requestsPagination,requestsRealtime:e.requests.requestsRealtime}}),null)((function(e){var t=e.request,n=e.viewMode,a=e.requestsRealtime,s=e.selectedRequests,c=e.requestsFilters,i=e.requestsPagination,o=Object(l.i)().projectId,u=Object(r.useRef)(null),d=xr(),j=d.load,b=d.getRequests,p=d.updateRequestsFilter;return Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(o,i.rowsPerPage,i.rowsPerPage*i.page,fs(c));case 2:if(e.t0=null===c||void 0===c?void 0:c.id,!e.t0){e.next=6;break}return e.next=6,p(o,null===c||void 0===c?void 0:c.id,c);case 6:case"end":return e.stop()}}),e)})))()}),[o,c,i]),Object(r.useEffect)((function(){return clearInterval(u.current),(null===a||void 0===a?void 0:a.enabled)&&(u.current=setInterval(Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(o,i.rowsPerPage,i.rowsPerPage*i.page,fs(c));case 2:case"end":return e.stop()}}),e)}))),1e3*a.normalizedAmount)),function(){clearInterval(u.current)}}),[o,a,c,i]),Object(Be.jsxs)(dt.a,{maxWidth:"xl",children:[s.length>0?Object(Be.jsx)($a,{}):Object(Be.jsx)(Yr,{}),Object(Be.jsxs)("div",{className:"d-flex mt-3",children:[Object(Be.jsx)(Ws,{}),Object(Be.jsxs)(pt.a,{container:!0,children:[Object(Be.jsx)(pt.a,{item:!0,xs:"side"!==n.requests||Ue.a.isEmpty(t)?12:6,children:j?Object(Be.jsx)(Us,{}):Object(Be.jsx)(Va,{})}),"side"===n.requests&&!Ue.a.isEmpty(t)&&Object(Be.jsx)(pt.a,{item:!0,xs:6,children:Object(Be.jsx)(Js,{})})]})]}),Object(Be.jsx)(bs,{})]})})),Gs=a.a.createContext(null),Vs=function(e){var t=e.children,n=ut().token,a=f+"api/v1/projects/",s=Object(r.useState)(!1),c=Object(je.a)(s,2),i=c[0],o=c[1],l=Object(r.useState)({data:[]}),u=Object(je.a)(l,2),d=u[0],b=u[1],p=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,s,c,i=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"hours",s=i.length>2&&void 0!==i[2]?i[2]:{},o(!0),e.next=5,Ve(Object(j.a)(Object(j.a)({},s),{},{groupBy:r}));case 5:return c=e.sent,e.next=8,fetch(a+"".concat(t,"/requests/stats/").concat(c),{headers:{Authorization:"Token ".concat(n)}}).then((function(e){return e.json()})).then(function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(t),o(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsx)(Gs.Provider,{value:{load:i,requestsStats:d,getRequestsStats:p},children:t})},Qs=function(){var e=Object(r.useContext)(Gs);if(null==e)throw new Error("useRequestsStats() called outside of a RequestsStatsProvider?");return e},Ks=n(729),Xs=n(730),$s=Object(i.b)((function(e){return{requestsStatsFilters:e.requests.requestsStatsFilters}}),{setRequestsStatsFilters:dr})((function(e){var t,n,a=e.modal,s=e.setModal,c=e.requestsStatsFilters,i=e.setRequestsStatsFilters,o=Object(r.useState)([null===c||void 0===c||null===(t=c.time)||void 0===t?void 0:t.range[0],null===c||void 0===c||null===(n=c.time)||void 0===n?void 0:n.range[1]]),l=Object(je.a)(o,2),u=l[0],b=l[1],p=function(){return s(!1)};return Object(Be.jsxs)(It.a,{open:a,onClose:p,children:[Object(Be.jsx)(Pt.a,{children:"Stats filters"}),Object(Be.jsxs)(At.a,{children:[Object(Be.jsx)(Mt.a,{children:"You can apply range to view statistic for specific period"}),Object(Be.jsx)(js,{range:u,setRange:b,onSelectTime:function(e,t){var n=Object(d.a)(u);n[e]=t,b(Object(d.a)(n))}})]}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:p,children:"Cancel"}),Object(Be.jsx)(ft.a,{onClick:function(){p(),i(Object(j.a)(Object(j.a)({},c),{},{time:{range:u,type:"range"}}))},children:"Apply"})]})]})})),Zs=Object(i.b)((function(e){return{requestsStatsFilters:e.requests.requestsStatsFilters}}),{setRequestsStatsFilters:dr})((function(e){var t=e.requestsStatsFilters,n=e.setRequestsStatsFilters,s=tn(),c=Object(r.useState)(!1),i=Object(je.a)(c,2),o=i[0],l=i[1];return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsxs)(Nr.a,{elevation:3,className:Object(gr.a)("mt-3 d-flex",s.toolbarContainer),children:[Object(Be.jsx)(Pr,{}),Object(Be.jsx)(En.a,{orientation:"vertical",flexItem:!0,style:nn.buttonsDivider}),Object(Be.jsx)(ft.a,{startIcon:Object(Be.jsx)(Ar.a,{}),color:"inherit",onClick:function(){return l(!0)},children:Object(Be.jsx)(bt.a,{style:Jt.ellipsisText,children:Lr(null===t||void 0===t?void 0:t.time)})}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(In.a,{title:"Clear all filters",children:Object(Be.jsx)(nt.a,{sx:{mr:2},onClick:function(){return n({})},children:Object(Be.jsx)(Ks.a,{})})}),Object(Be.jsx)(nt.a,{children:Object(Be.jsx)(Xs.a,{})})]}),Object(Be.jsx)($s,{modal:o,setModal:l})]})})),ec=function(){var e=Qs(),t=e.load,n=e.requestsStats,r=Object(i.c)((function(e){return e.users.userSettings})).skeletonAnimation;return Object(Be.jsxs)(pt.a,{container:!0,spacing:2,className:"mt-2",children:[Object(Be.jsx)(pt.a,{item:!0,xs:3,children:Object(Be.jsxs)(Nr.a,{elevation:3,style:rn.gridContainer,children:[Object(Be.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Be.jsx)(bt.a,{className:"flex-grow-1",children:"Total requests"}),Object(Be.jsx)(Xs.a,{fontSize:"small"})]}),Object(Be.jsx)(bt.a,{className:"mt-2",variant:"h5",children:t?Object(Be.jsx)(Ds.a,{animation:r}):null===n||void 0===n?void 0:n.total})]})}),Object(Be.jsx)(pt.a,{item:!0,xs:3,children:Object(Be.jsxs)(Nr.a,{elevation:3,style:rn.gridContainer,children:[Object(Be.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Be.jsx)(bt.a,{className:"flex-grow-1",children:"Created"}),Object(Be.jsx)(Xs.a,{fontSize:"small"})]}),Object(Be.jsx)(bt.a,{className:"mt-2",variant:"h5",children:t?Object(Be.jsx)(Ds.a,{animation:r}):null===n||void 0===n?void 0:n.create})]})}),Object(Be.jsx)(pt.a,{item:!0,xs:3,children:Object(Be.jsxs)(Nr.a,{elevation:3,style:rn.gridContainer,children:[Object(Be.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Be.jsx)(bt.a,{className:"flex-grow-1",children:"Removed"}),Object(Be.jsx)(Xs.a,{fontSize:"small"})]}),Object(Be.jsx)(bt.a,{className:"mt-2",variant:"h5",children:t?Object(Be.jsx)(Ds.a,{animation:r}):null===n||void 0===n?void 0:n.delete})]})}),Object(Be.jsx)(pt.a,{item:!0,xs:3,children:Object(Be.jsxs)(Nr.a,{elevation:3,style:rn.gridContainer,children:[Object(Be.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Be.jsx)(bt.a,{className:"flex-grow-1",children:"Filtered"}),Object(Be.jsx)(Xs.a,{fontSize:"small"})]}),Object(Be.jsx)(bt.a,{className:"mt-2",variant:"h5",children:t?Object(Be.jsx)(Ds.a,{animation:r}):null===n||void 0===n?void 0:n.filter})]})})]})},tc=n(117),nc=function(){var e=Object(r.useState)(null),t=Object(je.a)(e,2),n=t[0],a=t[1];return Object(Be.jsxs)("div",{className:"d-flex",children:[Object(Be.jsx)(ft.a,{size:"small",sx:{ml:2,mb:1,mt:1},onClick:function(e){return a(e.currentTarget)},color:"inherit",endIcon:Object(Be.jsx)(Ir.a,{}),children:"Group: Hours"}),Object(Be.jsxs)(Rn.a,{anchorEl:n,open:Boolean(n),onClose:function(){return a(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:[Object(Be.jsx)(Tn.a,{children:"By hours"}),Object(Be.jsx)(Tn.a,{children:"By days"})]})]})},rc=function(){var e=function(){var e=Object(jn.a)().palette;return{commonChartOptions:{animation:!1,layout:{padding:{right:10,left:10}},scales:{y:{stacked:!0,ticks:{beginAtZero:!0,color:e.text.primary}},x:{stacked:!0,ticks:{color:e.text.primary,maxRotation:0,minRotation:0,autoSkipPadding:10,labelOffset:35}}},plugins:{legend:{labels:{color:e.text.primary,usePointStyle:!0,boxWidth:7}},tooltip:{callbacks:{title:function(e){var t;return null===(t=e[0])||void 0===t?void 0:t.label}}}}}}}().commonChartOptions,t=Qs().requestsStats;return Object(Be.jsxs)(Nr.a,{children:[Object(Be.jsx)(tc.a,{data:null===t||void 0===t?void 0:t.data,options:e}),Object(Be.jsx)(nc,{})]})},ac={labels:["1","2","3","4","5","6"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]},sc={scales:{y:{beginAtZero:!0}}},cc=function(){return Object(Be.jsxs)(Nr.a,{children:[Object(Be.jsx)(tc.b,{data:ac,options:sc}),Object(Be.jsx)(nc,{})]})},ic=Object(i.b)((function(e){return{project:e.projects.project,requestsStatsFilters:e.requests.requestsStatsFilters}}),null)((function(e){var t=e.project,n=e.requestsStatsFilters,a=ut().token,s=Qs().getRequestsStats,c=Object(r.useState)("hours"),i=Object(je.a)(c,2),o=i[0];i[1];return Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a,!e.t0){e.next=5;break}return e.next=4,s(t.id,o,ms(n));case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))()}),[a,t.id,o,n]),Object(Be.jsxs)(dt.a,{maxWidth:"xl",children:[Object(Be.jsx)(Zs,{}),Object(Be.jsx)(ec,{}),Object(Be.jsxs)(pt.a,{container:!0,spacing:2,className:"mt-2",children:[Object(Be.jsx)(pt.a,{item:!0,xs:6,children:Object(Be.jsx)(rc,{})}),Object(Be.jsx)(pt.a,{item:!0,xs:6,children:Object(Be.jsx)(cc,{})})]})]})})),oc=n(84),lc=n.n(oc),uc=Object(Dt.a)((function(e){return{sidebarContainer:{bgcolor:"background.paper",flexDirection:"column",width:300,overflowX:"hidden",position:"fixed"},contentContainer:{marginLeft:320,paddingTop:0,marginTop:10},sidebarListContainer:{maxHeight:window.innerHeight/1.3,overflow:"auto"},membersTableContainer:{height:window.innerHeight/1.3,maxHeight:window.innerHeight/1.3},headerContainer:{height:60},sectionList:{width:"100%",position:"relative",overflow:"auto",maxHeight:300,"& ul":{padding:0}}}})),dc=Object(Dt.a)({methodButton:{paddingLeft:12,paddingRight:56,position:"relative","& .MuiButton-sizeSmall":{paddingLeft:48,paddingRight:32,position:"absolute",left:16},"& .MuiButton-endIcon":{position:"absolute",right:8}},requestHeadersContainer:{maxHeight:200,height:200,overflow:"hidden","&:hover":{overflowY:"overlay"}},responseHeadersContainer:{maxHeight:300,height:300,overflow:"hidden","&:hover":{overflowY:"overlay"}},historyListContainer:{overflow:"auto",maxHeight:window.innerHeight/1.54,height:window.innerHeight/1.54}}),jc=function(e){var t=e.to,n=e.open,r=e.title,a=Object(yt.a)(e,["to","open","title"]),s=null;return null!=n&&(s=n?Object(Be.jsx)(lc.a,{}):Object(Be.jsx)(rs.a,{})),Object(Be.jsx)("li",{children:Object(Be.jsxs)(zn.a,Object(j.a)(Object(j.a)({button:!0,component:o.b,to:t},a),{},{children:[Object(Be.jsx)(Kn.a,{primary:r}),s]}))})},bc=Object(i.b)((function(e){return{project:e.projects.project}}),null)((function(e){var t=e.project,n=uc(),a=Object(l.h)(),s=Object(r.useState)({users:!1,requests:!1,tracks:!1}),c=Object(je.a)(s,2),i=c[0],o=c[1];Object(r.useEffect)((function(){var e,t=(e=a.pathname).endsWith("/settings/members")||e.endsWith("/settings/roles")?"users":e.endsWith("/settings/inbound")||e.endsWith("/settings/filters")?"requests":void 0;u(t)}),[]);var u=function(e){return o(Object(j.a)(Object(j.a)({},i),{},Object(_t.a)({},e,!i[e])))};return Object(Be.jsxs)(bn.a,{className:n.sidebarContainer,component:"nav",children:[Object(Be.jsx)(bt.a,{className:"mt-4 mb-2",variant:"h6",children:"Project settings"}),Object(Be.jsxs)(Jn.a,{className:n.sidebarListContainer,children:[Object(Be.jsx)(jc,{selected:a.pathname.endsWith("/settings/general"),to:"/projects/".concat(t.id,"/settings/general"),title:"General"}),Object(Be.jsx)(jc,{selected:a.pathname.endsWith("/settings/notifications"),to:"/projects/".concat(t.id,"/settings/notifications"),title:"Notifications"}),Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){return u("users")},children:[Object(Be.jsx)(Kn.a,{primary:"Users"}),i.users?Object(Be.jsx)(lc.a,{}):Object(Be.jsx)(rs.a,{})]}),Object(Be.jsx)(ea.a,{component:"li",in:i.users,timeout:"auto",unmountOnExit:!0,children:Object(Be.jsxs)(Jn.a,{disablePadding:!0,children:[Object(Be.jsx)(jc,{sx:{pl:4},to:"/projects/".concat(t.id,"/settings/members"),title:"Members",selected:a.pathname.endsWith("/settings/members")}),Object(Be.jsx)(jc,{sx:{pl:4},to:"/projects/".concat(t.id,"/settings/roles"),title:"Roles",selected:a.pathname.endsWith("/settings/roles")})]})}),Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){return u("requests")},children:[Object(Be.jsx)(Kn.a,{primary:"Requests"}),i.requests?Object(Be.jsx)(lc.a,{}):Object(Be.jsx)(rs.a,{})]}),Object(Be.jsx)(ea.a,{component:"li",in:i.requests,timeout:"auto",unmountOnExit:!0,children:Object(Be.jsxs)(Jn.a,{disablePadding:!0,children:[Object(Be.jsx)(jc,{sx:{pl:4},to:"/projects/".concat(t.id,"/settings/inbound"),title:"Inbound data filters",selected:a.pathname.endsWith("/settings/inbound")}),Object(Be.jsx)(jc,{sx:{pl:4},to:"/projects/".concat(t.id,"/settings/filters"),title:"Filters",selected:a.pathname.endsWith("/settings/filters")}),Object(Be.jsx)(jc,{sx:{pl:4},to:"/projects/".concat(t.id,"/settings/realtime"),title:"Realtime updates",selected:a.pathname.endsWith("/settings/realtime")})]})}),Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){return u("tracks")},children:[Object(Be.jsx)(Kn.a,{primary:"Tracks"}),i.tracks?Object(Be.jsx)(lc.a,{}):Object(Be.jsx)(rs.a,{})]}),Object(Be.jsx)(ea.a,{component:"li",in:i.tracks,timeout:"auto",unmountOnExit:!0,children:Object(Be.jsxs)(Jn.a,{disablePadding:!0,children:[Object(Be.jsx)(jc,{sx:{pl:4},to:"/projects/".concat(t.id,"/settings/activities"),title:"Activities",selected:a.pathname.endsWith("/settings/activities")}),Object(Be.jsx)(jc,{sx:{pl:4},to:"/projects/".concat(t.id,"/settings/domains"),title:"Domains",selected:a.pathname.endsWith("/settings/domains")}),Object(Be.jsx)(jc,{sx:{pl:4},to:"/projects/".concat(t.id,"/settings/patterns"),title:"Tracks patterns",selected:a.pathname.endsWith("/settings/patterns")})]})}),Object(Be.jsx)(jc,{to:"/projects/".concat(t.id,"/settings/integrations"),title:"Integrations",selected:a.pathname.endsWith("/settings/integrations")}),Object(Be.jsx)(jc,{to:"/projects/".concat(t.id,"/settings/tasks"),title:"Periodic tasks",selected:a.pathname.endsWith("/settings/tasks")})]})]})})),pc=function(e){var t=e.component,n=Object(yt.a)(e,["component"]),s=localStorage.getItem("token"),c=Et().getProject,o=Object(l.h)().pathname,u=Object(i.c)((function(e){return e.projects.project}));return Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){var t,n,r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(l.f)(o,{path:v}),r=parseInt(null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.projectId),e.t0=r!==(null===u||void 0===u?void 0:u.id)&&s,!e.t0){e.next=6;break}return e.next=6,c(r);case 6:case"end":return e.stop()}}),e)})))()}),[o]),Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(Hn,{drawer:hr}),Object(Be.jsxs)(dt.a,{maxWidth:"xl",children:[Object(Be.jsx)(bc,{}),Object(Be.jsx)("div",{children:Object(Be.jsx)(l.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return s?Object(Be.jsx)(t,Object(j.a)({},e)):Object(Be.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})]})]})},Oc=function(e){var t=e.props,n=e.label,r=e.image,a=void 0===r?null:r;return Object(Be.jsxs)(bn.a,Object(j.a)(Object(j.a)({},t),{},{sx:{"& > img":{mr:2,flexShrink:0}},component:"li",children:[Object(Be.jsx)(qn.a,{style:{width:30,height:30},className:"me-2",src:a}),Object(Be.jsx)(bt.a,{sx:{ml:1},children:n})]}))},hc=n(240),fc=n.n(hc),mc=n(109),vc=n(59),xc=n(731),gc=n(127),yc=Object(gc.a)("div")((function(e){var t=e.theme;return Object(_t.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(mc.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(mc.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"})})),wc=Object(gc.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),kc=Object(gc.a)(vc.c)((function(e){var t,n=e.theme,r=e.search;return{color:"inherit","& .MuiInputBase-input":(t={padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),transition:n.transitions.create("width"),width:"100%"},Object(_t.a)(t,n.breakpoints.up("sm"),{width:"20ch","&:focus":{width:(null===r||void 0===r?void 0:r.length)>0?"25ch":"30ch"}}),Object(_t.a)(t,"textOverflow","ellipsis"),Object(_t.a)(t,"whiteSpace","nowrap"),Object(_t.a)(t,"overflow","hidden"),t)}})),Cc=function(e){var t=e.search,n=e.setSearch,r=e.placeholder;return Object(Be.jsxs)(yc,{style:{marginRight:20},children:[Object(Be.jsx)(wc,{children:Object(Be.jsx)(xc.a,{})}),Object(Be.jsx)(kc,{search:t,value:t,onChange:function(e){return n(e.target.value)},placeholder:r,endAdornment:(null===t||void 0===t?void 0:t.length)>0?Object(Be.jsx)(ht.a,{position:"end",children:Object(Be.jsx)(nt.a,{onClick:function(){return n("")},children:Object(Be.jsx)(at.a,{fontSize:"small"})})}):null})]})},Sc=function(e){var t=e.title,n=e.search,r=void 0===n?null:n,a=e.setSearch,s=void 0===a?null:a,c=e.placeholder,i=void 0===c?"":c,o=tn();return Object(Be.jsxs)(Nr.a,{elevation:3,className:Object(gr.a)("mt-4 d-flex align-items-center",o.toolbarContainer),children:[Object(Be.jsx)(bt.a,{variant:"subtitle1",children:t}),Object(Be.jsx)("div",{className:"flex-grow-1"}),s&&Object(Be.jsx)(Cc,{search:r,setSearch:s,placeholder:i})]})},qc="Project.Update",Rc="ProjectSettings.Update",Tc="ProjectTask.Update",Nc="ProjectTask.Delete",Ec="Member.Create",Ic="Member.Update",Pc="Member.Delete",Ac="Role.Create",Mc="Role.Update",Fc="Role.Delete",zc="ProjectTask.Create",_c="ProjectTask.Update",Lc=Object(i.b)((function(e){return{project:e.projects.project}}),{removeProject:function(e){return{payload:e,type:M}},setConfirmAction:zt})((function(e){var t,n=e.project,a=e.setConfirmAction,s=e.removeProject,c=uc(),i=Object(l.g)(),o=ka().isAllowed,u=it().setAlert,d=Et(),b=d.request,p=d.updateProject,O=Object(r.useState)(null===n||void 0===n?void 0:n.title),h=Object(je.a)(O,2),f=h[0],m=h[1],v=Object(r.useState)(null===n||void 0===n?void 0:n.short),x=Object(je.a)(v,2),g=x[0],y=x[1],w=Object(r.useState)(null===n||void 0===n?void 0:n.creator),k=Object(je.a)(w,2),C=k[0],S=k[1],q=Object(r.useState)(null===n||void 0===n?void 0:n.description),R=Object(je.a)(q,2),T=R[0],N=R[1];Object(r.useEffect)((function(){m(null===n||void 0===n?void 0:n.title),S(n.creator),N(null===n||void 0===n?void 0:n.description)}),[n]);var E=Object(r.useMemo)((function(){var e;return f===(null===n||void 0===n?void 0:n.title)&&(g===n.short&&(T===(null===n||void 0===n?void 0:n.description)&&(null===C||void 0===C?void 0:C.id)===(null===n||void 0===n||null===(e=n.creator)||void 0===e?void 0:e.id)))}),[f,g,T,C,n]),I=Object(r.useCallback)((function(e){return e.username?e.username:e.email}),[]),P=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(n.id,{title:f,short:g,description:T,creator:null===C||void 0===C?void 0:C.id});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({modal:!0,title:"Archive project?",description:"You will be able to restore it later",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({message:"Project was archived",level:"success"}),s(n.id),i.push("/projects"),e.next=5,p(n.id,{archived:!0},!0);case 5:localStorage.removeItem("project");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),confirmButton:"Archive"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{className:c.contentContainer,children:[Object(Be.jsx)(Sc,{title:"General project settings"}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Ot.a,{value:f,onChange:function(e){return m(e.target.value)},label:"Project name",variant:"standard",placeholder:"Project name",className:"w-50",inputProps:{maxLength:255}})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Ot.a,{value:g,onChange:function(e){return y(e.target.value)},label:"Short name",variant:"standard",placeholder:"Short name",className:"w-50",inputProps:{maxLength:2},helperText:"Short name for your project. For example if project name is Lama Logger, then short name will be LL"})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Ot.a,{multiline:!0,value:T,onChange:function(e){return N(e.target.value)},label:"Project description",variant:"standard",placeholder:"Project description",className:"w-50"})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Cs.a,{className:"w-50",autoHighlight:!0,disableClearable:!0,options:null===n||void 0===n||null===(t=n.members)||void 0===t?void 0:t.map((function(e){return e.user})),defaultValue:null===n||void 0===n?void 0:n.creator,getOptionLabel:function(e,t){return I(e)},renderOption:function(e,t){return Object(Be.jsx)(Oc,{props:e,label:I(t)},t)},onChange:function(e,t){return S(t)},renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{fullWidth:!0,label:"Project creator",variant:"standard"}))}})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(bn.a,{className:"position-relative",children:Object(Be.jsx)(Ps.a,{onClick:P,loading:b,loadingPosition:"start",startIcon:Object(Be.jsx)(Is.a,{}),disabled:E||!o([qc]),variant:"text",children:"Save changes"})})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(ft.a,{onClick:A,startIcon:Object(Be.jsx)(fc.a,{}),variant:"text",children:"Archive project"})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(ft.a,{startIcon:Object(Be.jsx)(ua.a,{}),variant:"text",style:{color:"red"},children:"Delete project"})})]})})),Hc=n(803),Wc=function(e){var t=e.action,n=e.variant,r=void 0===n?"extended":n,a=e.title,s=void 0===a?"":a,c=Object(jn.a)(),i={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen};return Object(Be.jsx)(On.a,{in:!0,timeout:i,style:{transitionDelay:"".concat(i.exit,"ms")},unmountOnExit:!0,children:Object(Be.jsxs)(Hc.a,{variant:r,sx:Jt.fab,color:"primary",onClick:t,children:[Object(Be.jsx)(ks.a,{}),s]})})},Dc=function(e){return{payload:e,type:ie}},Uc=function(e){return{payload:e,type:oe}},Bc=function(e){return{payload:e,type:le}},Jc=function(e){return{payload:e,type:ue}},Yc=function(e){return{payload:e,type:de}},Gc=function(e){return{payload:e,type:se}},Vc=function(e){return{payload:e,type:ce}},Qc=[{id:"user.username",align:"left",label:"Username"},{id:null,align:"left",label:"Roles"}],Kc=Object(i.b)((function(e){return{selectedMembers:e.requestsSettings.selectedMembers}}),{setSelectedMembers:Dc})((function(e){var t=e.order,n=e.orderBy,a=e.onRequestSort,s=e.filteredMembers,c=e.selectedMembers,i=e.setSelectedMembers,o=Object(r.useMemo)((function(){return c.length}),[c]),l=Object(r.useMemo)((function(){return s.length}),[s]);return Object(Be.jsx)(Ea.a,{children:Object(Be.jsxs)(Xr.a,{children:[Object(Be.jsx)($r.a,{padding:"checkbox",children:Object(Be.jsx)(Zr.a,{size:"small",color:"primary",indeterminate:o>0&&o<l,checked:l>0&&o===l,onClick:function(e){return e.target.checked?i(s.map((function(e){return e.id}))):i([])}})}),Qc.map((function(e){return Object(Be.jsx)($r.a,{align:e.align,sortDirection:n===e.id&&t,children:Object(Be.jsxs)(Wa.a,{disabled:!e.id,active:n===e.id,direction:n===e.id?t:"asc",onClick:a(e.id),children:[e.label,n===e.id?Object(Be.jsx)(bn.a,{component:"span",sx:Da.a,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id)})),Object(Be.jsx)($r.a,{padding:"checkbox"})]})})})),Xc=Object(i.b)((function(e){return{project:e.projects.project}}),null)((function(e){var t,n=e.project,r=e.member,a=e.onSelectRole,s=e.fullWidth,c=void 0!==s&&s,i=e.sx,o=void 0===i?{}:i,l=ka().isAllowed,u=function(e){var t,n=e.projectRole,s=null===r||void 0===r||null===(t=r.roles)||void 0===t?void 0:t.some((function(e){return e.id===n.id}));return Object(Be.jsxs)(Tn.a,{value:n,sx:{height:40},onClick:Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:[Object(Be.jsx)(Zr.a,{size:"small",checked:s,onClick:Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}),Object(Be.jsx)(Kn.a,{primary:n.name})]})};return Object(Be.jsx)(os.a,{disabled:!l([Ic]),label:"sdfdsfsd",sx:o,fullWidth:c,size:"small",variant:"standard",multiple:!0,value:null===r||void 0===r?void 0:r.roles,renderValue:function(e){return e.map((function(e){return e.name})).join(", ")},children:null===n||void 0===n||null===(t=n.roles)||void 0===t?void 0:t.map((function(e){return Object(Be.jsx)(u,{projectRole:e},e.id)}))})})),$c=Object(i.b)((function(e){return{project:e.projects.project,selectedMembers:e.requestsSettings.selectedMembers}}),{setSelectedMembers:Dc,setConfirmAction:zt})((function(e){var t=e.member,n=e.project,a=e.selectedMembers,s=e.setSelectedMembers,c=e.setConfirmAction,i=ka().isAllowed,o=Et(),l=o.updateMember,u=o.deleteMembers,j=Object(r.useMemo)((function(){return-1!==a.indexOf(t.id)}),[a]),b=Object(r.useMemo)((function(){var e,n,r;return(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.username)?null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.username:null===t||void 0===t||null===(r=t.user)||void 0===r?void 0:r.email}),[t]),p=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({modal:!0,title:"Delete member?",description:"Are you sure you want to delete member? You will not be able to undo this action",confirmButton:"Delete",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(n.id,{members:[t.id]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(He.a)(Le.a.mark((function e(r,a){var s;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a?t.roles.filter((function(e){return e.id!==r.id})):[].concat(Object(d.a)(t.roles),[r]),e.next=3,l(n.id,t.id,{roles:s.map((function(e){return e.id}))});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Xr.a,{sx:{"&:last-child td, &:last-child th":{border:0}},selected:j,children:[Object(Be.jsx)($r.a,{padding:"checkbox",children:Object(Be.jsx)(Zr.a,{size:"small",color:"primary",checked:j,onClick:function(){return s({isSelected:j,memberId:t.id})}})}),Object(Be.jsx)($r.a,{component:"th",scope:"row",children:b}),Object(Be.jsx)($r.a,{align:"left",children:Object(Be.jsx)(Xc,{member:t,onSelectRole:O,sx:{width:300,display:"flex"}})}),Object(Be.jsx)($r.a,{padding:"checkbox",children:Object(Be.jsx)(ft.a,{color:"error",onClick:p,disabled:!i([Pc]),children:"Delete"})})]})})),Zc=Object(i.b)((function(e){return{project:e.projects.project}}),null)((function(e){var t=e.project,n=uc(),a=Object(r.useState)("asc"),s=Object(je.a)(a,2),c=s[0],i=s[1],o=Object(r.useState)("calories"),l=Object(je.a)(o,2),u=l[0],d=l[1],j=Object(r.useMemo)((function(){return t.members.filter((function(e){return e}))}),[t.members]);return Object(Be.jsx)(Gr.a,{component:Nr.a,className:n.membersTableContainer,children:Object(Be.jsxs)(Vr.a,{className:"w-100",size:"small","aria-label":"a dense table",stickyHeader:!0,children:[Object(Be.jsx)(Kc,{order:c,orderBy:u,onRequestSort:function(e){return function(t){i(u===e&&"asc"===c?"desc":"asc"),d(e)}},filteredMembers:j}),Object(Be.jsx)(Qr.a,{children:Ga(j,Ya(c,u)).map((function(e){return Object(Be.jsx)($c,{member:e},e.id)}))})]})})})),ei=Object(i.b)((function(e){return{project:e.projects.project,inviteMemberModal:e.requestsSettings.inviteMemberModal}}),{setInviteMemberModal:Bc})((function(e){var t,n=e.project,a=e.inviteMemberModal,s=e.setInviteMemberModal,c=ka().isAllowed,i=Et(),o=i.request,l=i.inviteMember,u=Object(r.useState)({username:"",roles:[],notify:!1}),b=Object(je.a)(u,2),p=b[0],O=b[1],h=function(){return s(!1)},f=function(){var e=Object(He.a)(Le.a.mark((function e(){var t;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(j.a)(Object(j.a)({},p),{},{roles:p.roles.map((function(e){return e.id}))}),l(n.id,t).then((function(){return h()}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){var r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n?p.roles.filter((function(e){return e.id!==t.id})):[].concat(Object(d.a)(p.roles),[t]),O(Object(j.a)(Object(j.a)({},p),{},{roles:r}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Be.jsxs)(It.a,{open:a,onClose:h,maxWidth:"sm",fullWidth:!0,children:[Object(Be.jsx)(Pt.a,{children:"Invite member"}),Object(Be.jsxs)(At.a,{children:[Object(Be.jsx)(Mt.a,{children:"You can invite other members to your project"}),Object(Be.jsx)(Ot.a,{value:p.username,onChange:function(e){return O(Object(j.a)(Object(j.a)({},p),{},{username:e.target.value}))},autoFocus:!0,margin:"dense",label:"Username or email",placeholder:"some_username or some@email.com",fullWidth:!0,variant:"standard"}),Object(Be.jsxs)(cs.a,{variant:"standard",sx:{minWidth:120},fullWidth:!0,className:"mt-3",children:[Object(Be.jsx)(is.a,{children:"Select role"}),Object(Be.jsx)(Xc,{member:p,onSelectRole:m,fullWidth:!0})]}),Object(Be.jsx)(ys.a,{className:"mt-3",control:Object(Be.jsx)(Zr.a,{checked:p.notify,onClick:function(){return O(Object(j.a)(Object(j.a)({},p),{},{notify:!p.member}))}}),label:"Send notification"})]}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:h,children:"Cancel"}),Object(Be.jsx)(Ps.a,{loading:o,onClick:f,disabled:!(null===p||void 0===p?void 0:p.username)||0===(null===p||void 0===p||null===(t=p.roles)||void 0===t?void 0:t.length)||!c([Ec]),children:"Invite"})]})]})})),ti=Object(i.b)((function(e){return{project:e.projects.project,selectedMembers:e.requestsSettings.selectedMembers}}),{setConfirmAction:zt,setSelectedMembers:Dc})((function(e){var t=e.project,n=e.selectedMembers,r=e.setConfirmAction,a=e.setSelectedMembers,s=tn(),c=Et().deleteMembers,i=ka().isAllowed,o=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r({modal:!0,title:"Delete members?",description:"Are you sure you want to delete members? You will not be able to undo this action",confirmButton:"Delete",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t.id,{members:n});case 2:a([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Nr.a,{elevation:3,className:Object(gr.a)("mt-4 d-flex align-items-center",s.toolbarContainer),children:[Object(Be.jsxs)(bt.a,{variant:"subtitle1",children:["Selected ",n.length]}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(nt.a,{size:"small",onClick:o,disabled:!i([Pc]),children:Object(Be.jsx)(Xa.a,{})})]})})),ni=Object(i.b)((function(e){return{selectedMembers:e.requestsSettings.selectedMembers}}),{setInviteMemberModal:Bc})((function(e){var t=e.setInviteMemberModal,n=e.selectedMembers,a=uc(),s=Object(r.useState)(""),c=Object(je.a)(s,2),i=c[0],o=c[1];return Object(Be.jsxs)("div",{className:a.contentContainer,children:[n.length>0?Object(Be.jsx)(ti,{}):Object(Be.jsx)(Sc,{title:"Project members",search:i,setSearch:o,placeholder:"Search by username, email"}),Object(Be.jsx)("div",{className:"mt-3",children:Object(Be.jsx)(Zc,{})}),Object(Be.jsx)(Wc,{action:function(){return t(!0)},title:"Invite"}),Object(Be.jsx)(ei,{})]})})),ri=n(732),ai=Object(i.b)(null,{setRole:Gc,setCreateRoleModal:Jc})((function(e){var t=e.role,n=e.setRole,s=e.setCreateRoleModal,c=ka().isAllowed,i=Object(r.useState)(null),o=Object(je.a)(i,2),l=o[0],u=o[1],d=function(){return u(null)};return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(bn.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:Object(Be.jsx)(In.a,{title:"Project options",children:Object(Be.jsx)(nt.a,{onClick:function(e){return u(e.currentTarget)},size:"small",sx:{ml:2},children:Object(Be.jsx)(Ts.a,{})})})}),Object(Be.jsxs)(Rn.a,{anchorEl:l,open:Boolean(l),onClose:d,onClick:d,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(Be.jsxs)(Tn.a,{onClick:function(){n(Object(j.a)(Object(j.a)({},t),{},{editMode:!0})),s(!0)},disabled:!c([Mc]),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(ri.a,{fontSize:"small"})}),"Edit"]}),Object(Be.jsxs)(Tn.a,{sx:{color:"red"},disabled:!c([Fc]),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Xa.a,{fontSize:"small",sx:{color:"red"}})}),"Delete"]})]})]})})),si=Object(i.b)((function(e){return{project:e.projects.project,selectedRoles:e.requestsSettings.selectedRoles}}),{setSelectedRoles:Uc,setConfirmAction:zt})((function(e){var t=e.role,n=(e.project,e.selectedRoles),a=e.setSelectedRoles,s=(e.setConfirmAction,Et().deleteMembers,Object(r.useMemo)((function(){return-1!==n.indexOf(t.id)}),[n]));return Object(Be.jsxs)(Xr.a,{sx:{"&:last-child td, &:last-child th":{border:0}},selected:s,children:[Object(Be.jsx)($r.a,{padding:"checkbox",children:Object(Be.jsx)(Zr.a,{size:"small",color:"primary",checked:s,onClick:function(){return a({isSelected:s,roleId:t.id})}})}),Object(Be.jsx)($r.a,{component:"th",scope:"row",children:null===t||void 0===t?void 0:t.name}),Object(Be.jsxs)($r.a,{scope:"row",component:"th",children:[null===t||void 0===t?void 0:t.scope.length," scopes"]}),Object(Be.jsx)($r.a,{padding:"checkbox",children:Object(Be.jsx)(ai,{role:t})})]})})),ci=[{id:"name",align:"left",label:"Name"},{id:null,align:"left",label:"Scopes"}],ii=Object(i.b)((function(e){return{selectedRoles:e.requestsSettings.selectedRoles}}),{setSelectedRoles:Uc})((function(e){var t=e.order,n=e.orderBy,a=e.onRequestSort,s=e.filteredRoles,c=e.selectedRoles,i=e.setSelectedRoles,o=Object(r.useMemo)((function(){return c.length}),[c]),l=Object(r.useMemo)((function(){return s.length}),[s]);return Object(Be.jsx)(Ea.a,{children:Object(Be.jsxs)(Xr.a,{children:[Object(Be.jsx)($r.a,{padding:"checkbox",children:Object(Be.jsx)(Zr.a,{size:"small",color:"primary",indeterminate:o>0&&o<l,checked:l>0&&o===l,onClick:function(e){return e.target.checked?i(s.map((function(e){return e.id}))):i([])}})}),ci.map((function(e){return Object(Be.jsx)($r.a,{align:e.align,sortDirection:n===e.id&&t,children:Object(Be.jsxs)(Wa.a,{disabled:!e.id,active:n===e.id,direction:n===e.id?t:"asc",onClick:a(e.id),children:[e.label,n===e.id?Object(Be.jsx)(bn.a,{component:"span",sx:Da.a,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id)})),Object(Be.jsx)($r.a,{padding:"checkbox"})]})})})),oi=Object(i.b)((function(e){return{project:e.projects.project}}),null)((function(e){var t=e.project,n=uc(),a=Object(r.useState)("asc"),s=Object(je.a)(a,2),c=s[0],i=s[1],o=Object(r.useState)("calories"),l=Object(je.a)(o,2),u=l[0],d=l[1],j=Object(r.useMemo)((function(){return t.roles.filter((function(e){return e}))}),[t.roles]);return Object(Be.jsx)(Gr.a,{component:Nr.a,className:n.membersTableContainer,children:Object(Be.jsxs)(Vr.a,{className:"w-100",size:"small","aria-label":"a dense table",stickyHeader:!0,children:[Object(Be.jsx)(ii,{order:c,orderBy:u,onRequestSort:function(e){return function(t){i(u===e&&"asc"===c?"desc":"asc"),d(e)}},filteredRoles:j}),Object(Be.jsx)(Qr.a,{children:Ga(j,Ya(c,u)).map((function(e){return Object(Be.jsx)(si,{role:e},e.id)}))})]})})})),li=n(749),ui=n(695),di=n(800),ji=function(e){var t=e.scopes,n=e.onSelectScope,a=Object(jn.a)().palette,s=uc(),c="light"===a.mode?"white":"#4D4D4D",i=function(e){var a=e.inst,s=e.permission,c=Object(r.useMemo)((function(){return-1!==t.indexOf("".concat(a,".").concat(s))}),[t]);return Object(Be.jsxs)(zn.a,{disabled:"View"===s,button:!0,onClick:Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(c,"".concat(a,".").concat(s));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Zr.a,{disabled:"View"===s,checked:c,edge:"start",tabIndex:-1,disableRipple:!0})}),Object(Be.jsx)(Kn.a,{primary:s})]})};return Object(Be.jsx)(Jn.a,{dense:!0,className:s.sectionList,subheader:Object(Be.jsx)("li",{}),children:C.map((function(e){return Object(Be.jsx)("li",{children:Object(Be.jsxs)("ul",{children:[Object(Be.jsx)(di.a,{sx:{backgroundColor:c},children:e.label}),Object(Be.jsx)(En.a,{}),["View","Create","Update","Delete"].map((function(t,n){return Object(Be.jsx)(i,{inst:e.inst,permission:t},t+n)}))]})},"section-".concat(e.label))}))})},bi=Object(i.b)((function(e){return{role:e.requestsSettings.role,project:e.projects.project,createRoleModal:e.requestsSettings.createRoleModal}}),{setRole:Gc,setCreateRoleModal:Jc})((function(e){var t,n=e.role,a=e.setRole,s=e.project,c=e.createRoleModal,i=e.setCreateRoleModal,o=ka().isAllowed,l=Et(),u=l.request,b=l.createRole,p=l.updateRole,O=function(){i(!1),a(ae.role)},h=Object(r.useCallback)(function(){var e=Object(He.a)(Le.a.mark((function e(t,r){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a(t?Object(j.a)(Object(j.a)({},n),{},{scope:n.scope.filter((function(e){return e!==r}))}):Object(j.a)(Object(j.a)({},n),{},{scope:[].concat(Object(d.a)(n.scope),[r])})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),f=Object(r.useCallback)(Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===n||void 0===n?void 0:n.editMode)?p(s.id,n.id,n).then((function(){return O()})):b(s.id,n).then((function(){return O()})));case 1:case"end":return e.stop()}}),e)}))),[n]);return Object(Be.jsxs)(It.a,{open:c,onClose:O,maxWidth:"sm",fullWidth:!0,children:[Object(Be.jsxs)(Pt.a,{children:[(null===n||void 0===n?void 0:n.editMode)?"Update":"Create"," role"]}),Object(Be.jsxs)(At.a,{children:[!(null===n||void 0===n?void 0:n.editMode)&&Object(Be.jsx)(Mt.a,{children:"You can create your custom role with custom scope of permissions"}),Object(Be.jsx)(li.a,{severity:"warning",sx:{mt:2},children:'Keep in mind that all roles has "View" permission by default. And you can not remove this permission for now.'}),Object(Be.jsx)(Ot.a,{value:n.name,onChange:function(e){return a(Object(j.a)(Object(j.a)({},n),{},{name:e.target.value}))},autoFocus:!0,margin:"dense",label:"Name",placeholder:"MyCustomRole",fullWidth:!0,variant:"standard",className:"mt-3"}),Object(Be.jsx)(Ot.a,{value:n.description,onChange:function(e){return a(Object(j.a)(Object(j.a)({},n),{},{description:e.target.value}))},multiline:!0,autoFocus:!0,margin:"dense",label:"Description",placeholder:"Description",fullWidth:!0,variant:"standard",helperText:"Provide some description, so other users would know for what this role",className:"mt-3"}),Object(Be.jsxs)(cs.a,{className:"mt-3",fullWidth:!0,children:[Object(Be.jsx)(ui.a,{children:"Select scopes"}),Object(Be.jsx)(ji,{scopes:n.scope,onSelectScope:h})]})]}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:O,children:"Cancel"}),Object(Be.jsx)(Ps.a,{loading:u,disabled:0===(null===n||void 0===n||null===(t=n.name)||void 0===t?void 0:t.length)||!o([Ac,Mc]),onClick:f,children:(null===n||void 0===n?void 0:n.editMode)?"Update":"Create"})]})]})})),pi=Object(i.b)((function(e){return{project:e.projects.project,selectedRoles:e.requestsSettings.selectedRoles}}),{setConfirmAction:zt,setSelectedRoles:Uc})((function(e){e.project;var t=e.selectedRoles,n=e.setConfirmAction,r=e.setSelectedRoles,a=tn(),s=ka().isAllowed,c=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n({modal:!0,title:"Delete roles?",description:"Are you sure you want to delete this roles? You will not be able to undo this action",confirmButton:"Delete",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r([]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Nr.a,{elevation:3,className:Object(gr.a)("mt-4 d-flex align-items-center",a.toolbarContainer),children:[Object(Be.jsxs)(bt.a,{variant:"subtitle1",children:["Selected ",t.length]}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(nt.a,{size:"small",onClick:c,disabled:!s([Fc]),children:Object(Be.jsx)(Xa.a,{})})]})})),Oi=Object(i.b)((function(e){return{selectedRoles:e.requestsSettings.selectedRoles}}),{setCreateRoleModal:Jc})((function(e){var t=e.selectedRoles,n=e.setCreateRoleModal,a=uc(),s=Object(r.useState)(""),c=Object(je.a)(s,2),i=c[0],o=c[1];return Object(Be.jsxs)("div",{className:a.contentContainer,children:[t.length>0?Object(Be.jsx)(pi,{}):Object(Be.jsx)(Sc,{title:"Project roles",search:i,setSearch:o,placeholder:"Search by name"}),Object(Be.jsx)("div",{className:"mt-3",children:Object(Be.jsx)(oi,{})}),Object(Be.jsx)(Wc,{action:function(){return n(!0)},title:"Create"}),Object(Be.jsx)(bi,{})]})})),hi=a.a.createContext(null),fi=function(e){var t=e.children,n=e.store,a=ut().token,s=it().setAlert,c="api/v1/projects/",o=Object(r.useState)(!0),l=Object(je.a)(o,2),u=l[0],d=l[1],j=Object(r.useState)(!1),b=Object(je.a)(j,2),p=b[0],O=b[1],h=Object(i.c)((function(e){return e.projects.project}));Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a&&(null===h||void 0===h?void 0:h.id),!e.t0){e.next=5;break}return e.next=4,f(h.id);case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))()}),[a,null===h||void 0===h?void 0:h.id]);var f=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,Ct(c+"".concat(t,"/settings/"));case 3:r=e.sent,a=r.json,n.dispatch({type:F,payload:a}),d(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(He.a)(Le.a.mark((function e(t,r){var a,i,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,qt(c+"".concat(t,"/settings/"),r);case 3:a=e.sent,i=a.json,!(o=a.error)&&n.dispatch({type:F,payload:i}),s(o?i:{message:"Project settings was updated",level:"success"}),O(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Be.jsx)(hi.Provider,{value:{load:u,request:p,getProjectSettings:f,updateProjectSettings:m},children:t})},mi=function(){var e=Object(r.useContext)(hi);if(null==e)throw new Error("useProjectSettings() called outside of a ProjectSettingsProvider?");return e},vi=Object(i.b)((function(e){return{project:e.projects.project,projectSettings:e.projects.projectSettings}}),null)((function(e){var t=e.project,n=e.projectSettings,a=uc(),s=ka().isAllowed,c=mi(),i=c.load,o=c.request,l=c.updateProjectSettings,u=Object(r.useState)(null===n||void 0===n?void 0:n.excludeMethods),d=Object(je.a)(u,2),b=d[0],p=d[1],O=Object(r.useState)(null===n||void 0===n?void 0:n.excludeStatuses),h=Object(je.a)(O,2),f=h[0],m=h[1];Object(r.useEffect)((function(){p(null===n||void 0===n?void 0:n.excludeMethods),m(null===n||void 0===n?void 0:n.excludeStatuses)}),[n]);var v=Object(r.useMemo)((function(){return b===(null===n||void 0===n?void 0:n.excludeMethods)&&f===(null===n||void 0===n?void 0:n.excludeStatuses)}),[b,f,n]),x=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.id,{excludeMethods:b,excludeStatuses:f});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{className:a.contentContainer,children:[Object(Be.jsx)(Sc,{title:"Inbound data filters"}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Cs.a,{value:b,size:"small",multiple:!0,freeSolo:!0,className:"w-50",options:g,onChange:function(e,t){return p(t)},disableCloseOnSelect:!0,getOptionLabel:function(e){return e},renderOption:function(e,t,n){var r=n.selected;return Object(Be.jsxs)("li",Object(j.a)(Object(j.a)({},e),{},{children:[Object(Be.jsx)(Zr.a,{size:"small",style:{marginRight:8},checked:r}),t]}))},renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{label:"Methods",placeholder:"Select from list or type custom",size:"small",variant:"standard",helperText:'Select methods which you want to exclude. For example if set to "GET", "POST", then requests with this methods wont be created.'}))}},i)}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Cs.a,{value:f,size:"small",multiple:!0,freeSolo:!0,className:"w-50",options:Object.values(y).flat(),onChange:function(e,t){return m(t)},disableCloseOnSelect:!0,getOptionLabel:function(e){return e.toString()},renderOption:function(e,t,n){var r=n.selected;return Object(Be.jsxs)("li",Object(j.a)(Object(j.a)({},e),{},{children:[Object(Be.jsx)(Zr.a,{size:"small",style:{marginRight:8},checked:r}),t,Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(na,{statusCode:t})]}))},renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{label:"Status codes",placeholder:"Select from list or type custom",size:"small",variant:"standard",helperText:'Select methods which you want to exclude. For example if set to "GET", "POST", then requests with this methods wont be created.'}))}},i)}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(bn.a,{className:"position-relative",children:Object(Be.jsx)(Ps.a,{onClick:x,loading:o,loadingPosition:"start",startIcon:Object(Be.jsx)(Is.a,{}),variant:"text",disabled:v||!s([Rc]),children:"Save changes"})})})]})})),xi=function(){return Object(Be.jsx)(En.a,{sx:{mt:1,mb:1}})},gi=function(e){return{type:Ne,payload:e}},yi=function(e){return{type:Ae,payload:e}},wi=Object(i.b)((function(e){return{customRequest:e.customRequests.customRequest}}),{setCustomRequest:gi})((function(e){var t=e.customRequest,n=e.setCustomRequest,s=dc(),c=Object(r.useState)(null),i=Object(je.a)(c,2),o=i[0],l=i[1],u=function(){return l(null)};return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(In.a,{title:"Select method",children:Object(Be.jsx)(ft.a,{sx:{mr:2},variant:"outlined",color:"inherit",className:s.methodButton,endIcon:Object(Be.jsx)(Ir.a,{}),onClick:function(e){return l(e.currentTarget)},children:null===t||void 0===t?void 0:t.method})}),Object(Be.jsx)(Rn.a,{anchorEl:o,open:Boolean(o),onClose:u,children:T.map((function(e,r){return Object(Be.jsx)(Tn.a,{value:e,sx:{maxWidth:150,width:150},onClick:function(){return function(e){n(Object(j.a)(Object(j.a)({},t),{},{method:e})),u()}(e)},selected:e===(null===t||void 0===t?void 0:t.method),children:e},r)}))})]})})),ki=Object(i.b)((function(e){return{userSettings:e.users.userSettings}}),null)((function(e){var t=e.header,n=e.index,r=e.onPasteHeaders,a=e.onRemove,s=e.onChange,c=e.userSettings,i=t.key,o=t.value,l=t.include,u=null===c||void 0===c?void 0:c.customRequestsHeaders,d=u.keys,b=u.values,p=u.disableAutocomplete;return Object(Be.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Be.jsx)(Zr.a,{size:"small",checked:l,onClick:function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.target.checked,n,"include");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(Be.jsx)(Cs.a,{freeSolo:!0,fullWidth:!0,sx:{mr:2},value:i,options:p?[]:d,onChange:function(){var e=Object(He.a)(Le.a.mark((function e(t,r){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(r,n,"key");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onSelect:function(){var e=Object(He.a)(Le.a.mark((function e(t,r){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.target.value,n,"key");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onPaste:function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t,n,"key");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{variant:"standard",size:"small",placeholder:"Key"}))}}),Object(Be.jsx)(Cs.a,{freeSolo:!0,fullWidth:!0,value:o,options:p?[]:b,onChange:function(){var e=Object(He.a)(Le.a.mark((function e(t,r){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(r,n,"value");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onSelect:function(){var e=Object(He.a)(Le.a.mark((function e(t,r){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.target.value,n,"value");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onPaste:function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t,n,"value");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{variant:"standard",size:"small",placeholder:"Value"}))}}),Object(Be.jsx)(nt.a,{size:"small",sx:{mr:1},onClick:Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:Object(Be.jsx)(at.a,{fontSize:"small"})})]},n)})),Ci=Object(i.b)((function(e){return{customRequest:e.customRequests.customRequest}}),{setCustomRequest:gi})((function(e){var t,n=e.customRequest,a=e.setCustomRequest,s=dc(),c=Object(r.useCallback)(function(){var e=Object(He.a)(Le.a.mark((function e(t,r,s){var c,i;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null===n||void 0===n||null===(c=n.requestHeaders)||void 0===c?void 0:c.map((function(e,n){return n===r?Object(j.a)(Object(j.a)({},e),{},Object(_t.a)({},s,t)):e})),a(Object(j.a)(Object(j.a)({},n),{},{requestHeaders:i}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[null===n||void 0===n?void 0:n.requestHeaders]),i=Object(r.useCallback)(Object(He.a)(Le.a.mark((function e(){var t;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[].concat(Object(d.a)(null===n||void 0===n?void 0:n.requestHeaders),[{key:"",value:"",include:!0}]),a(Object(j.a)(Object(j.a)({},n),{},{requestHeaders:t}));case 2:case"end":return e.stop()}}),e)}))),[null===n||void 0===n?void 0:n.requestHeaders]),o=Object(r.useCallback)(function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,s;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=null===n||void 0===n||null===(r=n.requestHeaders)||void 0===r?void 0:r.filter((function(e,n){return n!==t})),a(Object(j.a)(Object(j.a)({},n),{},{requestHeaders:s}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[null===n||void 0===n?void 0:n.requestHeaders]),l=Object(r.useCallback)(function(){var e=Object(He.a)(Le.a.mark((function e(t,r,s){var i,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs(t);case 2:if(i=e.sent,o=i.result,!i.isJson){e.next=9;break}a(Object(j.a)(Object(j.a)({},n),{},{requestHeaders:[].concat(Object(d.a)(null===n||void 0===n?void 0:n.requestHeaders),Object(d.a)(o))})),e.next=11;break;case 9:return e.next=11,c(o,r,s);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[null===n||void 0===n?void 0:n.requestHeaders]);return Object(Be.jsxs)("div",{className:s.requestHeadersContainer,children:[null===n||void 0===n||null===(t=n.requestHeaders)||void 0===t?void 0:t.map((function(e,t){return Object(Be.jsx)(ki,{index:t,header:e,onChange:c,onPasteHeaders:l,onRemove:o},t)})),Object(Be.jsx)(ft.a,{color:"inherit",startIcon:Object(Be.jsx)(ks.a,{}),size:"small",sx:{ml:1,mt:1},onClick:i,children:"New header"})]})})),Si=n(241),qi=n.n(Si),Ri=(n(305),n(306),n(307),n(308),Object(i.b)((function(e){return{userSettings:e.users.userSettings,customRequest:e.customRequests.customRequest}}),{setCustomRequest:gi})((function(e){var t=e.userSettings,n=e.customRequest,r=e.setCustomRequest,a=dc(),s=Object(jn.a)().palette,c=function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r(Object(j.a)(Object(j.a)({},n),{},{requestBody:t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsx)("div",{className:a.requestHeadersContainer,children:Object(Be.jsx)(qi.a,{placeholder:"Request body",mode:"json",theme:"dark"===s.mode?"monokai":"github",name:"Request body",width:"100%",height:"100%",onChange:c,fontSize:14,showPrintMargin:!0,value:null===n||void 0===n?void 0:n.requestBody,setOptions:Object(j.a)({useWorker:!1},t.jsonEditor)},null===n||void 0===n?void 0:n.requestId)})}))),Ti=n(804),Ni=function(e){var t=e.modal,n=e.setModal,r=e.onAcceptShareInfo,a=function(){return n(!1)};return Object(Be.jsxs)(It.a,{open:t,onClose:a,TransitionComponent:Ke,fullWidth:!0,children:[Object(Be.jsx)(Pt.a,{children:"Share requests information"}),Object(Be.jsx)(At.a,{children:Object(Be.jsxs)(li.a,{severity:"info",sx:{whiteSpace:"pre-line"},children:[Object(Be.jsx)(Ti.a,{children:"Common concept of custom requests"}),Object(Be.jsxs)(bt.a,{variant:"body1",children:["By default custom requests made to be only for each user. This means only you can access your custom requests, change and delete them.","\n","\n","Requests are split into projects. To avoid mess of requests from different services and projects.","\n","\n","But you can share your custom requests with members of this project. They will have access to your history/requests and will be able to change and delete them."]})]})}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:a,children:"Cancel"}),Object(Be.jsx)(ft.a,{onClick:r,children:"Got it!"})]})]})},Ei=Object(i.b)(null,null)((function(e){var t=e.modal,n=e.setModal,r=function(){return n(!1)};return Object(Be.jsxs)(It.a,{open:t,onClose:r,TransitionComponent:Ke,fullWidth:!0,children:[Object(Be.jsx)(Pt.a,{children:"Share custom requests"}),Object(Be.jsx)(At.a,{}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:r,children:"Cancel"}),Object(Be.jsx)(ft.a,{children:"Add"})]})]})})),Ii=Object(i.b)(null,null)((function(){var e=Object(l.g)(),t=Object(r.useState)(null),n=Object(je.a)(t,2),s=n[0],c=n[1],i=Object(r.useState)(!1),o=Object(je.a)(i,2),u=o[0],d=o[1],j=Object(r.useState)(!1),b=Object(je.a)(j,2),p=b[0],O=b[1],h=function(){return c(null)},f=function(){return localStorage.getItem("shareRequestsInfo")?d(!0):O(!0)};return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(In.a,{title:"Request options",placement:"left",children:Object(Be.jsx)(nt.a,{size:"small",onClick:function(e){return c(e.currentTarget)},children:Object(Be.jsx)(qr.a,{fontSize:"small"})})}),Object(Be.jsxs)(Rn.a,{anchorEl:s,open:Boolean(s),onClose:h,onClick:h,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(Be.jsxs)(Tn.a,{onClick:function(){return e.push("/settings/json-editor")},children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Sr.a,{fontSize:"small"})}),"Settings"]}),Object(Be.jsxs)(Tn.a,{disabled:!0,onClick:f,children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(kr.a,{})}),"Share my requests"]}),Object(Be.jsxs)(Tn.a,{disabled:!0,onClick:f,children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(_n.a,{})}),"Shared with me"]})]}),Object(Be.jsx)(Ei,{modal:u,setModal:d}),Object(Be.jsx)(Ni,{modal:p,setModal:O,onAcceptShareInfo:function(){O(!1),localStorage.setItem("shareRequestsInfo","true"),d(!0)}})]})})),Pi=Object(i.b)((function(e){return{customRequest:e.customRequests.customRequest}}),{setCustomRequest:gi})((function(e){var t,n=e.customRequest,a=e.setCustomRequest,s=dc();Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null===n||void 0===n?void 0:n.requestUrl,!e.t0){e.next=5;break}return e.next=4,c();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))()}),[null===n||void 0===n?void 0:n.requestUrl]);var c=Object(r.useCallback)(Object(He.a)(Le.a.mark((function e(){var t,r,s;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===n||void 0===n?void 0:n.queryParams.filter((function(e){return!e.include})),e.next=3,Xe(null===n||void 0===n?void 0:n.requestUrl);case 3:r=e.sent,s=Object.keys(r).map((function(e){return{key:e,value:r[e],include:!0}})),a(Object(j.a)(Object(j.a)({},n),{},{queryParams:[].concat(Object(d.a)(s),Object(d.a)(t))}));case 6:case"end":return e.stop()}}),e)}))),[null===n||void 0===n?void 0:n.queryParams,null===n||void 0===n?void 0:n.requestUrl]),i=function(){var e=Object(He.a)(Le.a.mark((function e(t,r,s){var c,i;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null===n||void 0===n||null===(c=n.queryParams)||void 0===c?void 0:c.map((function(e,n){return n===r?Object(j.a)(Object(j.a)({},e),{},Object(_t.a)({},s,t)):e})),a(Object(j.a)(Object(j.a)({},n),{},{queryParams:i}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),o=function(){var e=Object(He.a)(Le.a.mark((function e(){var t;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[].concat(Object(d.a)(null===n||void 0===n?void 0:n.queryParams),[{key:"",value:"",include:!0}]),a(Object(j.a)(Object(j.a)({},n),{},{queryParams:t}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,s;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=null===n||void 0===n||null===(r=n.queryParams)||void 0===r?void 0:r.filter((function(e,n){return n!==t})),a(Object(j.a)(Object(j.a)({},n),{},{queryParams:s}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(He.a)(Le.a.mark((function e(t,r,s){var c,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs(t);case 2:if(c=e.sent,o=c.result,!c.isJson){e.next=9;break}a(Object(j.a)(Object(j.a)({},n),{},{queryParams:[].concat(Object(d.a)(null===n||void 0===n?void 0:n.queryParams),Object(d.a)(o))})),e.next=11;break;case 9:return e.next=11,i(o,r,s);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{className:s.requestHeadersContainer,children:[null===n||void 0===n||null===(t=n.queryParams)||void 0===t?void 0:t.map((function(e,t){var n=e.key,r=e.value,a=e.include;return Object(Be.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Be.jsx)(Zr.a,{size:"small",checked:a,onClick:function(){var e=Object(He.a)(Le.a.mark((function e(n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n.target.checked,t,"include");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(Be.jsx)(Ot.a,{sx:{mr:2},value:n,onPaste:function(){var e=Object(He.a)(Le.a.mark((function e(n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(n,t,"key");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onChange:function(){var e=Object(He.a)(Le.a.mark((function e(n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n.target.value,t,"key");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fullWidth:!0,variant:"standard",size:"small",placeholder:"Key"}),Object(Be.jsx)(Ot.a,{value:r,onPaste:function(){var e=Object(He.a)(Le.a.mark((function e(n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(n,t,"value");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onChange:function(){var e=Object(He.a)(Le.a.mark((function e(n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n.target.value,t,"value");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fullWidth:!0,variant:"standard",size:"small",placeholder:"Value"}),Object(Be.jsx)(nt.a,{size:"small",sx:{mr:1},onClick:Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:Object(Be.jsx)(at.a,{fontSize:"small"})})]},t)})),Object(Be.jsx)(ft.a,{color:"inherit",startIcon:Object(Be.jsx)(ks.a,{}),size:"small",sx:{ml:1,mt:1},onClick:o,children:"New query"})]})})),Ai=Object(i.b)((function(e){return{customRequest:e.customRequests.customRequest}}),{setCustomRequest:gi})((function(e){var t=e.customRequest,n=e.setCustomRequest;Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null===t||void 0===t?void 0:t.requestUrl,!e.t0){e.next=5;break}return e.next=4,a();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))()}),[null===t||void 0===t?void 0:t.queryParams]);var a=Object(r.useCallback)(Object(He.a)(Le.a.mark((function e(){var r,a,s,c,i,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r={},a=0;a<(null===t||void 0===t||null===(s=t.queryParams)||void 0===s?void 0:s.length);a++)c=null===t||void 0===t?void 0:t.queryParams[a].key,i=null===t||void 0===t?void 0:t.queryParams[a].value,(null===t||void 0===t?void 0:t.queryParams[a].include)&&(c.length>0||i.length>0)&&(r[c]=i);return o=null===t||void 0===t?void 0:t.requestUrl.split("?")[0],e.t0=n,e.t1=j.a,e.t2=Object(j.a)({},t),e.t3={},e.t4=o,e.next=10,Ve(r);case 10:e.t5=e.sent,e.t6=e.t4+e.t5,e.t7={requestUrl:e.t6},e.t8=(0,e.t1)(e.t2,e.t3,e.t7),(0,e.t0)(e.t8);case 15:case"end":return e.stop()}}),e)}))),[null===t||void 0===t?void 0:t.requestUrl,null===t||void 0===t?void 0:t.queryParams]);return Object(Be.jsx)(Ot.a,{value:(null===t||void 0===t?void 0:t.requestUrl)||"",onChange:function(e){return n(Object(j.a)(Object(j.a)({},t),{},{requestUrl:e.target.value}))},fullWidth:!0,className:"w-100",variant:"standard",placeholder:"Enter url"})})),Mi=Object(i.b)((function(e){return{project:e.projects.project,customRequest:e.customRequests.customRequest}}),null)((function(e){var t=e.project,n=e.customRequest,r=pa(),a=r.request,s=r.sendCustomRequest,c=r.createCustomRequestsHistory,i=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.id,n.requestId);case 2:return e.next=4,c(t.id,n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsx)(Ps.a,{sx:{ml:2,pr:2,pl:2},endIcon:Object(Be.jsx)(ia.a,{}),onClick:i,loading:a,loadingPosition:"end",children:"Send"})})),Fi=function(){var e=Object(r.useState)(0),t=Object(je.a)(e,2),n=t[0],a=t[1];return Object(Be.jsxs)(Nr.a,{sx:{p:1},elevation:3,children:[Object(Be.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Be.jsx)(bt.a,{children:"Request"}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(Ii,{})]}),Object(Be.jsx)(xi,{}),Object(Be.jsxs)("div",{className:"d-flex",children:[Object(Be.jsx)(wi,{}),Object(Be.jsx)(Ai,{}),Object(Be.jsx)(Mi,{})]}),Object(Be.jsx)(En.a,{sx:{mt:2}}),Object(Be.jsxs)(sa.a,{sx:Zt,value:n,onChange:function(e,t){return a(t)},indicatorColor:"primary",className:"mt-3",children:[Object(Be.jsx)(ca.a,{sx:Zt,color:"primary",label:"Headers"}),Object(Be.jsx)(ca.a,{sx:Zt,color:"primary",label:"Body"}),Object(Be.jsx)(ca.a,{sx:Zt,color:"primary",label:"Params"})]}),Object(Be.jsx)(Na,{value:n,index:0,component:"span",children:Object(Be.jsx)(Ci,{})}),Object(Be.jsx)(Na,{value:n,index:1,children:Object(Be.jsx)(Ri,{})}),Object(Be.jsx)(Na,{value:n,index:2,children:Object(Be.jsx)(Pi,{})})]})},zi=n(733),_i=function(){var e=dc(),t=Object(i.c)((function(e){return e.customRequests.customRequest.responseHeaders}));return Object(Be.jsx)("div",{className:e.responseHeadersContainer,children:Object.keys(t).map((function(e,n){return Object(Be.jsxs)("div",{className:"d-flex align-items-center mt-2",children:[Object(Be.jsx)(Ot.a,{contentEditable:!1,sx:{mr:2},value:e,fullWidth:!0,variant:"standard",size:"small",placeholder:"Key"}),Object(Be.jsx)(Ot.a,{contentEditable:!1,value:t[e],fullWidth:!0,variant:"standard",size:"small",placeholder:"Value"})]},n)}))})},Li=function(){var e=Object(r.useState)(0),t=Object(je.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(0),c=Object(je.a)(s,2),i=c[0],o=c[1],l=function(){a(window.innerWidth),o(window.innerHeight)};return Object(r.useLayoutEffect)((function(){return window.addEventListener("resize",l),l(),function(){return window.removeEventListener("resize",l)}}),[]),{width:n,height:i}},Hi=n(184),Wi=n.n(Hi),Di=Object(i.b)((function(e){return{customRequestError:e.customRequests.customRequestError}}),{setCustomRequestError:yi})((function(e){var t=e.customRequestError,n=e.setCustomRequestError;return Object(Be.jsx)(bn.a,{sx:{width:"100%"},children:Object(Be.jsx)(li.a,{variant:"outlined",severity:(null===t||void 0===t?void 0:t.level)||"error",action:Object(Be.jsx)(nt.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){return n(Object(j.a)(Object(j.a)({},t),{},{data:null}))},children:Object(Be.jsx)(Wi.a,{fontSize:"inherit"})}),sx:{mb:2},children:null===t||void 0===t?void 0:t.data})})})),Ui=Object(i.b)((function(e){return{customRequest:e.customRequests.customRequest,customRequestError:e.customRequests.customRequestError}}),{setCustomRequestError:yi})((function(e){var t=e.customRequest,n=e.customRequestError,a=e.setCustomRequestError,s=Li().width,c=dc(),i=Object(r.useState)(0),o=Object(je.a)(i,2),l=o[0],u=o[1],d=Object(r.useMemo)((function(){return(null===t||void 0===t?void 0:t.statusCode)&&!Ue.a.isEmpty(null===t||void 0===t?void 0:t.responseHeaders)&&(null===t||void 0===t?void 0:t.responseBody)}),[t]);return Object(r.useEffect)((function(){return a(Re.customRequestError)}),[null===t||void 0===t?void 0:t.requestId]),Object(Be.jsxs)(Nr.a,{sx:{p:1,mt:2,mb:4},elevation:3,children:[Object(Be.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Be.jsx)(bt.a,{children:"Response"}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(nt.a,{size:"small",children:Object(Be.jsx)(zi.a,{fontSize:"small"})})]}),Object(Be.jsx)(xi,{}),!(null===n||void 0===n?void 0:n.data)&&!d&&Object(Be.jsx)(li.a,{variant:"outlined",severity:"info",children:"Response will be shown after request is sent"}),(null===n||void 0===n?void 0:n.data)&&Object(Be.jsx)(Di,{}),d&&Object(Be.jsxs)("div",{children:[Object(Be.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Be.jsxs)(sa.a,{sx:Zt,value:l,onChange:function(e,t){return u(t)},indicatorColor:"primary",className:"mt-3",children:[Object(Be.jsx)(ca.a,{sx:Zt,label:"Headers"}),Object(Be.jsx)(ca.a,{sx:Zt,label:"Body"})]}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(bt.a,{children:null===t||void 0===t?void 0:t.statusCode}),Object(Be.jsx)(na,{statusCode:null===t||void 0===t?void 0:t.statusCode})]}),Object(Be.jsx)(Na,{value:l,index:0,children:Object(Be.jsx)(_i,{})}),Object(Be.jsx)(Na,{value:l,index:1,children:Object(Be.jsx)("div",{className:c.responseHeadersContainer,style:{display:"inline-block",width:s/1.67,wordWrap:"break-word"},children:Object(Be.jsx)(Ma,{body:Os(null===t||void 0===t?void 0:t.responseBody)?null===t||void 0===t?void 0:t.responseBody:JSON.stringify(null===t||void 0===t?void 0:t.responseBody),responseHeaders:null===t||void 0===t?void 0:t.responseHeaders})})})]})]})})),Bi=n(748),Ji=n(734),Yi=n(735),Gi=n(736),Vi=n(737),Qi=Object(i.b)((function(e){return{project:e.projects.project,customRequests:e.customRequests.customRequests}}),{setCustomRequest:gi})((function(e){var t,n,s=e.history,c=e.project,i=e.customRequests,o=e.setCustomRequest,l=Object(r.useState)(!0),u=Object(je.a)(l,2),d=u[0],b=u[1],p=Object(r.useState)(!1),O=Object(je.a)(p,2),h=O[0],f=O[1],m=pa().createCustomRequest,v=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===i||void 0===i||null===(n=i.results)||void 0===n?void 0:n.some((function(e){return e.requestId===t.requestId})))){e.next=5;break}o(t),e.next=7;break;case 5:return e.next=7,m(c.id,Object(j.a)(Object(j.a)({},t),{},{isCustom:!0}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsxs)(Ji.a,{disableGutters:!0,onClick:function(){return b(!d)},onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:[Object(Be.jsx)(Nn.a,{sx:{ml:.2},children:Object(Be.jsx)(Yi.a,{fontSize:"small"})}),Object(Be.jsx)(Kn.a,{primary:(n=null===s||void 0===s?void 0:s.created,Ze()(n).calendar(null,{lastDay:"[Yesterday]",sameDay:"[Today]",nextDay:"[Tomorrow]",lastWeek:"[last] dddd",nextWeek:"dddd",sameElse:"L"}))}),h&&Object(Be.jsx)(In.a,{title:"Delete history",placement:"left",children:Object(Be.jsx)(nt.a,{size:"small",sx:{p:.5},children:Object(Be.jsx)(ua.a,{fontSize:"small"})})}),d?Object(Be.jsx)(Gi.a,{}):Object(Be.jsx)(Vi.a,{})]}),Object(Be.jsx)(ea.a,{in:d,timeout:"auto",unmountOnExit:!0,children:Object(Be.jsx)(Jn.a,{component:"div",disablePadding:!0,dense:!0,children:null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.map((function(e){return Object(Be.jsxs)(zn.a,{button:!0,divider:!0,disableGutters:!0,onClick:Object(He.a)(Le.a.mark((function t(){return Le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),children:[Object(Be.jsxs)(pt.a,{container:!0,spacing:2,children:[Object(Be.jsx)(pt.a,{item:!0,xs:2,md:2,lg:2,xl:2,sm:2,children:Object(Be.jsx)(bt.a,{color:R[null===e||void 0===e?void 0:e.method],sx:{mr:2},children:null===e||void 0===e?void 0:e.method})}),Object(Be.jsx)(pt.a,{item:!0,xs:10,md:10,lg:10,xl:10,sm:10,children:Object(Be.jsx)(bt.a,{style:Jt.ellipsisText,children:null===e||void 0===e?void 0:e.requestUrl})})]}),Object(Be.jsx)(br.a,{children:Object(Be.jsx)(nt.a,{size:"small",children:Object(Be.jsx)(Ts.a,{fontSize:"small"})})})]},e.id)}))})})]})})),Ki=function(){var e=Object(i.c)((function(e){return e.users.userSettings})).skeletonAnimation,t=Object(r.useMemo)((function(){return Math.floor(window.innerHeight/1.5/51)}),[]);return Object(Be.jsx)("div",{style:{width:"100%"},children:new Array(t).fill().map((function(t,n){return Object(Be.jsx)(Ds.a,{animation:e,width:"100%",height:49},n)}))})},Xi=Object(i.b)((function(e){return{customRequestsHistory:e.customRequests.customRequestsHistory,customRequestsHistoryPagination:e.customRequests.customRequestsHistoryPagination}}),{setCustomRequestsHistoryPagination:function(e){return{type:ze,payload:e}}})((function(e){var t,n=e.customRequestsHistory,a=e.customRequestsHistoryPagination,s=e.setCustomRequestsHistoryPagination,c=dc(),i=pa().loadHistory,o=Object(r.useMemo)((function(){return Math.floor((null===n||void 0===n?void 0:n.count)/(null===a||void 0===a?void 0:a.rowsPerPage))}),[n.count]),l=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s(Object(j.a)(Object(j.a)({},a),{},{page:n})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Nr.a,{elevation:3,sx:{p:1,pl:1.5},children:[Object(Be.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Be.jsx)(bt.a,{children:"History"}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(nt.a,{size:"small",children:Object(Be.jsx)(qr.a,{fontSize:"small"})})]}),Object(Be.jsx)(xi,{}),Object(Be.jsx)(Jn.a,{dense:!0,className:c.historyListContainer,children:i?Object(Be.jsx)(Ki,{}):null===n||void 0===n||null===(t=n.results)||void 0===t?void 0:t.map((function(e,t){return Object(Be.jsx)(Qi,{history:e},t)}))}),Object(Be.jsx)(En.a,{}),Object(Be.jsx)("div",{className:"d-flex justify-content-center",children:Object(Be.jsx)(Bi.a,{sx:{mt:1},onChange:l,count:o,size:"small"})})]})})),$i=function(e){var t=e.project,n=e.request,s=e.index,c=e.setCustomRequest,i=e.setConfirmAction,o=it().setAlert,l=pa().deleteCustomRequest,u=Object(r.useCallback)(Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Array.isArray(n.requestHeaders)&&Array.isArray(n.queryParams)?c(n):o({message:"Unable to select this request. Probably its data were deformed",level:"error"});case 1:case"end":return e.stop()}}),e)}))),[n]),d=Object(r.useCallback)(Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({modal:!0,title:"Delete request?",description:"Are you sure you want to delete the request? You will not be able to restore it",confirmButton:"Delete",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.id,n.requestId);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),[t.id,n.requestId]);return Object(Be.jsx)(ca.a,{onClick:u,value:s,sx:Object(j.a)(Object(j.a)({},Zt),{},{pr:.5,pl:1}),style:{flexDirection:"row"},component:"div",label:Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(bt.a,{variant:"body2",sx:{mr:1.5},color:R[null===n||void 0===n?void 0:n.method],children:null===n||void 0===n?void 0:n.method}),Object(Be.jsx)(bt.a,{variant:"body2",style:Jt.ellipsisText,children:(null===n||void 0===n?void 0:n.requestUrl)?null===n||void 0===n?void 0:n.requestUrl:"No url"}),Object(Be.jsx)(nt.a,{size:"small",onClick:d,children:Object(Be.jsx)(at.a,{fontSize:"small"})})]})})},Zi=Object(i.b)((function(e){return{project:e.projects.project}}),{setCustomRequest:gi,setConfirmAction:zt})(Object(r.memo)($i)),eo=function(){var e=Object(i.c)((function(e){return e.users.userSettings})).skeletonAnimation,t=Object(r.useMemo)((function(){return Math.floor(window.innerWidth/1.2/100)}),[]);return Object(Be.jsx)("div",{style:{width:"100%",display:"flex"},children:new Array(t).fill().map((function(t,n){return Object(Be.jsx)(Ds.a,{animation:e,width:100,height:28,sx:{ml:1,mr:1}},n)}))})},to=Object(i.b)((function(e){return{drawer:e.users.drawer,project:e.projects.project,customRequest:e.customRequests.customRequest,customRequests:e.customRequests.customRequests}}),{setCustomRequest:gi})((function(e){var t,n=e.customRequest,a=e.customRequests,s=e.project,c=e.drawer,i=e.setCustomRequest,o=Li().width,l=pa(),u=l.loadRequests,d=l.createCustomRequest,j=tn(),b=Object(r.useMemo)((function(){var e,t=null===a||void 0===a||null===(e=a.results)||void 0===e?void 0:e.findIndex((function(e){return e.requestId===n.requestId}));return-1===t&&(null===a||void 0===a?void 0:a.count)>0&&i(null===a||void 0===a?void 0:a.results[0]),-1===t?0:t}),[null===a||void 0===a?void 0:a.results,n.requestId]),p=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(s.id,{isCustom:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Nr.a,{elevation:3,className:Object(gr.a)("mt-3 d-flex align-items-center",j.toolbarContainer),children:[Object(Be.jsx)(sa.a,{value:b,ScrollButtonComponent:an,sx:Zt,variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,style:{width:c?o/1.35:o/1.15,transition:"width 0.3s"},children:u?Object(Be.jsx)(eo,{}):null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.map((function(e,t){return Object(Be.jsx)(Zi,{index:t,request:e},t)}))}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(nt.a,{size:"small",onClick:p,children:Object(Be.jsx)(ks.a,{})})]})})),no=Object(i.b)((function(e){return{project:e.projects.project,customRequest:e.customRequests.customRequest}}),null)((function(e){var t=e.project,n=e.customRequest,a=pa().updateCustomRequest;return Object(r.useEffect)((function(){var e=setTimeout(Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.id&&(null===n||void 0===n?void 0:n.requestId),!e.t0){e.next=5;break}return e.next=4,a(t.id,null===n||void 0===n?void 0:n.requestId,n);case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),700);return function(){return clearTimeout(e)}}),[t.id,null===n||void 0===n?void 0:n.requestUrl,null===n||void 0===n?void 0:n.method,null===n||void 0===n?void 0:n.requestBody,null===n||void 0===n?void 0:n.requestHeaders,null===n||void 0===n?void 0:n.queryParams]),Object(Be.jsxs)(dt.a,{maxWidth:"xl",children:[Object(Be.jsx)(to,{}),Object(Be.jsx)("div",{className:"d-flex",children:Object(Be.jsxs)(pt.a,{container:!0,spacing:2,sx:{mt:.5},children:[Object(Be.jsx)(pt.a,{item:!0,xs:4,children:Object(Be.jsx)(Xi,{})}),Object(Be.jsxs)(pt.a,{item:!0,xs:8,children:[Object(Be.jsx)(Fi,{}),Object(Be.jsx)(Ui,{})]})]})})]})})),ro=n(74),ao=n(805),so=n(806),co=n(763),io=n(807),oo=function(e){return{type:Se,payload:e}},lo=function(e){return{type:Oe,payload:e}},uo=function(e){return{type:qe,payload:e}},jo=function(e){return{type:we,payload:e}},bo=Object(i.b)((function(e){return{project:e.projects.project}}),{setTrack:jo,setService:function(e){return{type:ye,payload:e}},setCreateTrackModal:oo})((function(e){var t,n=e.service,r=e.index,a=e.setService,s=e.setCreateTrackModal,c=e.project,i=e.setTrack,o=Object(jn.a)().palette,u=Object(l.g)(),d=function(){s(!0),a(n)};return Object(Be.jsx)(ro.b,{draggableId:null===(t=n.id)||void 0===t?void 0:t.toString(),index:r,children:function(e,t){var r;return Object(Be.jsxs)(ao.a,Object(j.a)(Object(j.a)(Object(j.a)({sx:{mb:1.5,backgroundColor:t.isDragging&&("dark"===o.mode?"#535353":"#DDDDDD")},ref:e.innerRef,snapshot:t},e.draggableProps),e.dragHandleProps),{},{title:null===n||void 0===n?void 0:n.title,children:[Object(Be.jsxs)(so.a,{children:[Object(Be.jsx)(bt.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:null===n||void 0===n?void 0:n.title}),Object(Be.jsx)(Jn.a,{dense:!0,children:null===n||void 0===n||null===(r=n.tracks)||void 0===r?void 0:r.map((function(e){return Object(Be.jsxs)(zn.a,{button:!0,disableGutters:!0,onClick:function(){return function(e){i(e),u.push("/projects/".concat(c.id,"/tracks/").concat(e.id))}(e)},children:[Object(Be.jsx)(co.a,{color:"error",label:"5XX",size:"small"}),Object(Be.jsx)(Kn.a,{sx:{ml:1},primary:e.endpoint})]},e.id)}))})]}),Object(Be.jsxs)(io.a,{children:[Object(Be.jsx)(ft.a,{size:"small",startIcon:Object(Be.jsx)(ks.a,{}),onClick:d,children:"NEW TRACK"}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(zi.a,{})]})]}))}})})),po=function(e){var t=e.activity;return Object(Be.jsxs)(pt.a,{item:!0,xs:!0,children:[Object(Be.jsx)(bt.a,{sx:{mb:1},variant:"subtitle1",children:null===t||void 0===t?void 0:t.title}),Object(Be.jsx)(ro.c,{droppableId:"".concat(t.id),children:function(e){var n;return Object(Be.jsxs)("div",Object(j.a)(Object(j.a)({},e.droppableProps),{},{ref:e.innerRef,children:[null===t||void 0===t||null===(n=t.services)||void 0===n?void 0:n.map((function(e,t){return Object(Be.jsx)(bo,{service:e,index:t},e.id)})),e.placeholder]}))}})]})},Oo=a.a.createContext(null),ho=function(e){var t=e.children,n=e.store,a=ut().token,s=it().setAlert,c="api/v1/projects/",o=Object(r.useState)(!0),l=Object(je.a)(o,2),u=l[0],d=l[1],j=Object(r.useState)(!1),b=Object(je.a)(j,2),p=b[0],O=b[1],h=Object(i.c)((function(e){return e.projects.project}));Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a&&(null===h||void 0===h?void 0:h.id),!e.t0){e.next=5;break}return e.next=4,f(h.id);case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))()}),[a,null===h||void 0===h?void 0:h.id]);var f=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,Ct(c+"".concat(t,"/activities/"));case 3:r=e.sent,a=r.json,n.dispatch({type:pe,payload:a}),d(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(He.a)(Le.a.mark((function e(t,r){var a,i,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,St(c+"".concat(t,"/activities/"),r);case 3:a=e.sent,i=a.json,!(o=a.error)&&n.dispatch({type:he,payload:i}),s(o?i:{message:"Activity was successfully created",level:"success"}),O(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){var r,a,i;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt(c+"".concat(t,"/activities/move/"),n);case 2:r=e.sent,a=r.json,i=r.error,s(i?a:{message:"Activities positions was moved",level:"success"});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(He.a)(Le.a.mark((function e(t,r){var a,i,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt(c+"".concat(t,"/activities/").concat(r,"/"));case 2:a=e.sent,i=a.json,!(o=a.error)&&n.dispatch({type:me,payload:{activityId:r}}),s(o?i:{message:"Activity successfully deleted",level:"success"});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(He.a)(Le.a.mark((function e(t,r,a){var i,o,l;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,qt(c+"".concat(t,"/activities/").concat(r,"/"),a);case 3:i=e.sent,o=i.json,!(l=i.error)&&n.dispatch({type:ve,payload:o}),s(l?o:{message:"Activity successfully updated",level:"success"}),O(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),y=function(){var e=Object(He.a)(Le.a.mark((function e(t,r,a){var i,o,l;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,St(c+"".concat(t,"/activities/").concat(r,"/services/"),a);case 3:i=e.sent,o=i.json,!(l=i.error)&&n.dispatch({type:xe,payload:{activityId:r,service:o}}),s(l?o:{message:"Service was successfully created",level:"success"}),O(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){var r,a,i;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,qt(c+"".concat(t,"/activities/services/move/"),n);case 3:r=e.sent,a=r.json,i=r.error,s(i?a:{message:"Service positions was moved",level:"success"}),O(!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Be.jsx)(Oo.Provider,{value:{load:u,request:p,createService:y,createActivity:m,moveActivities:v,deleteActivity:x,updateActivity:g,moveServices:w},children:t})},fo=function(){var e=Object(r.useContext)(Oo);if(null==e)throw new Error("useServices() called outside of a ServicesProvider?");return e},mo=Object(i.b)((function(e){return{project:e.projects.project,activities:e.tracks.activities}}),null)((function(e){var t=e.modal,n=e.setModal,a=e.project,s=e.activities,c=fo(),i=c.request,l=c.createService,u=Object(r.useState)(""),d=Object(je.a)(u,2),b=d[0],p=d[1],O=Object(r.useState)(""),h=Object(je.a)(O,2),f=h[0],m=h[1],v=Object(r.useState)(s[0]),x=Object(je.a)(v,2),g=x[0],y=x[1];Object(r.useEffect)((function(){return y(s[0])}),[s]);var w=function(){return n(!1)},k=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(a.id,g.id,{title:b,description:f}).then((function(){w(),p(""),m("")})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(It.a,{open:t,onClose:w,TransitionComponent:Ke,children:[Object(Be.jsx)(Pt.a,{children:"Create service"}),Object(Be.jsxs)(At.a,{children:[Object(Be.jsx)(Mt.a,{children:'Services used to keep structure of tracks. And also they helps to understand which service are broken/ok. You can create services like in your project architecture. For example: "Users frontend", "Dashboard fronted", "Users backend", "Dashboard backend" etc.'}),!g&&Object(Be.jsxs)(li.a,{severity:"warning",sx:{mb:1,mt:1},children:["You currently have no activities. Go to"," ",Object(Be.jsx)(xt.a,{component:o.b,underline:"none",to:"/projects/".concat(a.id,"/settings/activities"),children:"Activities"})," section to setup new one"]}),Object(Be.jsx)(Ot.a,{value:b,onChange:function(e){return p(e.target.value)},autoFocus:!0,margin:"dense",label:"Service title",placeholder:"Users backend",fullWidth:!0,variant:"standard",inputProps:{maxLength:255}}),Object(Be.jsx)(Ot.a,{multiline:!0,value:f,onChange:function(e){return m(e.target.value)},autoFocus:!0,margin:"dense",label:"Description",placeholder:"Users API and identity",fullWidth:!0,variant:"standard",className:"mt-3"}),Object(Be.jsx)(Cs.a,{className:"mt-3",fullWidth:!0,autoHighlight:!0,disableClearable:!0,options:s,defaultValue:g,getOptionLabel:function(e,t){return null===e||void 0===e?void 0:e.title},onChange:function(e,t){return y(t)},renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{fullWidth:!0,label:"Select an activity",variant:"standard"}))}})]}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:w,children:"Cancel"}),Object(Be.jsx)(Ps.a,{loading:i,disabled:0===b.length||!g,onClick:k,children:"Create"})]})]})})),vo=n(775),xo=a.a.createContext(null),go=function(e){var t=e.children,n=e.store,a=it().setAlert,s="api/v1/projects/",c=Object(r.useState)(!1),o=Object(je.a)(c,2),l=o[0],u=o[1],d=Object(r.useState)(!1),j=Object(je.a)(d,2),b=j[0],p=j[1],O=Object(i.c)((function(e){return e.tracks.track})),h=Object(i.c)((function(e){return e.projects.project}));Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=O.id&&h.id,!e.t0){e.next=5;break}return e.next=4,m(h.id,O.id);case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))()}),[h,O]);var f=function(){var e=Object(He.a)(Le.a.mark((function e(t,r,c){var i,o,l,u;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),i=s+"".concat(t,"/activities/services/").concat(r,"/tracks/"),e.next=4,St(i,c);case 4:o=e.sent,l=o.json,!(u=o.error)&&n.dispatch({type:ke,payload:{serviceId:r,track:l}}),a(u?l:{message:"Track successfully created",level:"success"}),p(!1);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(He.a)(Le.a.mark((function e(t,r){var a,c;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Ct(s+"".concat(t,"/tracks/").concat(r,"/requests/"));case 3:a=e.sent,c=a.json,n.dispatch({type:Ce,payload:c}),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Be.jsx)(xo.Provider,{value:{load:l,request:b,createTrack:f},children:t})},yo=function(){var e=Object(r.useContext)(xo);if(null==e)throw new Error("useTracks() called outside of a TracksProvider?");return e},wo=Object(i.b)((function(e){return{projectSettings:e.projects.projectSettings}}),null)((function(e){var t=e.endpoint,n=e.setEndpoint,a=e.projectSettings,s=Object(r.useState)(""),c=Object(je.a)(s,2),i=c[0],o=c[1],l=Object(r.useMemo)((function(){var e;return null===a||void 0===a||null===(e=a.trackDomains)||void 0===e?void 0:e.map((function(e){return e.domain}))}),[a]),u=Object(r.useMemo)((function(){var e;return null===a||void 0===a||null===(e=a.trackPatterns)||void 0===e?void 0:e.map((function(e){return e.pattern}))}),[a]),d=function(e){var t=e.target.value;n(t),""===t&&o("")};return Object(Be.jsx)(Cs.a,{value:i,inputValue:t,size:"small",freeSolo:!0,options:u,onChange:function(e,r){return n(t+r)},disableCloseOnSelect:!0,filterOptions:function(e,t){var n=t.inputValue;return ps(n)?u:l},renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{className:"mt-3",label:"Endpoint",placeholder:"https://some.unstable.endpoint.com/api/v1/",size:"small",variant:"standard",onChange:d}))}})})),ko=Object(i.b)((function(e){return{project:e.projects.project,service:e.tracks.service,createTrackModal:e.tracks.createTrackModal}}),{setCreateTrackModal:oo})((function(e){var t=e.createTrackModal,n=e.setCreateTrackModal,a=e.project,s=e.service,c=yo(),i=c.request,l=c.createTrack,u=Object(r.useState)(""),d=Object(je.a)(u,2),b=d[0],p=d[1],O=Object(r.useState)(1),h=Object(je.a)(O,2),m=h[0],v=h[1],x=Object(r.useState)([]),g=Object(je.a)(x,2),w=g[0],k=g[1],C=Object(r.useState)(""),S=Object(je.a)(C,2),q=S[0],R=S[1],T=function(){return n(!1)},N=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(null===a||void 0===a?void 0:a.id,null===s||void 0===s?void 0:s.id,{endpoint:b,times:m,statusCodes:w,responseBodyContains:q}).then((function(){return T()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(It.a,{fullScreen:!0,open:t,onClose:T,TransitionComponent:Ke,children:[Object(Be.jsx)(Ht.a,{sx:{position:"relative"},children:Object(Be.jsxs)(pn.a,{children:[Object(Be.jsx)(nt.a,{edge:"start",color:"inherit",onClick:T,"aria-label":"close",children:Object(Be.jsx)(Wi.a,{})}),Object(Be.jsxs)(bt.a,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:["Create new track for ",null===s||void 0===s?void 0:s.title]}),Object(Be.jsx)(Ps.a,{color:"inherit",onClick:N,loading:i,children:"Create"})]})}),Object(Be.jsxs)(dt.a,{className:"mt-5",children:[Object(Be.jsxs)(cs.a,{variant:"standard",fullWidth:!0,children:[Object(Be.jsx)(is.a,{id:"demo-simple-select-standard-label",children:"Select track type"}),Object(Be.jsxs)(os.a,{label:"Select track type",children:[Object(Be.jsx)(Tn.a,{value:10,children:"API track"}),Object(Be.jsx)(Tn.a,{value:20,children:"Performance track"}),Object(Be.jsx)(Tn.a,{value:30,children:"Errors tracks"})]})]}),Object(Be.jsx)(Mt.a,{className:"mt-3",children:"You can create track for certain endpoint. When error will happen on this endpoint we will let you know about it."}),Object(Be.jsx)(wo,{endpoint:b,setEndpoint:p}),Object(Be.jsx)(Ot.a,{value:m,onChange:function(e){return v(e.target.value)},type:"number",className:"mt-3",variant:"standard",size:"small",fullWidth:!0,label:"How many times error should happen?",placeholder:"100",helperText:"This option used to not spam your email/channel. For example if error happened 5 times, we will notify you."}),Object(Be.jsx)(Cs.a,{value:w,size:"small",multiple:!0,freeSolo:!0,options:Object.values(y).flat(),onChange:function(e,t){return k(t)},disableCloseOnSelect:!0,getOptionLabel:function(e){return e.toString()},renderOption:function(e,t,n){var r=n.selected;return Object(Be.jsxs)("li",Object(j.a)(Object(j.a)({},e),{},{children:[Object(Be.jsx)(Zr.a,{size:"small",style:{marginRight:8},checked:r}),t,Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(na,{statusCode:t})]}))},renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{className:"mt-3",label:"What status code do we take for an error?",placeholder:"401, 500, 502",size:"small",variant:"standard",helperText:'List of status codes. Press "Enter" to add'}))}}),Object(Be.jsx)(Ot.a,{value:q,onChange:function(e){return R(e.target.value)},multiline:!0,className:"mt-3",variant:"standard",size:"small",fullWidth:!0,label:"What response body should contains?",placeholder:'{"error": "some error"}',helperText:"Enter pattern which 3"}),Object(Be.jsxs)(cs.a,{variant:"standard",className:"mt-3",fullWidth:!0,children:[Object(Be.jsx)(is.a,{id:"demo-simple-select-standard-label",children:"Where to notify you?"}),Object(Be.jsx)(os.a,{children:Object(Be.jsxs)(Tn.a,{value:10,style:{alignItems:"center"},children:[Object(Be.jsx)("img",{style:{width:25,height:25,marginRight:10},src:f+"static/images/integrations/slack.png"}),"Slack"]})}),Object(Be.jsxs)(vo.a,{children:["If you have empty list of notify integrations, go to"," ",Object(Be.jsx)(xt.a,{component:o.b,to:"/projects/".concat(a.id,"/settings/integrations"),children:"Integrations"})," ","section to setup one."]})]})]})]})})),Co=Object(i.b)((function(e){return{project:e.projects.project,activities:e.tracks.activities}}),{moveService:function(e){return function(t,n){return t({type:ge,payload:e}),Promise.resolve(n())}}})((function(e){var t=e.project,n=e.activities,a=e.moveService,s=fo().moveServices,c=Object(r.useState)(!1),i=Object(je.a)(c,2),o=i[0],l=i[1],u=function(){var e=Object(He.a)(Le.a.mark((function e(r){var c,i,o,l,u,j;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.destination){e.next=2;break}return e.abrupt("return");case 2:c=Object(d.a)(n),i=parseInt(r.source.droppableId),o=parseInt(r.destination.droppableId),l=r.destination.index,u=r.source.index,j=c.find((function(e){return e.id===i})).services[u],a({activityIdFrom:i,activityIdTo:o,indexTo:l,indexFrom:u,service:j}).then(function(){var e=Object(He.a)(Le.a.mark((function e(n){var r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.tracks.activities.map((function(e){return{activityId:e.id,services:e.services.map((function(e){return{id:e.id,index:e.index}}))}})),e.next=3,s(t.id,r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)(dt.a,{maxWidth:"xl",children:[Object(Be.jsx)(ro.a,{onDragEnd:u,children:Object(Be.jsx)(pt.a,{container:!0,spacing:2,className:"mt-3",children:n.map((function(e){return Object(Be.jsx)(po,{activity:e},e.id)}))})}),Object(Be.jsxs)(Hc.a,{variant:"extended",color:"primary",style:Jt.fab,onClick:function(){return l(!0)},children:[Object(Be.jsx)(ks.a,{sx:{mr:1}}),"NEW SERVICE"]}),Object(Be.jsx)(ko,{}),Object(Be.jsx)(mo,{modal:o,setModal:l})]})})),So=n(808),qo=Object(i.b)((function(e){return{project:e.projects.project}}),{setConfirmAction:zt})((function(e){var t=e.project,n=e.setConfirmAction,r=uc(),a=Object(l.g)();return Object(Be.jsxs)("div",{className:r.contentContainer,children:[Object(Be.jsx)(Sc,{title:"Integrations"}),Object(Be.jsxs)(Jn.a,{children:[Object(Be.jsxs)(zn.a,{children:[Object(Be.jsx)(So.a,{children:Object(Be.jsx)(qn.a,{alt:"Slack",src:f+"static/images/integrations/slack.png"})}),Object(Be.jsx)(Kn.a,{primary:"Slack integration",secondary:"Connect Lama Logger to your workspace, so you can get notifications, about errors, tracks..."}),Object(Be.jsx)(ft.a,{variant:"outlined",color:"inherit",onClick:function(){},children:"Connect"})]}),Object(Be.jsxs)(zn.a,{children:[Object(Be.jsx)(So.a,{children:Object(Be.jsx)(qn.a,{alt:"Slack",src:f+"static/images/integrations/telegram.png"})}),Object(Be.jsx)(Kn.a,{primary:"Telegram bot",secondary:"Connect Lama Logger to your workspace, so you can get notifications, about errors, tracks..."}),Object(Be.jsx)(ft.a,{variant:"outlined",color:"inherit",onClick:function(){(null===t||void 0===t?void 0:t.telegramChannel)||n({modal:!0,title:"Telegram setup",description:Object(Be.jsxs)(bt.a,{children:["To start receiving notifications in telegram you have to ",Object(Be.jsx)(xt.a,{onClick:function(){return n({modal:!1})},component:o.b,underline:"none",to:"/projects/".concat(t.id,"/settings/notifications"),children:"setup"})," telegram channel"]}),confirmButton:"Go to settings",action:function(){a.push("/projects/".concat(t.id,"/settings/notifications")),n({modal:!1})}})},children:"Connect"})]})]})]})})),Ro=function(e){var t,n,r=e.filterHeaders,s=e.onNewHeader,c=e.onRemoveHeader,i=e.onChangeHeader,o=e.title,l=e.description;return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(bt.a,{className:"mt-3",children:o||""}),Object(Be.jsx)(bt.a,{variant:"body2",children:l||""}),Object(Be.jsxs)(pt.a,{container:!0,xs:10,className:"mt-3",spacing:2,children:[Object(Be.jsxs)(pt.a,{item:!0,xs:5,children:[Object(Be.jsx)(bt.a,{children:"Keys"}),null===r||void 0===r||null===(t=r.keys)||void 0===t?void 0:t.map((function(e,t){return Object(Be.jsxs)("div",{className:"d-flex justify-content-center align-items-center mt-2",children:[Object(Be.jsx)(Ot.a,{fullWidth:!0,value:e,variant:"standard",size:"small",placeholder:"Key",label:"Key",className:"me-1",onChange:function(){var e=Object(He.a)(Le.a.mark((function e(n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i("keys",t,n.target.value);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(Be.jsx)(nt.a,{size:"small",sx:{mt:2},onClick:function(){return c("keys",t)},children:Object(Be.jsx)(at.a,{fontSize:"small"})})]},t)})),Object(Be.jsx)(ft.a,{fullWidth:!0,startIcon:Object(Be.jsx)(ks.a,{}),sx:{mt:2},size:"small",color:"inherit",className:"justify-content-start",onClick:Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("keys");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"New key"})]}),Object(Be.jsxs)(pt.a,{item:!0,xs:5,children:[Object(Be.jsx)(bt.a,{children:"Values"}),null===r||void 0===r||null===(n=r.values)||void 0===n?void 0:n.map((function(e,t){return Object(Be.jsxs)("div",{className:"d-flex justify-content-center align-items-center mt-2",children:[Object(Be.jsx)(Ot.a,{fullWidth:!0,value:e,variant:"standard",size:"small",placeholder:"Key",label:"Key",className:"me-2",onChange:function(){var e=Object(He.a)(Le.a.mark((function e(n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i("values",t,n.target.value);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(Be.jsx)(nt.a,{size:"small",sx:{mt:2},onClick:function(){return c("values",t)},children:Object(Be.jsx)(at.a,{fontSize:"small"})})]},t)})),Object(Be.jsx)(ft.a,{fullWidth:!0,startIcon:Object(Be.jsx)(ks.a,{}),sx:{mt:2},size:"small",color:"inherit",className:"justify-content-start",onClick:Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("values");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"New value"})]})]})]})},To=Object(r.memo)(Ro),No=Object(i.b)((function(e){return{project:e.projects.project,projectSettings:e.projects.projectSettings}}),null)((function(e){var t=e.project,n=e.projectSettings,a=uc(),s=ka().isAllowed,c=mi(),i=c.load,o=c.request,l=c.updateProjectSettings,u=Object(r.useState)(null===n||void 0===n?void 0:n.filterMethods),b=Object(je.a)(u,2),p=b[0],O=b[1],h=Object(r.useState)(null===n||void 0===n?void 0:n.filterStatusCodes),f=Object(je.a)(h,2),m=f[0],v=f[1],x=Object(r.useState)(null===n||void 0===n?void 0:n.filterHeaders),w=Object(je.a)(x,2),C=w[0],S=w[1];Object(r.useEffect)((function(){O(null===n||void 0===n?void 0:n.filterMethods),v(null===n||void 0===n?void 0:n.filterStatusCodes),S(null===n||void 0===n?void 0:n.filterHeaders)}),[n]);var q=Object(r.useMemo)((function(){return p===(null===n||void 0===n?void 0:n.filterMethods)&&(C===(null===n||void 0===n?void 0:n.filterHeaders)&&m===(null===n||void 0===n?void 0:n.filterStatusCodes))}),[p,m,C,n]),R=function(e,t){return v(Object(j.a)(Object(j.a)({},m),{},Object(_t.a)({},e,t.map(Number))))},T=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.id,{filterMethods:p,filterStatusCodes:m,filterHeaders:C});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=Object(r.useCallback)(Object(He.a)(Le.a.mark((function e(){var t,n,r,a,s=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:"keys",r=s.length>1?s[1]:void 0,a=s.length>2?s[2]:void 0,e.abrupt("return",S(Object(j.a)(Object(j.a)({},C),{},Object(_t.a)({},n,null===(t=C[n])||void 0===t?void 0:t.map((function(e,t){return t===r?a:e}))))));case 4:case"end":return e.stop()}}),e)}))),[C]),E=function(){var e=Object(He.a)(Le.a.mark((function e(){var t,n=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"keys",e.abrupt("return",S(Object(j.a)(Object(j.a)({},C),{},Object(_t.a)({},t,[].concat(Object(d.a)(C[t]),[""])))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{className:a.contentContainer,children:[Object(Be.jsx)(Sc,{title:"Requests filters"}),Object(Be.jsx)(bt.a,{className:"mt-3",children:"Methods"}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Cs.a,{value:p,size:"small",multiple:!0,freeSolo:!0,className:"w-75",options:g,onChange:function(e,t){return O(t)},disableCloseOnSelect:!0,getOptionLabel:function(e){return e},renderOption:function(e,t,n){var r=n.selected;return Object(Be.jsxs)("li",Object(j.a)(Object(j.a)({},e),{},{children:[Object(Be.jsx)(Zr.a,{size:"small",style:{marginRight:8},checked:r}),t]}))},renderInput:function(e){return Object(Be.jsx)(Ot.a,Object(j.a)(Object(j.a)({},e),{},{label:"Methods",placeholder:"Select from list or type custom",size:"small",variant:"standard",helperText:"Select methods which you want to see in requests filters section"}))}},i)}),Object(Be.jsx)(bt.a,{className:"mt-3",children:"Status codes"}),k.map((function(e,t){return Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Ns,{type:e.value,load:i,value:m[e.value],options:y[e.value],onChange:R,className:"w-75"})},t)})),Object(Be.jsx)(To,{title:"Headers",description:"Setup headers, so you will be able to choose headers filters quickly",filterHeaders:C,onNewHeader:E,onRemoveHeader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keys",t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)(C[e]);n.splice(t,1),S(Object(j.a)(Object(j.a)({},C),{},Object(_t.a)({},e,Object(d.a)(n))))},onChangeHeader:N}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",sx:{mb:6},children:Object(Be.jsx)(bn.a,{className:"position-relative",children:Object(Be.jsx)(Ps.a,{onClick:T,loading:o,loadingPosition:"start",startIcon:Object(Be.jsx)(Is.a,{}),variant:"text",disabled:q||!s([Rc]),children:"Save changes"})})})]})})),Eo=Object(i.b)((function(e){return{requestsRealtime:e.requests.requestsRealtime}}),{setRequestsRealtime:ur})((function(e){var t=e.requestsRealtime,n=e.setRequestsRealtime,a=uc(),s=it().setAlert,c=Object(r.useState)(t),i=Object(je.a)(c,2),o=i[0],l=i[1];Object(r.useEffect)((function(){return l(t)}),[t]);var u=Object(r.useMemo)((function(){return(null===o||void 0===o?void 0:o.unit)===(null===t||void 0===t?void 0:t.unit)&&(null===o||void 0===o?void 0:o.amount)===(null===t||void 0===t?void 0:t.amount)}),[o,t]),d=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.t1=j.a,e.t2=Object(j.a)({},o),e.t3={},e.next=6,Ge(null===o||void 0===o?void 0:o.unit,null===o||void 0===o?void 0:o.amount);case 6:e.t4=e.sent,e.t5={normalizedAmount:e.t4},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),(0,e.t0)(e.t6),s({message:"Realtime updates settings was successfully changed",level:"success"});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{className:a.contentContainer,children:[Object(Be.jsx)(Sc,{title:"Requests realtime settings"}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsxs)("div",{className:"w-50 d-flex",children:[Object(Be.jsx)(Ot.a,{value:null===o||void 0===o?void 0:o.amount,onChange:function(e){return l(Object(j.a)(Object(j.a)({},o),{},{amount:parseInt(e.target.value)}))},type:"number",fullWidth:!0,variant:"standard",label:"Amount"}),Object(Be.jsxs)(cs.a,{variant:"standard",sx:{marginLeft:3,minWidth:120},children:[Object(Be.jsx)(is.a,{id:"demo-simple-select-standard-label",children:"Period"}),Object(Be.jsx)(os.a,{value:null===o||void 0===o?void 0:o.unit,onChange:function(e){return l(Object(j.a)(Object(j.a)({},o),{},{unit:e.target.value}))},children:x.map((function(e){return Object(Be.jsx)(Tn.a,{value:e.unit,children:e.label},e.unit)}))})]})]})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(bn.a,{className:"position-relative",children:Object(Be.jsx)(ft.a,{onClick:d,loadingPosition:"start",startIcon:Object(Be.jsx)(Is.a,{}),variant:"text",disabled:!(null===o||void 0===o?void 0:o.amount)||u,children:"Save changes"})})})]})})),Io="ServiceActivity.Create",Po="ServiceActivity.Update",Ao="ServiceActivity.Delete",Mo=Object(i.b)((function(e){return{project:e.projects.project}}),{setActivity:lo,setConfirmAction:zt,setChangeActivityModal:uo})((function(e){var t=e.project,n=e.activity,s=e.setConfirmAction,c=e.setActivity,i=e.setChangeActivityModal,o=ka().isAllowed,l=fo().deleteActivity,u=Object(r.useState)(null),d=Object(je.a)(u,2),j=d[0],b=d[1],p=function(){return b(null)};return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(bn.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:Object(Be.jsx)(In.a,{title:"Activity options",children:Object(Be.jsx)(nt.a,{onClick:function(e){return b(e.currentTarget)},children:Object(Be.jsx)(Ts.a,{})})})}),Object(Be.jsxs)(Rn.a,{anchorEl:j,open:Boolean(j),onClose:p,onClick:p,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(Be.jsxs)(Tn.a,{onClick:function(){c(n),i(!0)},disabled:!o([Po]),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(ri.a,{fontSize:"small"})}),"Edit"]}),Object(Be.jsxs)(Tn.a,{sx:{color:"red"},onClick:function(){s({modal:!0,title:"Delete activity",description:"Are you sure you want to delete activity? You will be unable to under this action",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.id,n.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),confirmButton:"Delete"})},disabled:!o([Ao]),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Xa.a,{fontSize:"small",sx:{color:"red"}})}),"Delete"]})]})]})})),Fo=function(e){var t=e.activity,n=e.index,s=ka().isAllowed,c=Object(r.useState)(!1),i=Object(je.a)(c,2),o=i[0],l=i[1];return Object(Be.jsx)(ro.c,{droppableId:"".concat(t.id),children:function(e,r){var c;return Object(Be.jsxs)("div",Object(j.a)(Object(j.a)({},e.droppableProps),{},{ref:e.innerRef,children:[Object(Be.jsx)(ro.b,{index:n,draggableId:null===(c=t.id)||void 0===c?void 0:c.toString(),isDragDisabled:!s([Po]),children:function(e,n){var r,s,c;return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsxs)(zn.a,Object(j.a)(Object(j.a)(Object(j.a)({button:!0,snapshot:n,onClick:function(){return l(!o)},ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(zi.a,{})}),Object(Be.jsx)(Kn.a,{primary:t.title}),Object(Be.jsx)(co.a,{label:"".concat(null===t||void 0===t||null===(r=t.services)||void 0===r?void 0:r.length," services"),variant:"outlined",sx:{mr:2}}),o?Object(Be.jsx)(lc.a,{sx:{mr:2}}):Object(Be.jsx)(rs.a,{sx:{mr:2}}),Object(Be.jsx)(br.a,{children:Object(Be.jsx)(Mo,{activity:t})})]}),t.id),Object(Be.jsx)(ea.a,{component:"li",in:!n.isDragging&&o,timeout:"auto",unmountOnExit:!0,children:Object(Be.jsxs)(Jn.a,{disablePadding:!0,children:[null===t||void 0===t||null===(s=t.services)||void 0===s?void 0:s.map((function(e){var t;return Object(Be.jsxs)(zn.a,{button:!0,sx:{pl:4},children:[Object(Be.jsx)(Kn.a,{primary:e.title}),Object(Be.jsx)(co.a,{label:"".concat(null===e||void 0===e||null===(t=e.tracks)||void 0===t?void 0:t.length," tracks"),variant:"outlined",sx:{mr:2}})]},e.id)})),0===(null===t||void 0===t||null===(c=t.services)||void 0===c?void 0:c.length)&&Object(Be.jsx)(zn.a,{sx:{pl:4},children:Object(Be.jsx)(Kn.a,{primary:"There is no services"})})]})})]})}}),e.placeholder]}))}})},zo=Object(i.b)((function(e){return{project:e.projects.project}}),null)((function(e){var t=e.project,n=e.modal,a=e.setModal,s=ka().isAllowed,c=fo(),i=c.request,o=c.createActivity,l=Object(r.useState)(""),u=Object(je.a)(l,2),d=u[0],j=u[1],b=function(){return a(!1)},p=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o(t.id,{title:d}).then((function(){b(),j("")})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(It.a,{open:n,onClose:b,fullWidth:!0,maxWidth:"sm",TransitionComponent:Ke,children:[Object(Be.jsx)(Pt.a,{children:"Create activity"}),Object(Be.jsxs)(At.a,{children:[Object(Be.jsx)(Mt.a,{children:"Create your own activity"}),Object(Be.jsx)(Ot.a,{value:d,onChange:function(e){return j(e.target.value)},autoFocus:!0,margin:"dense",label:"Title",placeholder:"Users frontend",fullWidth:!0,variant:"standard"})]}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:b,children:"Cancel"}),Object(Be.jsx)(Ps.a,{loading:i,onClick:p,disabled:!s([Io]),children:"Create"})]})]})})),_o=Object(i.b)((function(e){return{project:e.projects.project,activity:e.tracks.activity,changeActivityModal:e.tracks.changeActivityModal}}),{setActivity:lo,setChangeActivityModal:uo})((function(e){var t=e.project,n=e.activity,r=e.setActivity,a=e.changeActivityModal,s=e.setChangeActivityModal,c=ka().isAllowed,i=fo(),o=i.request,l=i.updateActivity,u=function(){return s(!1)},d=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(t.id,n.id,{title:n.title}).then((function(){return u()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(It.a,{open:a,onClose:u,fullWidth:!0,maxWidth:"sm",TransitionComponent:Ke,children:[Object(Be.jsx)(Pt.a,{children:"Change activity"}),Object(Be.jsx)(At.a,{children:Object(Be.jsx)(Ot.a,{value:n.title,onChange:function(e){return r(Object(j.a)(Object(j.a)({},n),{},{title:e.target.value}))},autoFocus:!0,margin:"dense",label:"Title",placeholder:"Users frontend",fullWidth:!0,variant:"standard"})}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:u,children:"Cancel"}),Object(Be.jsx)(Ps.a,{loading:o,onClick:d,disabled:!c([Po]),children:"Update"})]})]})})),Lo=Object(i.b)((function(e){return{activities:e.tracks.activities,project:e.projects.project}}),{moveActivity:function(e){return function(t,n){return t({type:fe,payload:e}),Promise.resolve(n())}}})((function(e){var t=e.activities,n=e.project,a=e.moveActivity,s=uc(),c=fo().moveActivities,i=Object(r.useState)(!1),o=Object(je.a)(i,2),l=o[0],u=o[1],d=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,s;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=2;break}return e.abrupt("return");case 2:r=t.source.index,s=t.destination.index,a({indexFrom:r,indexTo:s}).then(function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(n.id,t.tracks.activities.map((function(e,t){return{id:e.id,index:t}})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{className:s.contentContainer,children:[Object(Be.jsx)(Sc,{title:"Activities"}),Object(Be.jsx)(bt.a,{variant:"body1",className:"mt-3",children:'Here you can setup your tracks flow. By default Lama Time suggest, to split your tracks into "Backend" and "Frontend", but you can setup your own flow with your services.'}),Object(Be.jsx)(ro.a,{onDragEnd:d,children:Object(Be.jsx)(Jn.a,{children:t.map((function(e,t){return Object(Be.jsx)(Fo,{activity:e,index:t},e.id)}))})}),Object(Be.jsx)(Wc,{title:"New activity",action:function(){return u(!0)}}),Object(Be.jsx)(_o,{}),Object(Be.jsx)(zo,{modal:l,setModal:u})]})})),Ho=Object(i.b)((function(e){return{project:e.projects.project}}),null)((function(e){var t=e.project,n=uc(),a=ka().isAllowed,s=Et(),c=s.request,i=s.updateProject,o=Object(r.useState)(null===t||void 0===t?void 0:t.telegramChannel),l=Object(je.a)(o,2),u=l[0],d=l[1],j=Object(r.useState)(null===t||void 0===t?void 0:t.slackChannel),b=Object(je.a)(j,2),p=b[0],O=b[1];Object(r.useEffect)((function(){d(null===t||void 0===t?void 0:t.telegramChannel),O(null===t||void 0===t?void 0:t.slackChannel)}),[t]);var h=Object(r.useMemo)((function(){return u===(null===t||void 0===t?void 0:t.telegramChannel)&&p===(null===t||void 0===t?void 0:t.slackChannel)}),[u,p,null===t||void 0===t?void 0:t.telegramChannel,null===t||void 0===t?void 0:t.slackChannel]),m=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t.id,{telegramChannel:u,slackChannel:p});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{className:n.contentContainer,children:[Object(Be.jsx)(Sc,{title:"Notifications settings"}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Ot.a,{value:u,onChange:function(e){return d(e.target.value)},label:"Telegram channel or group",variant:"standard",placeholder:"e2e",className:"w-50",inputProps:{maxLength:255},InputProps:{startAdornment:Object(Be.jsx)(ht.a,{position:"start",children:Object(Be.jsx)(qn.a,{style:{width:22,height:22},src:f+"static/images/integrations/telegram.png"})})}})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Ot.a,{value:p,onChange:function(e){return O(e.target.value)},label:"Slack channel",variant:"standard",placeholder:"e2e",className:"w-50",inputProps:{maxLength:255},helperText:"Short name for your project. For example if project name is Lama Logger, then short name will be LL",InputProps:{startAdornment:Object(Be.jsx)(ht.a,{position:"start",children:Object(Be.jsx)(qn.a,{style:{width:22,height:22},src:f+"static/images/integrations/slack.png"})})}})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(bn.a,{className:"position-relative",children:Object(Be.jsx)(Ps.a,{onClick:m,loading:c,loadingPosition:"start",startIcon:Object(Be.jsx)(Is.a,{}),disabled:h||!a([Rc]),variant:"text",children:"Save changes"})})})]})})),Wo=function(){var e=tn(),t=Object(r.useState)("web"),n=Object(je.a)(t,2),a=n[0],s=n[1];return Object(Be.jsxs)(Nr.a,{elevation:3,className:Object(gr.a)("mt-3 d-flex",e.toolbarContainer),children:[Object(Be.jsxs)(Hr.a,{color:"primary",value:a,exclusive:!0,onChange:function(e,t){return s(t)},children:[Object(Be.jsx)(Wr.a,{value:"web",children:"Web"}),Object(Be.jsx)(Wr.a,{value:"android",children:"Android"}),Object(Be.jsx)(Wr.a,{value:"ios",children:"iOS"})]}),Object(Be.jsx)("div",{className:"flex-grow-1"})]})},Do=Object(i.b)((function(e){return{project:e.projects.project,track:e.tracks.track}}),{setTrack:jo})((function(e){e.project,e.track,e.setTrack,yo().load;return Object(Be.jsx)(dt.a,{maxWidth:"xl",children:Object(Be.jsx)(Wo,{})})})),Uo=a.a.createContext(null),Bo=function(e){var t=e.children,n=ut().token,a=it().setAlert,s="api/v1/projects/",c=Object(r.useState)(!1),o=Object(je.a)(c,2),l=o[0],u=o[1],j=Object(r.useState)(!1),b=Object(je.a)(j,2),p=(b[0],b[1]),O=Object(r.useState)([]),h=Object(je.a)(O,2),f=h[0],m=h[1],v=Object(i.c)((function(e){return e.projects.project}));Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(v.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}),[n,v]);var x=function(){var e=Object(He.a)(Le.a.mark((function e(t){var n,r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Ct(s+"".concat(t,"/tasks/"));case 3:n=e.sent,r=n.json,m(r),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){var r,c,i;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,St(s+"".concat(t,"/tasks/"),n);case 3:r=e.sent,c=r.json,!(i=r.error)&&m([].concat(Object(d.a)(f),[c])),a(i?c:{message:"Task successfully created",level:"success"}),p(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(He.a)(Le.a.mark((function e(t,n,r){var c,i,o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,qt(s+"".concat(t,"/tasks/").concat(n,"/"),r);case 3:c=e.sent,i=c.json,!(o=c.error)&&m(f.map((function(e){return e.id===n?i:e}))),a(o?i:{message:"Task successfully updated",level:"success"}),p(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){var r,c,i;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,Rt(s+"".concat(t,"/tasks/").concat(n,"/"));case 3:r=e.sent,c=r.json,!(i=r.error)&&m(f.filter((function(e){return e.id!==n}))),a(i?c:{message:"Task successfully deleted",level:"success"}),p(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Be.jsx)(Uo.Provider,{value:{load:l,tasks:f,getTasks:x,createTask:g,updateTask:y,deleteTask:w},children:t})},Jo=function(){var e=Object(r.useContext)(Uo);if(null==e)throw new Error("useProjectTasks() called outside of a ProjectTasksProvider?");return e},Yo=Object(i.b)((function(e){return{project:e.projects.project,periodicTask:e.requestsSettings.periodicTask,createTaskModal:e.requestsSettings.createTaskModal}}),{setPeriodicTask:Vc,setCreateTaskModal:Yc})((function(e){var t=e.project,n=e.periodicTask,r=e.setPeriodicTask,a=e.createTaskModal,s=e.setCreateTaskModal,c=ka().isAllowed,i=Jo(),o=i.request,l=i.createTask,u=i.updateTask,d=function(){s(!1),r(ae.periodicTask)},b=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(n.editMode?u(t.id,n.taskId,{task:n}):l(t.id,{task:n})).then((function(){return d()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(It.a,{open:a,onClose:d,fullWidth:!0,maxWidth:"sm",TransitionComponent:Ke,children:[Object(Be.jsxs)(Pt.a,{children:[n.editMode?"Update":"Create"," periodic task"]}),Object(Be.jsxs)(At.a,{children:[!n.editMode&&Object(Be.jsx)(Mt.a,{children:"Create your own periodic task"}),Object(Be.jsx)(Ot.a,{value:n.name,onChange:function(e){return r(Object(j.a)(Object(j.a)({},n),{},{name:e.target.value}))},autoFocus:!0,label:"Name",placeholder:"Clear requests every 5 hours",fullWidth:!0,variant:"standard",helperText:"Provide short description for your task",className:"mt-3"}),Object(Be.jsx)(Ot.a,{multiline:!0,value:n.description,onChange:function(e){return r(Object(j.a)(Object(j.a)({},n),{},{description:e.target.value}))},label:"Description",placeholder:"Needed to clear outdated requests every 5 hours",fullWidth:!0,variant:"standard",helperText:"Provide detailed description about the details of this task",className:"mt-3"}),Object(Be.jsxs)(cs.a,{fullWidth:!0,variant:"standard",size:"small",className:"mt-3",children:[Object(Be.jsx)(is.a,{children:"Select task"}),Object(Be.jsx)(os.a,{value:n.task,onChange:function(e){return r(Object(j.a)(Object(j.a)({},n),{},{task:e.target.value}))},children:q.map((function(e,t){return Object(Be.jsx)(Tn.a,{value:e.task,children:e.label},t)}))})]}),Object(Be.jsx)(bt.a,{className:"mt-3",children:"Interval setup"}),Object(Be.jsxs)("div",{className:"w-100 d-flex mt-1",children:[Object(Be.jsx)(Ot.a,{value:n.interval.every,onChange:function(e){return r(Object(j.a)(Object(j.a)({},n),{},{interval:Object(j.a)(Object(j.a)({},n.interval),{},{every:parseInt(e.target.value)})}))},type:"number",fullWidth:!0,variant:"standard",label:"Amount"}),Object(Be.jsxs)(cs.a,{variant:"standard",sx:{marginLeft:3,minWidth:120},children:[Object(Be.jsx)(is.a,{id:"demo-simple-select-standard-label",children:"Period"}),Object(Be.jsx)(os.a,{value:n.interval.period,onChange:function(e){return r(Object(j.a)(Object(j.a)({},n),{},{interval:Object(j.a)(Object(j.a)({},n.interval),{},{period:e.target.value})}))},children:x.filter((function(e){return!["seconds","minutes"].includes(e.unit)})).map((function(e){return Object(Be.jsx)(Tn.a,{value:e.unit,children:e.label},e.unit)}))})]})]})]}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:d,children:"Cancel"}),Object(Be.jsx)(Ps.a,{loading:o,onClick:b,disabled:0===n.name.length||0===n.task.length||!n.interval.every||!c([zc,_c]),children:n.editMode?"Update":"Create"})]})]})})),Go=n(738),Vo=Object(i.b)((function(e){return{project:e.projects.project}}),{setPeriodicTask:Vc,setConfirmAction:zt,setCreateTaskModal:Yc})((function(e){var t=e.project,n=e.task,s=e.setConfirmAction,c=e.setCreateTaskModal,i=e.setPeriodicTask,o=ka().isAllowed,l=Jo().deleteTask,u=Object(r.useState)(null),d=Object(je.a)(u,2),b=d[0],p=d[1],O=function(){return p(null)};return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(bn.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:Object(Be.jsx)(In.a,{title:"Task options",children:Object(Be.jsx)(nt.a,{onClick:function(e){return p(e.currentTarget)},children:Object(Be.jsx)(Ts.a,{})})})}),Object(Be.jsxs)(Rn.a,{anchorEl:b,open:Boolean(b),onClose:O,onClick:O,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(Be.jsxs)(Tn.a,{onClick:function(){i(Object(j.a)(Object(j.a)({},n.task),{},{editMode:!0,taskId:n.id})),c(!0)},disabled:!o([Tc]),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(ri.a,{fontSize:"small"})}),"Edit"]}),Object(Be.jsxs)(Tn.a,{sx:{color:"red"},onClick:function(){s({modal:!0,title:"Delete task",description:"Are you sure you want to delete task? You will be unable to under this action",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.id,n.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),confirmButton:"Delete"})},disabled:!o([Nc]),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Xa.a,{fontSize:"small",sx:{color:"red"}})}),"Delete"]})]})]})})),Qo=Object(i.b)((function(e){return{project:e.projects.project}}),null)((function(e){var t,n,r,a,s,c,i,o=e.task,l=e.project,u=ka().isAllowed,d=Jo().updateTask,j=function(){var e=Object(He.a)(Le.a.mark((function e(){var t,n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(l.id,o.id,{task:{id:null===o||void 0===o||null===(t=o.task)||void 0===t?void 0:t.id,enabled:!(null===o||void 0===o||null===(n=o.task)||void 0===n?void 0:n.enabled)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(zn.a,{disableGutters:!0,divider:!0,children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(In.a,{title:(null===o||void 0===o||null===(t=o.task)||void 0===t?void 0:t.enabled)?"Disable task":"Enable task",placement:"left",children:Object(Be.jsx)(Zr.a,{checked:null===o||void 0===o||null===(n=o.task)||void 0===n?void 0:n.enabled,onClick:j,disabled:!u([Tc])})})}),Object(Be.jsx)(Kn.a,{primary:null===o||void 0===o||null===(r=o.task)||void 0===r?void 0:r.name,secondary:"Every ".concat(null===o||void 0===o||null===(a=o.task)||void 0===a||null===(s=a.interval)||void 0===s?void 0:s.every," ").concat(null===o||void 0===o||null===(c=o.task)||void 0===c||null===(i=c.interval)||void 0===i?void 0:i.period)}),Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Go.a,{})}),Object(Be.jsx)(br.a,{children:Object(Be.jsx)(Vo,{task:o})})]},o.id)})),Ko=function(){var e=Object(i.c)((function(e){return e.users.userSettings})).skeletonAnimation,t=Object(r.useMemo)((function(){return Math.floor(window.innerHeight/70)}),[]);return Object(Be.jsx)("div",{style:{width:"100%"},children:new Array(t).fill().map((function(t,n){return Object(Be.jsx)(Ds.a,{animation:e,width:"100%",height:50},n)}))})},Xo=function(e){var t=e.setCreateTaskModal,n=uc(),r=Jo(),a=r.load,s=r.tasks;return Object(Be.jsxs)("div",{className:n.contentContainer,children:[Object(Be.jsx)(Sc,{title:"Setup periodic tasks"}),Object(Be.jsx)(bt.a,{variant:"body1",className:"mt-3",children:"Here you can setup periodic task"}),a?Object(Be.jsx)(Ko,{}):Object(Be.jsx)(Jn.a,{dense:!0,children:s.map((function(e){return Object(Be.jsx)(Qo,{task:e},e.id)}))}),Object(Be.jsx)(Wc,{title:"New task",action:function(){return t(!0)}}),Object(Be.jsx)(Yo,{})]})},$o=Object(i.b)(null,{setCreateTaskModal:Yc})(Object(r.memo)(Xo)),Zo=Object(i.b)(null,{setConfirmAction:zt})((function(e){var t=e.index,n=e.pattern,r=e.onChange,a=e.onRemove,s=e.setConfirmAction,c=ka().isAllowed;return Object(Be.jsxs)(pt.a,{container:!0,xs:12,spacing:2,children:[Object(Be.jsx)(pt.a,{item:!0,xs:6,children:Object(Be.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-2",children:Object(Be.jsx)(Ot.a,{value:null===n||void 0===n?void 0:n.pattern,onChange:function(){var e=Object(He.a)(Le.a.mark((function e(n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("pattern",t,n.target.value);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fullWidth:!0,variant:"standard",size:"small",placeholder:"{my_pattern}",label:"Pattern",className:"me-1"})})}),Object(Be.jsx)(pt.a,{item:!0,xs:6,children:Object(Be.jsxs)("div",{className:"d-flex justify-content-center align-items-center mt-2",children:[Object(Be.jsx)(Ot.a,{value:null===n||void 0===n?void 0:n.regex,onChange:function(){var e=Object(He.a)(Le.a.mark((function e(n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("regex",t,n.target.value);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fullWidth:!0,variant:"standard",size:"small",placeholder:"^\\d$",label:"Regex expression",className:"me-2"}),Object(Be.jsx)(nt.a,{size:"small",sx:{mt:2},onClick:function(){s({modal:!0,title:"Delete pattern?",description:"Are you sure you want to delete the pattern? You will not be able to restore it later",confirmButton:"Delete",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})},disabled:!c([Rc]),children:Object(Be.jsx)(at.a,{fontSize:"small"})})]})})]})})),el=Object(i.b)((function(e){return{project:e.projects.project}}),null)((function(e){var t=e.project,n=e.modal,a=e.setModal,s=e.trackPatterns,c=mi(),i=c.request,o=c.updateProjectSettings,l=Object(r.useState)(""),u=Object(je.a)(l,2),j=u[0],b=u[1],p=Object(r.useState)(""),O=Object(je.a)(p,2),h=O[0],f=O[1],m=function(){return a(!1)},v=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o(t.id,{trackPatterns:[].concat(Object(d.a)(s),[{pattern:j,regex:h}])}).then((function(){m(),b(""),f("")})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(It.a,{open:n,onClose:m,fullWidth:!0,maxWidth:"sm",TransitionComponent:Ke,children:[Object(Be.jsx)(Pt.a,{children:"Create pattern"}),Object(Be.jsxs)(At.a,{children:[Object(Be.jsx)(Mt.a,{children:"Create your own pattern. Then you will be able to use it on track endpoints"}),Object(Be.jsx)(Ot.a,{value:j,onChange:function(e){return b(e.target.value)},autoFocus:!0,margin:"dense",label:"Pattern",placeholder:"{my_pattern}",fullWidth:!0,variant:"standard"}),Object(Be.jsx)(Ot.a,{value:h,onChange:function(e){return f(e.target.value)},autoFocus:!0,margin:"dense",label:"Regex expression",placeholder:"^\\d$",fullWidth:!0,variant:"standard"})]}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:m,children:"Cancel"}),Object(Be.jsx)(Ps.a,{loading:i,onClick:v,disabled:0===j.length||0===h.length,children:"Create"})]})]})})),tl=Object(i.b)((function(e){return{project:e.projects.project,projectSettings:e.projects.projectSettings}}),null)((function(e){var t=e.projectSettings,n=e.project,a=uc(),s=ka().isAllowed,c=mi(),i=c.request,o=c.updateProjectSettings,l=Object(r.useState)(null===t||void 0===t?void 0:t.trackPatterns),u=Object(je.a)(l,2),b=u[0],p=u[1],O=Object(r.useState)(!1),h=Object(je.a)(O,2),f=h[0],m=h[1],v=Object(r.useMemo)((function(){return b===(null===t||void 0===t?void 0:t.trackPatterns)}),[b]);Object(r.useEffect)((function(){return p(null===t||void 0===t?void 0:t.trackPatterns)}),[null===t||void 0===t?void 0:t.trackPatterns]);var x=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Object(d.a)(b)).splice(t,1),p(r),e.next=5,o(n.id,{trackPatterns:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(He.a)(Le.a.mark((function e(){var t,n,r,a=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"pattern",n=a.length>1?a[1]:void 0,r=a.length>2?a[2]:void 0,e.abrupt("return",p(b.map((function(e,a){return a===n?Object(j.a)(Object(j.a)({},e),{},Object(_t.a)({},t,r)):e}))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(n.id,{trackPatterns:b});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{className:a.contentContainer,children:[Object(Be.jsx)(Sc,{title:"Tracks patterns"}),Object(Be.jsx)(bt.a,{variant:"body1",className:"mt-3",children:"Here you can setup any patterns to match tracks endpoints."}),Object(Be.jsxs)(pt.a,{container:!0,xs:12,className:"mt-3",spacing:2,children:[Object(Be.jsx)(pt.a,{item:!0,xs:6,children:Object(Be.jsx)(bt.a,{children:"Pattern"})}),Object(Be.jsx)(pt.a,{item:!0,xs:6,children:Object(Be.jsx)(bt.a,{children:"Regex expression"})})]}),null===b||void 0===b?void 0:b.map((function(e,t){return Object(Be.jsx)(Zo,{index:t,pattern:e,onChange:g,onRemove:x},t)})),Object(Be.jsx)(Wc,{title:"New pattern",action:function(){return m(!0)}}),Object(Be.jsx)(el,{modal:f,setModal:m,trackPatterns:b}),(null===b||void 0===b?void 0:b.length)>0&&Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(bn.a,{className:"position-relative",children:Object(Be.jsx)(Ps.a,{loadingPosition:"start",startIcon:Object(Be.jsx)(Is.a,{}),disabled:v||!s([Rc]),variant:"text",onClick:y,loading:i,children:"Save changes"})})})]})})),nl=n(739),rl=Object(i.b)(null,{setConfirmAction:zt})((function(e){var t=e.domain,n=e.index,r=e.onChange,a=e.onRemove,s=e.setConfirmAction,c=ka().isAllowed;return Object(Be.jsxs)(pt.a,{container:!0,xs:12,spacing:2,children:[Object(Be.jsx)(pt.a,{item:!0,xs:4,children:Object(Be.jsxs)("div",{className:"d-flex justify-content-center align-items-end mt-2",children:[Object(Be.jsx)(nl.a,{sx:{color:"action.active",mr:2,my:.5}}),Object(Be.jsx)(Ot.a,{value:null===t||void 0===t?void 0:t.name,onChange:function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("name",n,t.target.value);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fullWidth:!0,variant:"standard",size:"small",placeholder:"{my_pattern}",label:"Pattern",className:"me-1"})]})}),Object(Be.jsx)(pt.a,{item:!0,xs:8,children:Object(Be.jsxs)("div",{className:"d-flex justify-content-center align-items-center mt-2",children:[Object(Be.jsx)(Ot.a,{value:null===t||void 0===t?void 0:t.domain,onChange:function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("domain",n,t.target.value);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fullWidth:!0,variant:"standard",size:"small",placeholder:"^\\d$",label:"Regex expression",className:"me-2"}),Object(Be.jsx)(nt.a,{size:"small",sx:{mt:2},onClick:function(){s({modal:!0,title:"Delete domain?",description:"Are you sure you want to delete the domain? You will not be able to restore it later",confirmButton:"Delete",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})},disabled:!c([Rc]),children:Object(Be.jsx)(at.a,{fontSize:"small"})})]})})]})})),al=Object(i.b)((function(e){return{project:e.projects.project}}),null)((function(e){var t=e.project,n=e.modal,a=e.setModal,s=e.trackDomains,c=ka().isAllowed,i=mi(),o=i.request,l=i.updateProjectSettings,u=Object(r.useState)(""),j=Object(je.a)(u,2),b=j[0],p=j[1],O=Object(r.useState)(""),h=Object(je.a)(O,2),f=h[0],m=h[1],v=function(){return a(!1)},x=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(t.id,{trackDomains:[].concat(Object(d.a)(s),[{name:b,domain:f}])}).then((function(){v(),m(""),p("")})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(It.a,{open:n,onClose:v,fullWidth:!0,maxWidth:"sm",TransitionComponent:Ke,children:[Object(Be.jsx)(Pt.a,{children:"Create domain"}),Object(Be.jsxs)(At.a,{children:[Object(Be.jsx)(Mt.a,{children:"Create your own domain. Then you will be able to use it on track endpoints"}),Object(Be.jsx)(Ot.a,{value:b,onChange:function(e){return p(e.target.value)},autoFocus:!0,margin:"dense",label:"Name",placeholder:"Staging/Prod/Dev",fullWidth:!0,variant:"standard",inputProps:{maxLength:100}}),Object(Be.jsx)(Ot.a,{value:f,onChange:function(e){return m(e.target.value)},autoFocus:!0,margin:"dense",label:"Domain",placeholder:"https://staging.domain.com",fullWidth:!0,variant:"standard",inputProps:{maxLength:255}})]}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:v,children:"Cancel"}),Object(Be.jsx)(Ps.a,{loading:o,onClick:x,disabled:0===b.length||!ps(f)||!c([Rc]),children:"Create"})]})]})})),sl=Object(i.b)((function(e){return{project:e.projects.project,projectSettings:e.projects.projectSettings}}),null)((function(e){var t=e.project,n=e.projectSettings,a=uc(),s=ka().isAllowed,c=mi(),i=c.request,o=c.updateProjectSettings,l=Object(r.useState)(null===n||void 0===n?void 0:n.trackDomains),u=Object(je.a)(l,2),b=u[0],p=u[1],O=Object(r.useState)(!1),h=Object(je.a)(O,2),f=h[0],m=h[1],v=Object(r.useMemo)((function(){return b===(null===n||void 0===n?void 0:n.trackDomains)}),[b]);Object(r.useEffect)((function(){return p(null===n||void 0===n?void 0:n.trackDomains)}),[null===n||void 0===n?void 0:n.trackDomains]);var x=function(){var e=Object(He.a)(Le.a.mark((function e(n){var r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Object(d.a)(b)).splice(n,1),p(r),e.next=5,o(t.id,{trackDomains:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(He.a)(Le.a.mark((function e(){var t,n,r,a=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"pattern",n=a.length>1?a[1]:void 0,r=a.length>2?a[2]:void 0,e.abrupt("return",p(b.map((function(e,a){return a===n?Object(j.a)(Object(j.a)({},e),{},Object(_t.a)({},t,r)):e}))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t.id,{trackDomains:b});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{className:a.contentContainer,children:[Object(Be.jsx)(Sc,{title:"Tracks domains"}),Object(Be.jsx)(bt.a,{variant:"body1",className:"mt-3",children:"Here you can setup any domains to use them as template in tracks"}),Object(Be.jsx)(Jn.a,{dense:!0,children:null===b||void 0===b?void 0:b.map((function(e,t){return Object(Be.jsx)(rl,{domain:e,index:t,onChange:g,onRemove:x},t)}))}),(null===b||void 0===b?void 0:b.length)>0&&Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(bn.a,{className:"position-relative",children:Object(Be.jsx)(Ps.a,{loadingPosition:"start",startIcon:Object(Be.jsx)(Is.a,{}),disabled:v||!s([Rc]),variant:"text",onClick:y,loading:i,children:"Save changes"})})}),Object(Be.jsx)(Wc,{title:"New domain",action:function(){return m(!0)}}),Object(Be.jsx)(al,{modal:f,setModal:m,trackDomains:b})]})})),cl=function(e){var t=e.store;return Object(Be.jsx)(vr,{store:t,children:Object(Be.jsx)(ho,{store:t,children:Object(Be.jsx)(fi,{store:t,children:Object(Be.jsx)(ba,{store:t,children:Object(Be.jsx)(wa,{children:Object(Be.jsxs)(l.d,{children:[Object(Be.jsx)(fr,{exact:!0,path:"/projects/:projectId/requests",component:Ys}),Object(Be.jsx)(fr,{exact:!0,path:"/projects/:projectId/custom-requests",component:no}),Object(Be.jsx)(fr,{exact:!0,path:"/projects/:projectId/tracks",component:function(e){return Object(Be.jsx)(go,{store:t,children:Object(Be.jsx)(Co,Object(j.a)({},e))})}}),Object(Be.jsx)(fr,{exact:!0,path:"/projects/:projectId/tracks/:trackId",component:function(e){return Object(Be.jsx)(go,{store:t,children:Object(Be.jsx)(Do,Object(j.a)({},e))})}}),Object(Be.jsx)(fr,{exact:!0,path:"/projects/:projectId/stats",component:function(e){return Object(Be.jsx)(Vs,{children:Object(Be.jsx)(ic,Object(j.a)({},e))})}}),Object(Be.jsx)(pc,{exact:!0,path:"/projects/:projectId/settings/general",component:Lc}),Object(Be.jsx)(pc,{exact:!0,path:"/projects/:projectId/settings/members",component:ni}),Object(Be.jsx)(pc,{exact:!0,path:"/projects/:projectId/settings/roles",component:Oi}),Object(Be.jsx)(pc,{exact:!0,path:"/projects/:projectId/settings/inbound",component:vi}),Object(Be.jsx)(pc,{exact:!0,path:"/projects/:projectId/settings/integrations",component:qo}),Object(Be.jsx)(pc,{exact:!0,path:"/projects/:projectId/settings/filters",component:No}),Object(Be.jsx)(pc,{exact:!0,path:"/projects/:projectId/settings/realtime",component:Eo}),Object(Be.jsx)(pc,{exact:!0,path:"/projects/:projectId/settings/activities",component:Lo}),Object(Be.jsx)(pc,{exact:!0,path:"/projects/:projectId/settings/patterns",component:tl}),Object(Be.jsx)(pc,{exact:!0,path:"/projects/:projectId/settings/domains",component:sl}),Object(Be.jsx)(pc,{exact:!0,path:"/projects/:projectId/settings/notifications",component:Ho}),Object(Be.jsx)(pc,{exact:!0,path:"/projects/:projectId/settings/tasks",component:function(e){return Object(Be.jsx)(Bo,{children:Object(Be.jsx)($o,Object(j.a)({},e))})}})]})})})})})})},il=function(e){var t=e.modal,n=e.setModal,a=Et(),s=a.request,c=a.createProject,i=Object(r.useState)(""),o=Object(je.a)(i,2),l=o[0],u=o[1],d=Object(r.useState)(""),j=Object(je.a)(d,2),b=j[0],p=j[1],O=Object(r.useState)(""),h=Object(je.a)(O,2),f=h[0],m=h[1],v=function(){return n(!1)},x=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c({title:l,short:f,description:b}).then((function(){v(),u(""),p(""),m("")})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(It.a,{open:t,onClose:v,children:[Object(Be.jsx)(Pt.a,{children:"Create project"}),Object(Be.jsxs)(At.a,{children:[Object(Be.jsx)(Mt.a,{children:"You can create project and connect sdk to log your requests/responses"}),Object(Be.jsx)(Ot.a,{value:l,onChange:function(e){return u(e.target.value)},autoFocus:!0,margin:"dense",label:"Project title",placeholder:"Lama Logger",fullWidth:!0,variant:"standard",inputProps:{maxLength:255}}),Object(Be.jsx)(Ot.a,{value:f,onChange:function(e){return m(e.target.value)},autoFocus:!0,margin:"dense",label:"Short name",placeholder:"LL",fullWidth:!0,inputProps:{maxLength:2},variant:"standard",className:"mt-3",helperText:"Short name for your project. For example if project name is Lama Logger, then short name will be LL"}),Object(Be.jsx)(Ot.a,{multiline:!0,value:b,onChange:function(e){return p(e.target.value)},autoFocus:!0,margin:"dense",label:"Description",placeholder:"Some description to your project",fullWidth:!0,variant:"standard",className:"mt-3"})]}),Object(Be.jsxs)(Ft.a,{children:[Object(Be.jsx)(ft.a,{onClick:v,children:"Cancel"}),Object(Be.jsx)(Ps.a,{loading:s,disabled:0===l.length||0===f.length,onClick:x,children:"Create"})]})]})},ol=function(e){var t=e.title,n=e.search,r=e.setSearch,a=e.placeholder,s=void 0===a?"":a,c=tn();return Object(Be.jsxs)(Nr.a,{elevation:3,className:Object(gr.a)("mt-3 d-flex align-items-center",c.toolbarContainer),children:[Object(Be.jsx)(bt.a,{variant:"h6",sx:{ml:2},children:t}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(Cc,{search:n,setSearch:r,placeholder:s})]})},ll=n(809),ul=Object(i.b)(null,{setProject:pr})((function(e){var t=e.project,n=e.setProject,r=Object(l.g)(),a=function(){var e=Object(jn.a)().palette;return{projectChartOptions:{animation:!1,scales:{y:{stacked:!0,ticks:{beginAtZero:!0,color:e.text.primary}},x:{stacked:!0,ticks:{color:e.text.primary,maxRotation:0,minRotation:0,autoSkipPadding:10}}},plugins:{legend:{display:!1,labels:{color:e.text.primary,usePointStyle:!0,boxWidth:7}},tooltip:{callbacks:{title:function(e){var t;return null===(t=e[0])||void 0===t?void 0:t.label}}}}}}}().projectChartOptions;return Object(Be.jsx)(pt.a,{item:!0,xs:12,sm:6,md:3,children:Object(Be.jsxs)(ao.a,{children:[Object(Be.jsx)(ll.a,{title:Object(Be.jsx)(bt.a,{variant:"subtitle2",children:t.title}),subheader:"requests: ".concat(t.requestsCount," | members: ").concat(t.membersCount)}),Object(Be.jsx)(so.a,{children:Object(Be.jsx)(tc.a,{data:null===t||void 0===t?void 0:t.stats,options:a})}),Object(Be.jsxs)(io.a,{className:"d-flex",children:[Object(Be.jsx)(ft.a,{onClick:function(){n(t),r.push("/projects/".concat(t.id,"/requests"))},size:"small",children:"Open"}),Object(Be.jsx)(ft.a,{onClick:function(){n(t),r.push("/projects/".concat(t.id,"/settings/general"))},size:"small",children:"Settings"}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsxs)(bt.a,{variant:"caption",style:Jt.ellipsisText,children:["Updated ",Ze.a.utc(t.lastUpdated).local().startOf("seconds").fromNow()]})]})]})})})),dl=function(){var e=Object(i.c)((function(e){return e.users.userSettings})).skeletonAnimation;return Object(Be.jsx)(a.a.Fragment,{children:new Array(8).fill().map((function(t,n){return Object(Be.jsx)(pt.a,{item:!0,xs:12,sm:6,md:3,children:Object(Be.jsxs)(ao.a,{children:[Object(Be.jsx)(ll.a,{title:Object(Be.jsx)(Ds.a,{animation:e,height:12,width:"100%",style:{marginBottom:6}}),subheader:Object(Be.jsx)(Ds.a,{animation:e,height:12,width:"100%",style:{marginBottom:6}})}),Object(Be.jsx)(so.a,{children:Object(Be.jsx)(Ds.a,{height:120})}),Object(Be.jsx)(io.a,{children:Object(Be.jsx)(Ds.a,{width:"100%",height:40})})]})},n)}))})},jl=Object(i.b)((function(e){return{projects:e.projects.projects}}),null)((function(e){var t=e.projects,n=Et().load,a=Object(r.useState)(""),s=Object(je.a)(a,2),c=s[0],i=s[1],o=Object(r.useState)(!1),l=Object(je.a)(o,2),u=l[0],d=l[1];return Object(Be.jsxs)(dt.a,{maxWidth:"xl",children:[Object(Be.jsx)(ol,{search:c,setSearch:i,placeholder:"Search by project name",title:"Projects"}),Object(Be.jsx)("div",{className:"d-flex mt-3 mb-3",children:Object(Be.jsx)(pt.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start",children:n?Object(Be.jsx)(dl,{}):t.map((function(e){return Object(Be.jsx)(ul,{project:e},e.id)}))})}),Object(Be.jsxs)(Hc.a,{variant:"extended",color:"primary",style:Jt.fab,onClick:function(){return d(!0)},children:[Object(Be.jsx)(ks.a,{sx:{mr:1}}),"CREATE"]}),Object(Be.jsx)(il,{modal:u,setModal:d})]})})),bl=n(740),pl=n(741),Ol=Object(i.b)(null,{setRequest:ar})((function(e){var t=e.open,n=e.onClose,r=e.setRequest,a=Object(l.g)(),s=Object(jn.a)(),c=Object(l.h)();return Object(Be.jsxs)(Xt,{variant:"permanent",open:t,children:[Object(Be.jsx)(Qt,{children:Object(Be.jsx)(nt.a,{onClick:n,children:"rtl"===s.direction?Object(Be.jsx)(Dn.a,{}):Object(Be.jsx)(Bn.a,{})})}),Object(Be.jsx)(En.a,{}),Object(Be.jsxs)(Jn.a,{children:[Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){a.push("/projects"),r({})},selected:"/projects"===c.pathname,children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(Gn.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Projects"})]}),Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){return a.push("/user/profile")},selected:c.pathname.startsWith("/user"),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(_n.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Profile"})]}),Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){return a.push("/integrations")},selected:c.pathname.startsWith("/integrations"),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(bl.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Integrations"})]}),Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){return a.push("/settings/theme")},selected:c.pathname.startsWith("/settings"),children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(nr.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Settings"})]}),Object(Be.jsxs)(zn.a,{button:!0,children:[Object(Be.jsx)(Nn.a,{children:Object(Be.jsx)(pl.a,{})}),Object(Be.jsx)(Kn.a,{primary:"Logout"})]})]})]})})),hl=function(e){var t=e.component,n=Object(yt.a)(e,["component"]),r=localStorage.getItem("token");return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(Hn,{drawer:Ol}),Object(Be.jsx)(l.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return r?Object(Be.jsx)(t,Object(j.a)({},e)):Object(Be.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))]})},fl=function(){return Object(Be.jsx)(l.d,{children:Object(Be.jsx)(hl,{exact:!0,path:"/projects",component:jl})})},ml=a.a.createContext(null),vl=function(e){var t=e.children,n=e.store,a="api/v1/user/settings/",s=ut().token,c=it().setAlert,i=Object(r.useState)(!1),o=Object(je.a)(i,2),l=(o[0],o[1]);Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=s,!e.t0){e.next=5;break}return e.next=4,u();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))()}),[s]);var u=function(){var e=Object(He.a)(Le.a.mark((function e(){var t,r,s;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct(a);case 2:t=e.sent,r=t.json,s=t.error,n.dispatch({type:Z,payload:r}),s&&c({message:"Unable to fetch user settings",level:"error"});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,s,i;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,qt(a,t);case 3:r=e.sent,s=r.json,!(i=r.error)&&n.dispatch({type:Z,payload:s}),c(i?s:{message:"User settings were successfully updated",level:"success"}),l(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsx)(ml.Provider,{value:{updateUserSettings:d},children:t})},xl=function(){var e=Object(r.useContext)(ml);if(null==e)throw new Error("useUserSettings() called outside of a UserSettingsProvider?");return e},gl=function(){var e,t,n,a,s=Object(l.g)(),c=ut().onLogin,i=Object(r.useState)(!1),u=Object(je.a)(i,2),d=u[0],j=u[1],b=Object(r.useState)(""),p=Object(je.a)(b,2),O=p[0],h=p[1],m=Object(r.useState)(""),v=Object(je.a)(m,2),x=v[0],g=v[1],y=Object(r.useState)(""),w=Object(je.a)(y,2),k=w[0],C=w[1],S=Object(r.useState)(""),q=Object(je.a)(S,2),R=q[0],T=q[1],N=Object(r.useState)("password"),E=Object(je.a)(N,2),I=E[0],P=E[1],A=Object(r.useState)("password"),M=Object(je.a)(A,2),F=M[0],z=M[1],_=Object(r.useState)({}),L=Object(je.a)(_,2),H=L[0],W=L[1],D=function(){var e=Object(He.a)(Le.a.mark((function e(){var t,n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,fetch(f+"api/v1/registration/",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({username:x,email:O,password:k,password2:R})});case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,!t.ok){e.next=13;break}return e.next=10,c(n.token);case 10:s.push("/projects"),e.next=14;break;case 13:W(n);case 14:j(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(dt.a,{maxWidth:"sm",children:[Object(Be.jsx)(jt.a,{}),Object(Be.jsx)("div",{className:"text-center",style:{marginTop:"10%"},children:Object(Be.jsx)(bt.a,{variant:"h5",children:"Lama Logger"})}),Object(Be.jsxs)(pt.a,{container:!0,spacing:2,children:[Object(Be.jsx)(pt.a,{item:!0,xs:2}),Object(Be.jsxs)(pt.a,{item:!0,xs:8,children:[Object(Be.jsx)(Ot.a,{type:"email",value:O,onChange:function(e){return h(e.target.value)},fullWidth:!0,label:"E-mail",placeholder:"some@company.com",variant:"standard",size:"small",className:"mt-3",error:null===H||void 0===H?void 0:H.email,helperText:null===H||void 0===H||null===(e=H.email)||void 0===e?void 0:e.join("\n")}),Object(Be.jsx)(Ot.a,{type:"text",value:x,onChange:function(e){return g(e.target.value)},fullWidth:!0,label:"Username",placeholder:"Family.Name",variant:"standard",size:"small",className:"mt-3",error:null===H||void 0===H?void 0:H.username,helperText:null===H||void 0===H||null===(t=H.username)||void 0===t?void 0:t.join("\n")}),Object(Be.jsx)(Ot.a,{type:I,value:k,onChange:function(e){return C(e.target.value)},fullWidth:!0,label:"Password",placeholder:"Enter your password",variant:"standard",size:"small",className:"mt-3",error:null===H||void 0===H?void 0:H.password,helperText:null===H||void 0===H||null===(n=H.password)||void 0===n?void 0:n.join("\n"),InputProps:{endAdornment:Object(Be.jsx)(ht.a,{position:"end",children:Object(Be.jsx)(nt.a,{size:"small",onClick:function(){return P("password"===I?"text":"password")},children:"password"===I?Object(Be.jsx)(mt.a,{}):Object(Be.jsx)(vt.a,{})})})}}),Object(Be.jsx)(Ot.a,{type:F,value:R,onChange:function(e){return T(e.target.value)},fullWidth:!0,label:"Confirm password",placeholder:"Confirm your password",variant:"standard",size:"small",className:"mt-3",error:null===H||void 0===H?void 0:H.password2,helperText:null===H||void 0===H||null===(a=H.password2)||void 0===a?void 0:a.join("\n"),InputProps:{endAdornment:Object(Be.jsx)(ht.a,{position:"end",children:Object(Be.jsx)(nt.a,{size:"small",onClick:function(){return z("password"===F?"text":"password")},children:"password"===F?Object(Be.jsx)(mt.a,{}):Object(Be.jsx)(vt.a,{})})})}}),Object(Be.jsxs)("div",{className:"mt-2 d-flex",children:[Object(Be.jsx)(xt.a,{underline:"none",component:o.b,to:"/login",children:"Sign in"}),Object(Be.jsx)("div",{className:"flex-grow-1"})]}),Object(Be.jsx)(Ps.a,{loading:d,className:"mt-4",variant:"outlined",fullWidth:!0,onClick:D,children:"Sign up"})]}),Object(Be.jsx)(pt.a,{item:!0,xs:2})]})]})},yl=function(){var e=uc(),t=Object(l.h)();return Object(Be.jsxs)(bn.a,{className:e.sidebarContainer,component:"nav",children:[Object(Be.jsx)(bt.a,{className:"mt-4 mb-2",variant:"h6",children:"User profile settings"}),Object(Be.jsxs)(Jn.a,{children:[Object(Be.jsx)(jc,{selected:t.pathname.endsWith("/user/profile"),title:"Personal info",to:"/user/profile"}),Object(Be.jsx)(jc,{selected:t.pathname.endsWith("/user/tokens"),title:"API Tokens",to:"/user/tokens"}),Object(Be.jsx)(jc,{title:"Change password",selected:t.pathname.endsWith("/change-password")}),Object(Be.jsx)(jc,{title:"My actions",selected:t.pathname.endsWith("/user-actions")})]})]})},wl=function(e){var t=e.component,n=Object(yt.a)(e,["component"]),r=localStorage.getItem("token"),s=localStorage.getItem("user");return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(Hn,{drawer:Ol}),Object(Be.jsxs)(dt.a,{maxWidth:"xl",children:[Object(Be.jsx)(yl,{}),Object(Be.jsx)("div",{children:Object(Be.jsx)(l.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return r?Object(Be.jsx)(a.a.Fragment,{children:s?Object(Be.jsx)(t,Object(j.a)({},e)):Object(Be.jsx)(l.a,{to:{pathname:"/projects",state:{from:e.location}}})}):Object(Be.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})]})]})},kl=Object(i.b)((function(e){return{user:e.users.user}}),null)((function(e){var t=e.user,n=uc(),a=ut(),s=a.request,c=a.updateUser,i=Object(r.useState)(t),o=Object(je.a)(i,2),l=o[0],u=o[1];Object(r.useEffect)((function(){return u(t)}),[t]);var d=function(e,t){return u(Object(j.a)(Object(j.a)({},l),{},Object(_t.a)({},e,t.target.value)))},b=Object(r.useMemo)((function(){return(null===l||void 0===l?void 0:l.username)===(null===t||void 0===t?void 0:t.username)&&(null===l||void 0===l?void 0:l.email)===(null===t||void 0===t?void 0:t.email)}),[l,t]),p=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(l);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{className:n.contentContainer,children:[Object(Be.jsx)(Sc,{title:"Personal info"}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Ot.a,{value:null===l||void 0===l?void 0:l.username,onChange:function(e){return d("username",e)},label:"Username",variant:"standard",placeholder:"Family.Name",className:"w-50",inputProps:{maxLength:255}})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Ot.a,{value:null===l||void 0===l?void 0:l.email,onChange:function(e){return d("email",e)},label:"Email",variant:"standard",placeholder:"some@company.com",className:"w-50",inputProps:{maxLength:255}})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(bn.a,{className:"position-relative",children:Object(Be.jsx)(Ps.a,{onClick:p,loading:s,loadingPosition:"start",startIcon:Object(Be.jsx)(Is.a,{}),disabled:b,variant:"text",children:"Save changes"})})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(ft.a,{startIcon:Object(Be.jsx)(ua.a,{}),variant:"text",style:{color:"red"},children:"Delete account"})})]})})),Cl=a.a.createContext(null),Sl=function(e){var t=e.children,n=f+"api/v1/user/tokens/",a=ut().token,s=it().setAlert,c=Object(r.useState)([]),i=Object(je.a)(c,2),o=i[0],l=i[1],u=Object(r.useState)(!1),j=Object(je.a)(u,2),b=j[0],p=j[1],O=Object(r.useState)(!0),h=Object(je.a)(O,2),m=h[0],v=h[1];Object(r.useEffect)((function(){Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a,!e.t0){e.next=5;break}return e.next=4,x();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))()}),[a]);var x=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch(n,{headers:{Authorization:"Token ".concat(a)}}).then((function(e){return e.json()})).then(function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t),v(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,c;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,fetch(n,{method:"POST",headers:{Authorization:"Token ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:if(!(r=e.sent).ok){e.next=12;break}return e.next=7,r.json();case 7:c=e.sent,l([].concat(Object(d.a)(o),[c])),s({message:"API Token was successfully created",level:"success"}),e.next=13;break;case 12:s({message:"Error happened while creating token",level:"error"});case 13:p(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(He.a)(Le.a.mark((function e(t){var r,c;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n+"".concat(t,"/"),{method:"DELETE",headers:{Authorization:"Token ".concat(a)}});case 2:if(!(r=e.sent).ok){e.next=11;break}return l(o.filter((function(e){return e.id!==t}))),e.next=7,r.json();case 7:c=e.sent,s(c),e.next=12;break;case 11:s({message:"Error happened while deleting api token"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsx)(Cl.Provider,{value:{load:m,request:b,tokens:o,createToken:g,deleteToken:y},children:t})},ql=function(){var e=Object(r.useContext)(Cl);if(null==e)throw new Error("useApiTokens() called outside of a ApiTokensProvider?");return e},Rl=n(750),Tl=n(86),Nl=function(e){var t=e.token,n=e.onCopy,a=Object(jn.a)().palette,s=Object(r.useState)("python"),c=Object(je.a)(s,2),i=c[0],l=c[1];return Object(Be.jsxs)("div",{children:[Object(Be.jsx)(Ot.a,{value:t,fullWidth:!0,size:"small",label:"Your token",className:"mt-3",variant:"standard",helperText:"Copy your token",InputProps:{readOnly:!0,endAdornment:Object(Be.jsx)(ht.a,{position:"end",children:Object(Be.jsx)(da.CopyToClipboard,{text:t,onCopy:n,children:Object(Be.jsx)(nt.a,{size:"small",children:Object(Be.jsx)(la.a,{fontSize:"small"})})})})}}),Object(Be.jsxs)(bt.a,{variant:"body2",color:"inherit",className:"mt-3",children:["Now you are ready to integrate Lama Logger in your code. Go to"," ",Object(Be.jsx)(xt.a,{component:o.b,to:"/integrations",children:"integration"})," section"]}),Object(Be.jsxs)(pt.a,{container:!0,spacing:2,className:"mt-3",children:[Object(Be.jsx)(pt.a,{item:!0,xs:2,justify:"center",children:S.map((function(e,t){return Object(Be.jsx)(ft.a,{color:i===e.language?"primary":"inherit",fullWidth:!0,onClick:function(){return l(e.language)},className:"justify-content-start",startIcon:Object(Be.jsx)("img",{src:e.image,style:{width:24,height:24},alt:e.language}),children:e.label},t)}))}),Object(Be.jsx)(pt.a,{item:!0,xs:10,children:Object(Be.jsx)(Rl.a,{language:i,style:"dark"===a.mode?Tl.darcula:Tl.a11yLight,showLineNumbers:!0,children:'import LamaLogger from utils.logger\nlogger = LamaLogger(token="'.concat(t,'", project_id=1)')})})]})]})},El=function(e){var t=e.modal,n=e.setModal,s=it().setAlert,c=ql(),i=c.request,o=c.createToken,l=Object(r.useState)(""),u=Object(je.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)(null),p=Object(je.a)(b,2),O=p[0],h=p[1],f=function(){n(!1),h(null)},m=function(){var e=Object(He.a)(Le.a.mark((function e(){var t;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je();case 2:t=e.sent,o({name:d,token:t}).then((function(){h(t),j("")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){return s({message:"Token copied to clipboard",level:"success"})};return Object(Be.jsx)("div",{children:Object(Be.jsxs)(It.a,{fullWidth:!0,maxWidth:O?"md":"xs",open:t,"aria-labelledby":"form-dialog-title",disableScrollLock:!0,TransitionComponent:Ke,children:[Object(Be.jsx)(Pt.a,{id:"form-dialog-title",children:"New token"}),Object(Be.jsxs)(At.a,{children:[Object(Be.jsx)(Mt.a,{className:Jt.breakText,children:"Make sure to save your token some where, because you will not be able to view it again."}),O?Object(Be.jsx)(Nl,{token:O,onCopy:v}):Object(Be.jsx)(Ot.a,{value:d,onChange:function(e){return j(e.target.value)},fullWidth:!0,size:"small",label:"Token name",placeholder:"TokenName",className:"mt-3",variant:"standard",inputProps:{maxLength:255}})]}),Object(Be.jsx)(Ft.a,{children:O?Object(Be.jsx)(da.CopyToClipboard,{text:O,onCopy:v,children:Object(Be.jsx)(ft.a,{onClick:f,color:"primary",children:"Copy and close"})}):Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(ft.a,{onClick:f,color:"primary",children:"Cancel"}),Object(Be.jsx)(Ps.a,{color:"primary",loading:i,disabled:0===d.length,onClick:m,children:"Create"})]})})]})})},Il=Object(i.b)(null,{setConfirmAction:zt})((function(e){var t=e.token,n=e.setConfirmAction,r=ql().deleteToken;return Object(Be.jsxs)(zn.a,{divider:!0,children:[Object(Be.jsx)(Kn.a,{primary:t.name,secondary:Ze()(t.created).fromNow()}),Object(Be.jsx)(br.a,{children:Object(Be.jsx)(nt.a,{size:"small",onClick:function(){n({modal:!0,title:"Delete api token?",description:'Are you sure you want to delete "'.concat(t.name,'" token? ')+"You will not able to restore it later and all integrations with this token will no longer work",confirmButton:"Delete",action:function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})},children:Object(Be.jsx)(Xa.a,{})})})]})})),Pl=Object(i.b)((function(e){return{tokens:e.users.tokens}}),null)((function(){var e=uc(),t=ql(),n=t.load,a=t.tokens,s=Object(r.useState)(!1),c=Object(je.a)(s,2),i=c[0],o=c[1];return Object(Be.jsxs)("div",{className:e.contentContainer,children:[Object(Be.jsx)(Sc,{title:"API Tokens"}),Object(Be.jsx)(bt.a,{variant:"body2",className:"mt-3",children:"API tokens can be used for integrations and creating requests. Make sure to save your token some where, because you will not be able to view it again."}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:n?Object(Be.jsx)(Ko,{}):Object(Be.jsx)(Jn.a,{dense:!0,children:a.map((function(e){return Object(Be.jsx)(Il,{token:e},e.id)}))})}),Object(Be.jsx)(Wc,{title:"NEW TOKEN",action:function(){return o(!0)}}),Object(Be.jsx)(El,{modal:i,setModal:o})]})})),Al=function(){return Object(Be.jsxs)(l.d,{children:[Object(Be.jsx)(wl,{exact:!0,path:"/user/profile",component:kl}),Object(Be.jsx)(wl,{exact:!0,path:"/user/tokens",component:function(e){return Object(Be.jsx)(Sl,{children:Object(Be.jsx)(Pl,Object(j.a)({},e))})}})]})},Ml=n(742),Fl={imageContainer:{width:50,height:50,marginRight:"auto",marginLeft:"auto"}},zl=function(e){var t=e.lang,n=Object(l.g)();return Object(Be.jsx)(pt.a,{item:!0,xs:12,sm:6,md:3,children:Object(Be.jsxs)(ao.a,{children:[Object(Be.jsx)(ll.a,{title:Object(Be.jsx)(bt.a,{variant:"subtitle2",children:t.label})}),Object(Be.jsx)(so.a,{className:"d-flex",children:Object(Be.jsx)("img",{src:t.image,style:Fl.imageContainer})}),Object(Be.jsxs)(io.a,{className:"d-flex",children:[Object(Be.jsx)(ft.a,{size:"small",onClick:function(){return n.push("/integrations/".concat(t.language))},children:"View code"}),Object(Be.jsx)("div",{className:"flex-grow-1"}),Object(Be.jsx)(nt.a,{children:Object(Be.jsx)(Ml.a,{})})]})]})})},_l=function(){var e=Object(r.useState)(""),t=Object(je.a)(e,2),n=t[0],a=t[1];return Object(Be.jsxs)(dt.a,{maxWidth:"xl",children:[Object(Be.jsx)(ol,{title:"Integrations",search:n,setSearch:a}),Object(Be.jsx)("div",{className:"d-flex mt-3 mb-3",children:Object(Be.jsx)(pt.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start",children:S.map((function(e,t){return Object(Be.jsx)(zl,{lang:e},t)}))})})]})},Ll=function(){var e,t,n,a=Object(l.i)().language,s=Object(jn.a)().palette,c=Object(r.useMemo)((function(){return S.find((function(e){return e.language===a}))}),[a]);return Object(Be.jsx)(dt.a,{maxWidth:"md",children:Object(Be.jsxs)("div",{className:"mt-5 mb-5",children:[Object(Be.jsxs)(bt.a,{variant:"h5",children:[c.label,Object(Be.jsx)("img",{className:"ms-2",src:c.image,style:{width:30,height:30}})]}),Object(Be.jsx)(bt.a,{className:"mt-3",children:"First of all we have to define sdk to send logs to LamaLogger. So some where in your utils/settings/integrations folder create logger.py and past following code:"}),Object(Be.jsx)("div",{className:"mt-3",children:Object(Be.jsx)(Rl.a,{language:a,style:"dark"===s.mode?Tl.darcula:Tl.a11yLight,showLineNumbers:!0,children:null===c||void 0===c||null===(e=c.template)||void 0===e?void 0:e.sdk})}),Object(Be.jsx)(bt.a,{children:"Some where in your project root initialize logger"}),Object(Be.jsx)("div",{className:"mt-3",children:Object(Be.jsx)(Rl.a,{language:a,style:"dark"===s.mode?Tl.darcula:Tl.a11yLight,showLineNumbers:!0,children:null===c||void 0===c||null===(t=c.template)||void 0===t?void 0:t.logger})}),Object(Be.jsx)(bt.a,{children:"And finally you can define api methods that you need. And also do not forget about allure template, because we want to see our logs in allure too. For example api methods might look like:"}),Object(Be.jsx)("div",{className:"mt-3",children:Object(Be.jsx)(Rl.a,{language:a,style:"dark"===s.mode?Tl.darcula:Tl.a11yLight,showLineNumbers:!0,children:null===c||void 0===c||null===(n=c.template)||void 0===n?void 0:n.methods})}),Object(Be.jsx)(bt.a,{children:"That's all, now your logs will appear in your project"})]})})},Hl=function(){return Object(Be.jsxs)(l.d,{children:[Object(Be.jsx)(hl,{exact:!0,path:"/integrations",component:_l}),Object(Be.jsx)(hl,{exact:!0,path:"/integrations/:language",component:Ll})]})},Wl=Object(i.b)((function(e){return{userSettings:e.users.userSettings}}),null)((function(e){var t=e.userSettings,n=uc(),a=xl(),s=a.request,c=a.updateUserSettings,i=Object(r.useState)(null===t||void 0===t?void 0:t.jsonEditor),o=Object(je.a)(i,2),l=o[0],u=o[1];Object(r.useEffect)((function(){return u(null===t||void 0===t?void 0:t.jsonEditor)}),[null===t||void 0===t?void 0:t.jsonEditor]);var d=Object(r.useMemo)((function(){return JSON.stringify(null===t||void 0===t?void 0:t.jsonEditor)===JSON.stringify(l)}),[null===t||void 0===t?void 0:t.jsonEditor,l]),b=function(){var e=Object(He.a)(Le.a.mark((function e(t,n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u(Object(j.a)(Object(j.a)({},l),{},Object(_t.a)({},n,t))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({jsonEditor:l});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{className:n.contentContainer,children:[Object(Be.jsx)(Sc,{title:"Json editor settings"}),Object(Be.jsx)(bt.a,{className:"mt-3",children:"In this section you can change settings of json editor"}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(Ot.a,{type:"number",value:(null===l||void 0===l?void 0:l.tabSize)||1,onChange:function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(parseInt(t.target.value),"tabSize");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),label:"Editor tab size",variant:"standard",placeholder:"2 by default",className:"w-50",helperText:"Number of blanks from left edge to character"})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsxs)(gs.a,{children:[Object(Be.jsx)(ys.a,{control:Object(Be.jsx)(Zr.a,{onChange:function(){var e=Object(He.a)(Le.a.mark((function e(t,n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n,"enableBasicAutocompletion");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),label:"Enable Basic Autocomplete",checked:null===l||void 0===l?void 0:l.enableBasicAutocompletion}),Object(Be.jsx)(ys.a,{control:Object(Be.jsx)(Zr.a,{onChange:function(){var e=Object(He.a)(Le.a.mark((function e(t,n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n,"enableLiveAutocompletion");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),label:"Enable Live Autocomplete",checked:null===l||void 0===l?void 0:l.enableLiveAutocompletion}),Object(Be.jsx)(ys.a,{control:Object(Be.jsx)(Zr.a,{onChange:function(){var e=Object(He.a)(Le.a.mark((function e(t,n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n,"showGutter");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),label:"Show Gutter",checked:null===l||void 0===l?void 0:l.showGutter}),Object(Be.jsx)(ys.a,{control:Object(Be.jsx)(Zr.a,{onChange:function(){var e=Object(He.a)(Le.a.mark((function e(t,n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n,"highlightActiveLine");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),label:"Highlight Active Line",checked:null===l||void 0===l?void 0:l.highlightActiveLine}),Object(Be.jsx)(ys.a,{control:Object(Be.jsx)(Zr.a,{onChange:function(){var e=Object(He.a)(Le.a.mark((function e(t,n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n,"enableSnippets");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),label:"Enable Snippets",checked:null===l||void 0===l?void 0:l.enableSnippets}),Object(Be.jsx)(ys.a,{control:Object(Be.jsx)(Zr.a,{onChange:function(){var e=Object(He.a)(Le.a.mark((function e(t,n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n,"showLineNumbers");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),label:"Show Line Numbers",checked:null===l||void 0===l?void 0:l.showLineNumbers})]})}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3",children:Object(Be.jsx)(bn.a,{className:"position-relative",children:Object(Be.jsx)(Ps.a,{onClick:p,loading:s,loadingPosition:"start",startIcon:Object(Be.jsx)(Is.a,{}),disabled:d,variant:"text",children:"Save changes"})})})]})})),Dl=function(){var e=uc(),t=Object(l.h)(),n=Object(r.useState)({customRequests:!1}),a=Object(je.a)(n,2),s=a[0],c=a[1];Object(r.useEffect)((function(){var e=function(e){var t={"/settings/json-editor":"customRequests","/settings/headers":"customRequests","/settings/theme":"theme"};return t[Object.keys(t).find((function(t){return e.startsWith(t)}))]}(t.pathname);i(e)}),[]);var i=function(e){return c(Object(j.a)(Object(j.a)({},s),{},Object(_t.a)({},e,!s[e])))};return Object(Be.jsxs)(bn.a,{className:e.sidebarContainer,component:"nav",children:[Object(Be.jsx)(bt.a,{className:"mt-4 mb-2",variant:"h6",children:"Settings"}),Object(Be.jsxs)(Jn.a,{className:e.sidebarListContainer,children:[Object(Be.jsx)(jc,{selected:t.pathname.endsWith("/settings/theme"),to:"/settings/theme",title:"Theme"}),Object(Be.jsxs)(zn.a,{button:!0,onClick:function(){return i("customRequests")},children:[Object(Be.jsx)(Kn.a,{primary:"Custom requests"}),s.users?Object(Be.jsx)(lc.a,{}):Object(Be.jsx)(rs.a,{})]}),Object(Be.jsx)(ea.a,{component:"li",in:s.customRequests,timeout:"auto",unmountOnExit:!0,children:Object(Be.jsxs)(Jn.a,{disablePadding:!0,children:[Object(Be.jsx)(jc,{sx:{pl:4},to:"/settings/json-editor",title:"Json editor",selected:t.pathname.endsWith("/settings/json-editor")}),Object(Be.jsx)(jc,{sx:{pl:4},to:"/settings/headers",title:"Headers",selected:t.pathname.endsWith("/settings/headers")})]})})]})]})},Ul=function(e){var t=e.component,n=Object(yt.a)(e,["component"]),r=localStorage.getItem("token"),s=localStorage.getItem("user");return Object(Be.jsxs)(a.a.Fragment,{children:[Object(Be.jsx)(Hn,{drawer:Ol}),Object(Be.jsxs)(dt.a,{maxWidth:"xl",children:[Object(Be.jsx)(Dl,{}),Object(Be.jsx)("div",{children:Object(Be.jsx)(l.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return r?Object(Be.jsx)(a.a.Fragment,{children:s?Object(Be.jsx)(t,Object(j.a)({},e)):Object(Be.jsx)(l.a,{to:{pathname:"/projects",state:{from:e.location}}})}):Object(Be.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})]})]})},Bl=Object(i.b)((function(e){return{userSettings:e.users.userSettings}}),null)((function(e){var t=e.userSettings,n=uc(),a=xl(),s=a.request,c=a.updateUserSettings,i=Object(r.useState)(null===t||void 0===t?void 0:t.customRequestsHeaders),o=Object(je.a)(i,2),l=o[0],u=o[1];Object(r.useEffect)((function(){return u(null===t||void 0===t?void 0:t.customRequestsHeaders)}),[null===t||void 0===t?void 0:t.customRequestsHeaders]);var b=Object(r.useMemo)((function(){return JSON.stringify(null===t||void 0===t?void 0:t.customRequestsHeaders)===JSON.stringify(l)}),[null===t||void 0===t?void 0:t.customRequestsHeaders,l]),p=function(){var e=Object(He.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({customRequestsHeaders:l});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=Object(r.useCallback)(Object(He.a)(Le.a.mark((function e(){var t,n,r,a,s=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:"keys",r=s.length>1?s[1]:void 0,a=s.length>2?s[2]:void 0,e.abrupt("return",u(Object(j.a)(Object(j.a)({},l),{},Object(_t.a)({},n,null===(t=l[n])||void 0===t?void 0:t.map((function(e,t){return t===r?a:e}))))));case 4:case"end":return e.stop()}}),e)}))),[l]),h=function(){var e=Object(He.a)(Le.a.mark((function e(){var t,n=arguments;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"keys",e.abrupt("return",u(Object(j.a)(Object(j.a)({},l),{},Object(_t.a)({},t,[].concat(Object(d.a)(l[t]),[""])))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(He.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u(Object(j.a)(Object(j.a)({},l),{},{disableAutocomplete:t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{className:n.contentContainer,children:[Object(Be.jsx)(Sc,{title:"Custom requests headers"}),Object(Be.jsx)(bt.a,{className:"mt-3",children:"In this section you can change or add new headers for quick use"}),Object(Be.jsx)(ys.a,{sx:{mt:2},control:Object(Be.jsx)(Zr.a,{onChange:function(){var e=Object(He.a)(Le.a.mark((function e(t,n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),label:"Disable headers options",checked:null===l||void 0===l?void 0:l.disableAutocomplete}),Object(Be.jsx)(To,{filterHeaders:l,onNewHeader:h,onRemoveHeader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keys",t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)(l[e]);n.splice(t,1),u(Object(j.a)(Object(j.a)({},l),{},Object(_t.a)({},e,Object(d.a)(n))))},onChangeHeader:O}),Object(Be.jsx)(pt.a,{item:!0,xs:12,className:"mt-3 mb-5",children:Object(Be.jsx)(bn.a,{className:"position-relative",children:Object(Be.jsx)(Ps.a,{onClick:p,loading:s,loadingPosition:"start",startIcon:Object(Be.jsx)(Is.a,{}),disabled:b,variant:"text",children:"Save changes"})})})]})})),Jl=function(){return Object(Be.jsxs)(l.d,{children:[Object(Be.jsx)(Ul,{exact:!0,path:"/settings/theme",component:Wl}),Object(Be.jsx)(Ul,{exact:!0,path:"/settings/json-editor",component:Wl}),Object(Be.jsx)(Ul,{exact:!0,path:"/settings/headers",component:Bl})]})},Yl=Object(u.e)(et,Object(u.a)(tt.a)),Gl=function(){return Object(Be.jsx)(o.a,{children:Object(Be.jsx)(Nt,{store:Yl,children:Object(Be.jsxs)("div",{className:"d-flex",children:[Object(Be.jsxs)(l.d,{children:[Object(Be.jsx)(wt,{exact:!0,path:"/login",component:gt}),Object(Be.jsx)(wt,{exact:!0,path:"/registration",component:gl})]}),Object(Be.jsx)(fl,{}),Object(Be.jsx)(Al,{}),Object(Be.jsx)(Jl,{}),Object(Be.jsx)(Hl,{}),Object(Be.jsx)(cl,{store:Yl}),Object(Be.jsx)(sn,{})]})})})};c.a.render(Object(Be.jsx)(a.a.StrictMode,{children:Object(Be.jsx)(un.b,{dateAdapter:dn.a,children:Object(Be.jsx)(i.a,{store:Yl,children:Object(Be.jsx)(ln,{children:Object(Be.jsx)(ct,{children:Object(Be.jsx)(lt,{store:Yl,children:Object(Be.jsx)(vl,{store:Yl,children:Object(Be.jsx)(Gl,{})})})})})})})}),document.getElementById("root"))}},[[621,1,2]]]);